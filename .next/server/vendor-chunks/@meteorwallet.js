"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@meteorwallet";
exports.ids = ["vendor-chunks/@meteorwallet"];
exports.modules = {

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_app_core/theme/constants_theme.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_app_core/theme/constants_theme.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.THEME_SMALL_WINDOW_WIDTH_MAX = exports.THEME_CONSTANT_BADGE_GREY_COLOR = exports.THEME_CONSTANT_GREEN_COLOR = exports.THEME_CONSTANT_RED_COLOR = exports.THEME_CONSTANT_COLOR_DARK = exports.THEME_CONSTANT_COLOR_BRAND = exports.SIGN_POPUP_HEIGHT = exports.SIGN_POPUP_WIDTH = void 0;\r\nexports.SIGN_POPUP_WIDTH = 390;\r\nexports.SIGN_POPUP_HEIGHT = 650;\r\nexports.THEME_CONSTANT_COLOR_BRAND = \"#471be8\";\r\nexports.THEME_CONSTANT_COLOR_DARK = \"#101046\";\r\nexports.THEME_CONSTANT_RED_COLOR = \"#e25252\";\r\nexports.THEME_CONSTANT_GREEN_COLOR = \"#8bdaa1\";\r\nexports.THEME_CONSTANT_BADGE_GREY_COLOR = \"rgba(116,117,126,0.67)\";\r\nexports.THEME_SMALL_WINDOW_WIDTH_MAX = 600;\r\n//# sourceMappingURL=constants_theme.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3ItY29tbW9uL3NyYy9tb2R1bGVzX2FwcF9jb3JlL3RoZW1lL2NvbnN0YW50c190aGVtZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQ0FBb0MsR0FBRyx1Q0FBdUMsR0FBRyxrQ0FBa0MsR0FBRyxnQ0FBZ0MsR0FBRyxpQ0FBaUMsR0FBRyxrQ0FBa0MsR0FBRyx5QkFBeUIsR0FBRyx3QkFBd0I7QUFDdFIsd0JBQXdCO0FBQ3hCLHlCQUF5QjtBQUN6QixrQ0FBa0M7QUFDbEMsaUNBQWlDO0FBQ2pDLGdDQUFnQztBQUNoQyxrQ0FBa0M7QUFDbEMsdUNBQXVDO0FBQ3ZDLG9DQUFvQztBQUNwQyIsInNvdXJjZXMiOlsid2VicGFjazovL21hcmtldGJhc2VtaW50Ly4vbm9kZV9tb2R1bGVzL0BtZXRlb3J3YWxsZXQvc2RrL2Rpc3QvbWV0ZW9yLWNvbW1vbi9zcmMvbW9kdWxlc19hcHBfY29yZS90aGVtZS9jb25zdGFudHNfdGhlbWUuanM/NmNkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlRIRU1FX1NNQUxMX1dJTkRPV19XSURUSF9NQVggPSBleHBvcnRzLlRIRU1FX0NPTlNUQU5UX0JBREdFX0dSRVlfQ09MT1IgPSBleHBvcnRzLlRIRU1FX0NPTlNUQU5UX0dSRUVOX0NPTE9SID0gZXhwb3J0cy5USEVNRV9DT05TVEFOVF9SRURfQ09MT1IgPSBleHBvcnRzLlRIRU1FX0NPTlNUQU5UX0NPTE9SX0RBUksgPSBleHBvcnRzLlRIRU1FX0NPTlNUQU5UX0NPTE9SX0JSQU5EID0gZXhwb3J0cy5TSUdOX1BPUFVQX0hFSUdIVCA9IGV4cG9ydHMuU0lHTl9QT1BVUF9XSURUSCA9IHZvaWQgMDtcclxuZXhwb3J0cy5TSUdOX1BPUFVQX1dJRFRIID0gMzkwO1xyXG5leHBvcnRzLlNJR05fUE9QVVBfSEVJR0hUID0gNjUwO1xyXG5leHBvcnRzLlRIRU1FX0NPTlNUQU5UX0NPTE9SX0JSQU5EID0gXCIjNDcxYmU4XCI7XHJcbmV4cG9ydHMuVEhFTUVfQ09OU1RBTlRfQ09MT1JfREFSSyA9IFwiIzEwMTA0NlwiO1xyXG5leHBvcnRzLlRIRU1FX0NPTlNUQU5UX1JFRF9DT0xPUiA9IFwiI2UyNTI1MlwiO1xyXG5leHBvcnRzLlRIRU1FX0NPTlNUQU5UX0dSRUVOX0NPTE9SID0gXCIjOGJkYWExXCI7XHJcbmV4cG9ydHMuVEhFTUVfQ09OU1RBTlRfQkFER0VfR1JFWV9DT0xPUiA9IFwicmdiYSgxMTYsMTE3LDEyNiwwLjY3KVwiO1xyXG5leHBvcnRzLlRIRU1FX1NNQUxMX1dJTkRPV19XSURUSF9NQVggPSA2MDA7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50c190aGVtZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_app_core/theme/constants_theme.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_external/near/types/near_basic_types.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_external/near/types/near_basic_types.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.ENearNetworkSuffix = exports.ENearNetwork = void 0;\r\nvar ENearNetwork;\r\n(function (ENearNetwork) {\r\n    ENearNetwork[\"localnet\"] = \"localnet\";\r\n    ENearNetwork[\"testnet\"] = \"testnet\";\r\n    ENearNetwork[\"betanet\"] = \"betanet\";\r\n    ENearNetwork[\"mainnet\"] = \"mainnet\";\r\n})(ENearNetwork = exports.ENearNetwork || (exports.ENearNetwork = {}));\r\nvar ENearNetworkSuffix;\r\n(function (ENearNetworkSuffix) {\r\n    ENearNetworkSuffix[\"testnet\"] = \".testnet\";\r\n    ENearNetworkSuffix[\"mainnet\"] = \".near\";\r\n})(ENearNetworkSuffix = exports.ENearNetworkSuffix || (exports.ENearNetworkSuffix = {}));\r\n//# sourceMappingURL=near_basic_types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3ItY29tbW9uL3NyYy9tb2R1bGVzX2V4dGVybmFsL25lYXIvdHlwZXMvbmVhcl9iYXNpY190eXBlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEIsR0FBRyxvQkFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwQ0FBMEMsb0JBQW9CLEtBQUs7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHNEQUFzRCwwQkFBMEIsS0FBSztBQUN0RiIsInNvdXJjZXMiOlsid2VicGFjazovL21hcmtldGJhc2VtaW50Ly4vbm9kZV9tb2R1bGVzL0BtZXRlb3J3YWxsZXQvc2RrL2Rpc3QvbWV0ZW9yLWNvbW1vbi9zcmMvbW9kdWxlc19leHRlcm5hbC9uZWFyL3R5cGVzL25lYXJfYmFzaWNfdHlwZXMuanM/MTNjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkVOZWFyTmV0d29ya1N1ZmZpeCA9IGV4cG9ydHMuRU5lYXJOZXR3b3JrID0gdm9pZCAwO1xyXG52YXIgRU5lYXJOZXR3b3JrO1xyXG4oZnVuY3Rpb24gKEVOZWFyTmV0d29yaykge1xyXG4gICAgRU5lYXJOZXR3b3JrW1wibG9jYWxuZXRcIl0gPSBcImxvY2FsbmV0XCI7XHJcbiAgICBFTmVhck5ldHdvcmtbXCJ0ZXN0bmV0XCJdID0gXCJ0ZXN0bmV0XCI7XHJcbiAgICBFTmVhck5ldHdvcmtbXCJiZXRhbmV0XCJdID0gXCJiZXRhbmV0XCI7XHJcbiAgICBFTmVhck5ldHdvcmtbXCJtYWlubmV0XCJdID0gXCJtYWlubmV0XCI7XHJcbn0pKEVOZWFyTmV0d29yayA9IGV4cG9ydHMuRU5lYXJOZXR3b3JrIHx8IChleHBvcnRzLkVOZWFyTmV0d29yayA9IHt9KSk7XHJcbnZhciBFTmVhck5ldHdvcmtTdWZmaXg7XHJcbihmdW5jdGlvbiAoRU5lYXJOZXR3b3JrU3VmZml4KSB7XHJcbiAgICBFTmVhck5ldHdvcmtTdWZmaXhbXCJ0ZXN0bmV0XCJdID0gXCIudGVzdG5ldFwiO1xyXG4gICAgRU5lYXJOZXR3b3JrU3VmZml4W1wibWFpbm5ldFwiXSA9IFwiLm5lYXJcIjtcclxufSkoRU5lYXJOZXR3b3JrU3VmZml4ID0gZXhwb3J0cy5FTmVhck5ldHdvcmtTdWZmaXggfHwgKGV4cG9ydHMuRU5lYXJOZXR3b3JrU3VmZml4ID0ge30pKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmVhcl9iYXNpY190eXBlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_external/near/types/near_basic_types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_feature/dapp_connect/error_handling_dappConnect.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_feature/dapp_connect/error_handling_dappConnect.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.getExternalActionErrorMessageForEndTag = exports.EDappActionErrorTag = void 0;\r\nvar EDappActionErrorTag;\r\n(function (EDappActionErrorTag) {\r\n    EDappActionErrorTag[\"NEW_ACTION_STARTED\"] = \"NEW_ACTION_STARTED\";\r\n    EDappActionErrorTag[\"INCOMPLETE_ACTION\"] = \"INCOMPLETE_ACTION\";\r\n    EDappActionErrorTag[\"NO_ACCOUNTS\"] = \"NO_ACCOUNTS\";\r\n    EDappActionErrorTag[\"WINDOW_CLOSED\"] = \"WINDOW_CLOSED\";\r\n    EDappActionErrorTag[\"USER_CANCELLED\"] = \"USER_CANCELLED\";\r\n    EDappActionErrorTag[\"POPUP_WINDOW_REFUSED\"] = \"POPUP_WINDOW_REFUSED\";\r\n    EDappActionErrorTag[\"POPUP_WINDOW_OPEN_FAILED\"] = \"POPUP_WINDOW_OPEN_FAILED\";\r\n})(EDappActionErrorTag = exports.EDappActionErrorTag || (exports.EDappActionErrorTag = {}));\r\nconst en = {\r\n    [EDappActionErrorTag.WINDOW_CLOSED]: \"User closed the window\",\r\n    [EDappActionErrorTag.INCOMPLETE_ACTION]: \"User didn't complete the action\",\r\n    [EDappActionErrorTag.NEW_ACTION_STARTED]: \"A new action was started by the user, old action failed\",\r\n    [EDappActionErrorTag.POPUP_WINDOW_OPEN_FAILED]: \"Popup window failed to open\",\r\n    [EDappActionErrorTag.POPUP_WINDOW_REFUSED]: \"User refused to allow the popup window to open\",\r\n    [EDappActionErrorTag.USER_CANCELLED]: \"User cancelled the action\",\r\n    [EDappActionErrorTag.NO_ACCOUNTS]: \"No Meteor account found- try again after creating one\",\r\n};\r\nfunction getExternalActionErrorMessageForEndTag(tag) {\r\n    return en[tag] ?? \"An unknown error occurred\";\r\n}\r\nexports.getExternalActionErrorMessageForEndTag = getExternalActionErrorMessageForEndTag;\r\n//# sourceMappingURL=error_handling_dappConnect.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3ItY29tbW9uL3NyYy9tb2R1bGVzX2ZlYXR1cmUvZGFwcF9jb25uZWN0L2Vycm9yX2hhbmRsaW5nX2RhcHBDb25uZWN0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhDQUE4QyxHQUFHLDJCQUEyQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdEQUF3RCwyQkFBMkIsS0FBSztBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXJrZXRiYXNlbWludC8uL25vZGVfbW9kdWxlcy9AbWV0ZW9yd2FsbGV0L3Nkay9kaXN0L21ldGVvci1jb21tb24vc3JjL21vZHVsZXNfZmVhdHVyZS9kYXBwX2Nvbm5lY3QvZXJyb3JfaGFuZGxpbmdfZGFwcENvbm5lY3QuanM/Y2U2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmdldEV4dGVybmFsQWN0aW9uRXJyb3JNZXNzYWdlRm9yRW5kVGFnID0gZXhwb3J0cy5FRGFwcEFjdGlvbkVycm9yVGFnID0gdm9pZCAwO1xyXG52YXIgRURhcHBBY3Rpb25FcnJvclRhZztcclxuKGZ1bmN0aW9uIChFRGFwcEFjdGlvbkVycm9yVGFnKSB7XHJcbiAgICBFRGFwcEFjdGlvbkVycm9yVGFnW1wiTkVXX0FDVElPTl9TVEFSVEVEXCJdID0gXCJORVdfQUNUSU9OX1NUQVJURURcIjtcclxuICAgIEVEYXBwQWN0aW9uRXJyb3JUYWdbXCJJTkNPTVBMRVRFX0FDVElPTlwiXSA9IFwiSU5DT01QTEVURV9BQ1RJT05cIjtcclxuICAgIEVEYXBwQWN0aW9uRXJyb3JUYWdbXCJOT19BQ0NPVU5UU1wiXSA9IFwiTk9fQUNDT1VOVFNcIjtcclxuICAgIEVEYXBwQWN0aW9uRXJyb3JUYWdbXCJXSU5ET1dfQ0xPU0VEXCJdID0gXCJXSU5ET1dfQ0xPU0VEXCI7XHJcbiAgICBFRGFwcEFjdGlvbkVycm9yVGFnW1wiVVNFUl9DQU5DRUxMRURcIl0gPSBcIlVTRVJfQ0FOQ0VMTEVEXCI7XHJcbiAgICBFRGFwcEFjdGlvbkVycm9yVGFnW1wiUE9QVVBfV0lORE9XX1JFRlVTRURcIl0gPSBcIlBPUFVQX1dJTkRPV19SRUZVU0VEXCI7XHJcbiAgICBFRGFwcEFjdGlvbkVycm9yVGFnW1wiUE9QVVBfV0lORE9XX09QRU5fRkFJTEVEXCJdID0gXCJQT1BVUF9XSU5ET1dfT1BFTl9GQUlMRURcIjtcclxufSkoRURhcHBBY3Rpb25FcnJvclRhZyA9IGV4cG9ydHMuRURhcHBBY3Rpb25FcnJvclRhZyB8fCAoZXhwb3J0cy5FRGFwcEFjdGlvbkVycm9yVGFnID0ge30pKTtcclxuY29uc3QgZW4gPSB7XHJcbiAgICBbRURhcHBBY3Rpb25FcnJvclRhZy5XSU5ET1dfQ0xPU0VEXTogXCJVc2VyIGNsb3NlZCB0aGUgd2luZG93XCIsXHJcbiAgICBbRURhcHBBY3Rpb25FcnJvclRhZy5JTkNPTVBMRVRFX0FDVElPTl06IFwiVXNlciBkaWRuJ3QgY29tcGxldGUgdGhlIGFjdGlvblwiLFxyXG4gICAgW0VEYXBwQWN0aW9uRXJyb3JUYWcuTkVXX0FDVElPTl9TVEFSVEVEXTogXCJBIG5ldyBhY3Rpb24gd2FzIHN0YXJ0ZWQgYnkgdGhlIHVzZXIsIG9sZCBhY3Rpb24gZmFpbGVkXCIsXHJcbiAgICBbRURhcHBBY3Rpb25FcnJvclRhZy5QT1BVUF9XSU5ET1dfT1BFTl9GQUlMRURdOiBcIlBvcHVwIHdpbmRvdyBmYWlsZWQgdG8gb3BlblwiLFxyXG4gICAgW0VEYXBwQWN0aW9uRXJyb3JUYWcuUE9QVVBfV0lORE9XX1JFRlVTRURdOiBcIlVzZXIgcmVmdXNlZCB0byBhbGxvdyB0aGUgcG9wdXAgd2luZG93IHRvIG9wZW5cIixcclxuICAgIFtFRGFwcEFjdGlvbkVycm9yVGFnLlVTRVJfQ0FOQ0VMTEVEXTogXCJVc2VyIGNhbmNlbGxlZCB0aGUgYWN0aW9uXCIsXHJcbiAgICBbRURhcHBBY3Rpb25FcnJvclRhZy5OT19BQ0NPVU5UU106IFwiTm8gTWV0ZW9yIGFjY291bnQgZm91bmQtIHRyeSBhZ2FpbiBhZnRlciBjcmVhdGluZyBvbmVcIixcclxufTtcclxuZnVuY3Rpb24gZ2V0RXh0ZXJuYWxBY3Rpb25FcnJvck1lc3NhZ2VGb3JFbmRUYWcodGFnKSB7XHJcbiAgICByZXR1cm4gZW5bdGFnXSA/PyBcIkFuIHVua25vd24gZXJyb3Igb2NjdXJyZWRcIjtcclxufVxyXG5leHBvcnRzLmdldEV4dGVybmFsQWN0aW9uRXJyb3JNZXNzYWdlRm9yRW5kVGFnID0gZ2V0RXh0ZXJuYWxBY3Rpb25FcnJvck1lc3NhZ2VGb3JFbmRUYWc7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yX2hhbmRsaW5nX2RhcHBDb25uZWN0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_feature/dapp_connect/error_handling_dappConnect.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_feature/dapp_connect/types_dappConnect.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_feature/dapp_connect/types_dappConnect.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.EDappActionConnectionStatus = exports.EDappActionSource = exports.EMeteorInjectedFeature = exports.EMeteorExtensionDirectActionType = exports.EWalletExternalActionStatus = exports.EWalletExternalAction_SignIn_AccessType = exports.EMeteorWalletSignInType = exports.EExternalActionType = exports.MeteorActionError = void 0;\r\nconst error_handling_dappConnect_1 = __webpack_require__(/*! ./error_handling_dappConnect */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_feature/dapp_connect/error_handling_dappConnect.js\");\r\nclass MeteorActionError extends Error {\r\n    constructor(reason, previousError) {\r\n        super();\r\n        if (reason.message == null) {\r\n            reason.message = (0, error_handling_dappConnect_1.getExternalActionErrorMessageForEndTag)(reason.endTags?.[reason.endTags.length - 1] ?? \"unknown\");\r\n        }\r\n        this._reason = reason;\r\n        this.message = reason.message;\r\n        this.name = \"MeteorActionError\";\r\n        this.cause = previousError;\r\n    }\r\n}\r\nexports.MeteorActionError = MeteorActionError;\r\nvar EExternalActionType;\r\n(function (EExternalActionType) {\r\n    EExternalActionType[\"login\"] = \"login\";\r\n    EExternalActionType[\"sign\"] = \"sign\";\r\n    EExternalActionType[\"logout\"] = \"logout\";\r\n    EExternalActionType[\"verify_owner\"] = \"verify_owner\";\r\n    EExternalActionType[\"keypom_claim\"] = \"keypom_claim\";\r\n    EExternalActionType[\"sign_message\"] = \"sign_message\";\r\n})(EExternalActionType = exports.EExternalActionType || (exports.EExternalActionType = {}));\r\nvar EMeteorWalletSignInType;\r\n(function (EMeteorWalletSignInType) {\r\n    EMeteorWalletSignInType[\"ALL_METHODS\"] = \"ALL_METHODS\";\r\n    EMeteorWalletSignInType[\"SELECTED_METHODS\"] = \"SELECTED_METHODS\";\r\n    EMeteorWalletSignInType[\"FULL_ACCESS\"] = \"FULL_ACCESS\";\r\n})(EMeteorWalletSignInType = exports.EMeteorWalletSignInType || (exports.EMeteorWalletSignInType = {}));\r\nvar EWalletExternalAction_SignIn_AccessType;\r\n(function (EWalletExternalAction_SignIn_AccessType) {\r\n    EWalletExternalAction_SignIn_AccessType[\"FULL_ACCESS\"] = \"fullAccess\";\r\n    EWalletExternalAction_SignIn_AccessType[\"LIMITED_ACCESS\"] = \"limitedAccess\";\r\n})(EWalletExternalAction_SignIn_AccessType = exports.EWalletExternalAction_SignIn_AccessType || (exports.EWalletExternalAction_SignIn_AccessType = {}));\r\nvar EWalletExternalActionStatus;\r\n(function (EWalletExternalActionStatus) {\r\n    EWalletExternalActionStatus[\"UNCONFIRMED\"] = \"UNCONFIRMED\";\r\n    EWalletExternalActionStatus[\"PENDING\"] = \"PENDING\";\r\n    EWalletExternalActionStatus[\"SUCCESS\"] = \"SUCCESS\";\r\n    EWalletExternalActionStatus[\"FAILURE\"] = \"FAILURE\";\r\n})(EWalletExternalActionStatus = exports.EWalletExternalActionStatus || (exports.EWalletExternalActionStatus = {}));\r\nvar EMeteorExtensionDirectActionType;\r\n(function (EMeteorExtensionDirectActionType) {\r\n    EMeteorExtensionDirectActionType[\"check_sync_status\"] = \"check_sync_status\";\r\n    EMeteorExtensionDirectActionType[\"sync_accounts\"] = \"sync_accounts\";\r\n    EMeteorExtensionDirectActionType[\"open_page\"] = \"open_page\";\r\n})(EMeteorExtensionDirectActionType = exports.EMeteorExtensionDirectActionType || (exports.EMeteorExtensionDirectActionType = {}));\r\nvar EMeteorInjectedFeature;\r\n(function (EMeteorInjectedFeature) {\r\n    EMeteorInjectedFeature[\"open_page\"] = \"open_page\";\r\n    EMeteorInjectedFeature[\"batch_import\"] = \"batch_import\";\r\n    EMeteorInjectedFeature[\"sync_check\"] = \"sync_check\";\r\n    EMeteorInjectedFeature[\"account_sync\"] = \"account_sync\";\r\n})(EMeteorInjectedFeature = exports.EMeteorInjectedFeature || (exports.EMeteorInjectedFeature = {}));\r\nvar EDappActionSource;\r\n(function (EDappActionSource) {\r\n    EDappActionSource[\"website_callback\"] = \"wcb\";\r\n    EDappActionSource[\"website_post_message\"] = \"wpm\";\r\n    EDappActionSource[\"website_visit\"] = \"wv\";\r\n    EDappActionSource[\"extension_injected\"] = \"ext\";\r\n})(EDappActionSource = exports.EDappActionSource || (exports.EDappActionSource = {}));\r\nvar EDappActionConnectionStatus;\r\n(function (EDappActionConnectionStatus) {\r\n    EDappActionConnectionStatus[\"initializing\"] = \"initializing\";\r\n    EDappActionConnectionStatus[\"connected\"] = \"connected\";\r\n    EDappActionConnectionStatus[\"attempting_reconnect\"] = \"attempting_reconnect\";\r\n    EDappActionConnectionStatus[\"disconnected\"] = \"disconnected\";\r\n    EDappActionConnectionStatus[\"closed_success\"] = \"closed_success\";\r\n    EDappActionConnectionStatus[\"closed_fail\"] = \"closed_fail\";\r\n    EDappActionConnectionStatus[\"closed_window\"] = \"closed_window\";\r\n})(EDappActionConnectionStatus = exports.EDappActionConnectionStatus || (exports.EDappActionConnectionStatus = {}));\r\n//# sourceMappingURL=types_dappConnect.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3ItY29tbW9uL3NyYy9tb2R1bGVzX2ZlYXR1cmUvZGFwcF9jb25uZWN0L3R5cGVzX2RhcHBDb25uZWN0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1DQUFtQyxHQUFHLHlCQUF5QixHQUFHLDhCQUE4QixHQUFHLHdDQUF3QyxHQUFHLG1DQUFtQyxHQUFHLCtDQUErQyxHQUFHLCtCQUErQixHQUFHLDJCQUEyQixHQUFHLHlCQUF5QjtBQUMvVCxxQ0FBcUMsbUJBQU8sQ0FBQyw4SkFBOEI7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdEQUF3RCwyQkFBMkIsS0FBSztBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnRUFBZ0UsK0JBQStCLEtBQUs7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdHQUFnRywrQ0FBK0MsS0FBSztBQUNySjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdFQUF3RSxtQ0FBbUMsS0FBSztBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrRkFBa0Ysd0NBQXdDLEtBQUs7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4REFBOEQsOEJBQThCLEtBQUs7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvREFBb0QseUJBQXlCLEtBQUs7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3RUFBd0UsbUNBQW1DLEtBQUs7QUFDakgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXJrZXRiYXNlbWludC8uL25vZGVfbW9kdWxlcy9AbWV0ZW9yd2FsbGV0L3Nkay9kaXN0L21ldGVvci1jb21tb24vc3JjL21vZHVsZXNfZmVhdHVyZS9kYXBwX2Nvbm5lY3QvdHlwZXNfZGFwcENvbm5lY3QuanM/NTFjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkVEYXBwQWN0aW9uQ29ubmVjdGlvblN0YXR1cyA9IGV4cG9ydHMuRURhcHBBY3Rpb25Tb3VyY2UgPSBleHBvcnRzLkVNZXRlb3JJbmplY3RlZEZlYXR1cmUgPSBleHBvcnRzLkVNZXRlb3JFeHRlbnNpb25EaXJlY3RBY3Rpb25UeXBlID0gZXhwb3J0cy5FV2FsbGV0RXh0ZXJuYWxBY3Rpb25TdGF0dXMgPSBleHBvcnRzLkVXYWxsZXRFeHRlcm5hbEFjdGlvbl9TaWduSW5fQWNjZXNzVHlwZSA9IGV4cG9ydHMuRU1ldGVvcldhbGxldFNpZ25JblR5cGUgPSBleHBvcnRzLkVFeHRlcm5hbEFjdGlvblR5cGUgPSBleHBvcnRzLk1ldGVvckFjdGlvbkVycm9yID0gdm9pZCAwO1xyXG5jb25zdCBlcnJvcl9oYW5kbGluZ19kYXBwQ29ubmVjdF8xID0gcmVxdWlyZShcIi4vZXJyb3JfaGFuZGxpbmdfZGFwcENvbm5lY3RcIik7XHJcbmNsYXNzIE1ldGVvckFjdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IocmVhc29uLCBwcmV2aW91c0Vycm9yKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBpZiAocmVhc29uLm1lc3NhZ2UgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZWFzb24ubWVzc2FnZSA9ICgwLCBlcnJvcl9oYW5kbGluZ19kYXBwQ29ubmVjdF8xLmdldEV4dGVybmFsQWN0aW9uRXJyb3JNZXNzYWdlRm9yRW5kVGFnKShyZWFzb24uZW5kVGFncz8uW3JlYXNvbi5lbmRUYWdzLmxlbmd0aCAtIDFdID8/IFwidW5rbm93blwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcmVhc29uID0gcmVhc29uO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHJlYXNvbi5tZXNzYWdlO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwiTWV0ZW9yQWN0aW9uRXJyb3JcIjtcclxuICAgICAgICB0aGlzLmNhdXNlID0gcHJldmlvdXNFcnJvcjtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLk1ldGVvckFjdGlvbkVycm9yID0gTWV0ZW9yQWN0aW9uRXJyb3I7XHJcbnZhciBFRXh0ZXJuYWxBY3Rpb25UeXBlO1xyXG4oZnVuY3Rpb24gKEVFeHRlcm5hbEFjdGlvblR5cGUpIHtcclxuICAgIEVFeHRlcm5hbEFjdGlvblR5cGVbXCJsb2dpblwiXSA9IFwibG9naW5cIjtcclxuICAgIEVFeHRlcm5hbEFjdGlvblR5cGVbXCJzaWduXCJdID0gXCJzaWduXCI7XHJcbiAgICBFRXh0ZXJuYWxBY3Rpb25UeXBlW1wibG9nb3V0XCJdID0gXCJsb2dvdXRcIjtcclxuICAgIEVFeHRlcm5hbEFjdGlvblR5cGVbXCJ2ZXJpZnlfb3duZXJcIl0gPSBcInZlcmlmeV9vd25lclwiO1xyXG4gICAgRUV4dGVybmFsQWN0aW9uVHlwZVtcImtleXBvbV9jbGFpbVwiXSA9IFwia2V5cG9tX2NsYWltXCI7XHJcbiAgICBFRXh0ZXJuYWxBY3Rpb25UeXBlW1wic2lnbl9tZXNzYWdlXCJdID0gXCJzaWduX21lc3NhZ2VcIjtcclxufSkoRUV4dGVybmFsQWN0aW9uVHlwZSA9IGV4cG9ydHMuRUV4dGVybmFsQWN0aW9uVHlwZSB8fCAoZXhwb3J0cy5FRXh0ZXJuYWxBY3Rpb25UeXBlID0ge30pKTtcclxudmFyIEVNZXRlb3JXYWxsZXRTaWduSW5UeXBlO1xyXG4oZnVuY3Rpb24gKEVNZXRlb3JXYWxsZXRTaWduSW5UeXBlKSB7XHJcbiAgICBFTWV0ZW9yV2FsbGV0U2lnbkluVHlwZVtcIkFMTF9NRVRIT0RTXCJdID0gXCJBTExfTUVUSE9EU1wiO1xyXG4gICAgRU1ldGVvcldhbGxldFNpZ25JblR5cGVbXCJTRUxFQ1RFRF9NRVRIT0RTXCJdID0gXCJTRUxFQ1RFRF9NRVRIT0RTXCI7XHJcbiAgICBFTWV0ZW9yV2FsbGV0U2lnbkluVHlwZVtcIkZVTExfQUNDRVNTXCJdID0gXCJGVUxMX0FDQ0VTU1wiO1xyXG59KShFTWV0ZW9yV2FsbGV0U2lnbkluVHlwZSA9IGV4cG9ydHMuRU1ldGVvcldhbGxldFNpZ25JblR5cGUgfHwgKGV4cG9ydHMuRU1ldGVvcldhbGxldFNpZ25JblR5cGUgPSB7fSkpO1xyXG52YXIgRVdhbGxldEV4dGVybmFsQWN0aW9uX1NpZ25Jbl9BY2Nlc3NUeXBlO1xyXG4oZnVuY3Rpb24gKEVXYWxsZXRFeHRlcm5hbEFjdGlvbl9TaWduSW5fQWNjZXNzVHlwZSkge1xyXG4gICAgRVdhbGxldEV4dGVybmFsQWN0aW9uX1NpZ25Jbl9BY2Nlc3NUeXBlW1wiRlVMTF9BQ0NFU1NcIl0gPSBcImZ1bGxBY2Nlc3NcIjtcclxuICAgIEVXYWxsZXRFeHRlcm5hbEFjdGlvbl9TaWduSW5fQWNjZXNzVHlwZVtcIkxJTUlURURfQUNDRVNTXCJdID0gXCJsaW1pdGVkQWNjZXNzXCI7XHJcbn0pKEVXYWxsZXRFeHRlcm5hbEFjdGlvbl9TaWduSW5fQWNjZXNzVHlwZSA9IGV4cG9ydHMuRVdhbGxldEV4dGVybmFsQWN0aW9uX1NpZ25Jbl9BY2Nlc3NUeXBlIHx8IChleHBvcnRzLkVXYWxsZXRFeHRlcm5hbEFjdGlvbl9TaWduSW5fQWNjZXNzVHlwZSA9IHt9KSk7XHJcbnZhciBFV2FsbGV0RXh0ZXJuYWxBY3Rpb25TdGF0dXM7XHJcbihmdW5jdGlvbiAoRVdhbGxldEV4dGVybmFsQWN0aW9uU3RhdHVzKSB7XHJcbiAgICBFV2FsbGV0RXh0ZXJuYWxBY3Rpb25TdGF0dXNbXCJVTkNPTkZJUk1FRFwiXSA9IFwiVU5DT05GSVJNRURcIjtcclxuICAgIEVXYWxsZXRFeHRlcm5hbEFjdGlvblN0YXR1c1tcIlBFTkRJTkdcIl0gPSBcIlBFTkRJTkdcIjtcclxuICAgIEVXYWxsZXRFeHRlcm5hbEFjdGlvblN0YXR1c1tcIlNVQ0NFU1NcIl0gPSBcIlNVQ0NFU1NcIjtcclxuICAgIEVXYWxsZXRFeHRlcm5hbEFjdGlvblN0YXR1c1tcIkZBSUxVUkVcIl0gPSBcIkZBSUxVUkVcIjtcclxufSkoRVdhbGxldEV4dGVybmFsQWN0aW9uU3RhdHVzID0gZXhwb3J0cy5FV2FsbGV0RXh0ZXJuYWxBY3Rpb25TdGF0dXMgfHwgKGV4cG9ydHMuRVdhbGxldEV4dGVybmFsQWN0aW9uU3RhdHVzID0ge30pKTtcclxudmFyIEVNZXRlb3JFeHRlbnNpb25EaXJlY3RBY3Rpb25UeXBlO1xyXG4oZnVuY3Rpb24gKEVNZXRlb3JFeHRlbnNpb25EaXJlY3RBY3Rpb25UeXBlKSB7XHJcbiAgICBFTWV0ZW9yRXh0ZW5zaW9uRGlyZWN0QWN0aW9uVHlwZVtcImNoZWNrX3N5bmNfc3RhdHVzXCJdID0gXCJjaGVja19zeW5jX3N0YXR1c1wiO1xyXG4gICAgRU1ldGVvckV4dGVuc2lvbkRpcmVjdEFjdGlvblR5cGVbXCJzeW5jX2FjY291bnRzXCJdID0gXCJzeW5jX2FjY291bnRzXCI7XHJcbiAgICBFTWV0ZW9yRXh0ZW5zaW9uRGlyZWN0QWN0aW9uVHlwZVtcIm9wZW5fcGFnZVwiXSA9IFwib3Blbl9wYWdlXCI7XHJcbn0pKEVNZXRlb3JFeHRlbnNpb25EaXJlY3RBY3Rpb25UeXBlID0gZXhwb3J0cy5FTWV0ZW9yRXh0ZW5zaW9uRGlyZWN0QWN0aW9uVHlwZSB8fCAoZXhwb3J0cy5FTWV0ZW9yRXh0ZW5zaW9uRGlyZWN0QWN0aW9uVHlwZSA9IHt9KSk7XHJcbnZhciBFTWV0ZW9ySW5qZWN0ZWRGZWF0dXJlO1xyXG4oZnVuY3Rpb24gKEVNZXRlb3JJbmplY3RlZEZlYXR1cmUpIHtcclxuICAgIEVNZXRlb3JJbmplY3RlZEZlYXR1cmVbXCJvcGVuX3BhZ2VcIl0gPSBcIm9wZW5fcGFnZVwiO1xyXG4gICAgRU1ldGVvckluamVjdGVkRmVhdHVyZVtcImJhdGNoX2ltcG9ydFwiXSA9IFwiYmF0Y2hfaW1wb3J0XCI7XHJcbiAgICBFTWV0ZW9ySW5qZWN0ZWRGZWF0dXJlW1wic3luY19jaGVja1wiXSA9IFwic3luY19jaGVja1wiO1xyXG4gICAgRU1ldGVvckluamVjdGVkRmVhdHVyZVtcImFjY291bnRfc3luY1wiXSA9IFwiYWNjb3VudF9zeW5jXCI7XHJcbn0pKEVNZXRlb3JJbmplY3RlZEZlYXR1cmUgPSBleHBvcnRzLkVNZXRlb3JJbmplY3RlZEZlYXR1cmUgfHwgKGV4cG9ydHMuRU1ldGVvckluamVjdGVkRmVhdHVyZSA9IHt9KSk7XHJcbnZhciBFRGFwcEFjdGlvblNvdXJjZTtcclxuKGZ1bmN0aW9uIChFRGFwcEFjdGlvblNvdXJjZSkge1xyXG4gICAgRURhcHBBY3Rpb25Tb3VyY2VbXCJ3ZWJzaXRlX2NhbGxiYWNrXCJdID0gXCJ3Y2JcIjtcclxuICAgIEVEYXBwQWN0aW9uU291cmNlW1wid2Vic2l0ZV9wb3N0X21lc3NhZ2VcIl0gPSBcIndwbVwiO1xyXG4gICAgRURhcHBBY3Rpb25Tb3VyY2VbXCJ3ZWJzaXRlX3Zpc2l0XCJdID0gXCJ3dlwiO1xyXG4gICAgRURhcHBBY3Rpb25Tb3VyY2VbXCJleHRlbnNpb25faW5qZWN0ZWRcIl0gPSBcImV4dFwiO1xyXG59KShFRGFwcEFjdGlvblNvdXJjZSA9IGV4cG9ydHMuRURhcHBBY3Rpb25Tb3VyY2UgfHwgKGV4cG9ydHMuRURhcHBBY3Rpb25Tb3VyY2UgPSB7fSkpO1xyXG52YXIgRURhcHBBY3Rpb25Db25uZWN0aW9uU3RhdHVzO1xyXG4oZnVuY3Rpb24gKEVEYXBwQWN0aW9uQ29ubmVjdGlvblN0YXR1cykge1xyXG4gICAgRURhcHBBY3Rpb25Db25uZWN0aW9uU3RhdHVzW1wiaW5pdGlhbGl6aW5nXCJdID0gXCJpbml0aWFsaXppbmdcIjtcclxuICAgIEVEYXBwQWN0aW9uQ29ubmVjdGlvblN0YXR1c1tcImNvbm5lY3RlZFwiXSA9IFwiY29ubmVjdGVkXCI7XHJcbiAgICBFRGFwcEFjdGlvbkNvbm5lY3Rpb25TdGF0dXNbXCJhdHRlbXB0aW5nX3JlY29ubmVjdFwiXSA9IFwiYXR0ZW1wdGluZ19yZWNvbm5lY3RcIjtcclxuICAgIEVEYXBwQWN0aW9uQ29ubmVjdGlvblN0YXR1c1tcImRpc2Nvbm5lY3RlZFwiXSA9IFwiZGlzY29ubmVjdGVkXCI7XHJcbiAgICBFRGFwcEFjdGlvbkNvbm5lY3Rpb25TdGF0dXNbXCJjbG9zZWRfc3VjY2Vzc1wiXSA9IFwiY2xvc2VkX3N1Y2Nlc3NcIjtcclxuICAgIEVEYXBwQWN0aW9uQ29ubmVjdGlvblN0YXR1c1tcImNsb3NlZF9mYWlsXCJdID0gXCJjbG9zZWRfZmFpbFwiO1xyXG4gICAgRURhcHBBY3Rpb25Db25uZWN0aW9uU3RhdHVzW1wiY2xvc2VkX3dpbmRvd1wiXSA9IFwiY2xvc2VkX3dpbmRvd1wiO1xyXG59KShFRGFwcEFjdGlvbkNvbm5lY3Rpb25TdGF0dXMgPSBleHBvcnRzLkVEYXBwQWN0aW9uQ29ubmVjdGlvblN0YXR1cyB8fCAoZXhwb3J0cy5FRGFwcEFjdGlvbkNvbm5lY3Rpb25TdGF0dXMgPSB7fSkpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlc19kYXBwQ29ubmVjdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_feature/dapp_connect/types_dappConnect.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_utility/data_type_utils/StringUtils.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_utility/data_type_utils/StringUtils.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.StringUtils = exports.stringToConstantStyledString = exports.convertToSlug = exports.pad = exports.createPadder = exports.BetterStringArray = exports.safeAppend = exports.firstNotNullEmpty = exports.nullEmpty = exports.notNullEmpty = exports.StringRegex = void 0;\r\nexports.StringRegex = {\r\n    digitsRegex: /\\b\\d+\\b/gi,\r\n};\r\nconst notNullEmpty = (str) => {\r\n    return str != null && str.length > 0;\r\n};\r\nexports.notNullEmpty = notNullEmpty;\r\nconst nullEmpty = (str) => {\r\n    return !(0, exports.notNullEmpty)(str);\r\n};\r\nexports.nullEmpty = nullEmpty;\r\nconst firstNotNullEmpty = (...strItems) => {\r\n    for (const item of strItems) {\r\n        if ((0, exports.notNullEmpty)(item)) {\r\n            return item;\r\n        }\r\n    }\r\n    return undefined;\r\n};\r\nexports.firstNotNullEmpty = firstNotNullEmpty;\r\nconst anyNullEmpty = (strs) => {\r\n    for (const str of strs) {\r\n        if ((0, exports.nullEmpty)(str)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\nconst safeAppend = (str, value, ifEmptyValue = null) => {\r\n    return (0, exports.notNullEmpty)(str)\r\n        ? str + value\r\n        : ifEmptyValue != null\r\n            ? ifEmptyValue\r\n            : value;\r\n};\r\nexports.safeAppend = safeAppend;\r\nclass BetterStringArray extends Array {\r\n    pushIfNotNullEmpty(str) {\r\n        if ((0, exports.notNullEmpty)(str)) {\r\n            this.push(str);\r\n        }\r\n    }\r\n}\r\nexports.BetterStringArray = BetterStringArray;\r\nfunction createPadder(padCharacter, desiredTotalLength, padFromRight = false) {\r\n    return (input) => {\r\n        return pad(input, padCharacter, desiredTotalLength, padFromRight);\r\n    };\r\n}\r\nexports.createPadder = createPadder;\r\nfunction pad(input, padCharacter, desiredTotalLength, padFromRight = false) {\r\n    const difference = desiredTotalLength - `${input}`.length;\r\n    if (difference > 0) {\r\n        const padding = new Array(difference).fill(padCharacter);\r\n        if (padFromRight) {\r\n            return `${input}${padding.join(\"\")}`;\r\n        }\r\n        return `${padding.join(\"\")}${input}`;\r\n    }\r\n    return `${input}`;\r\n}\r\nexports.pad = pad;\r\nconst regexAllSpaces = new RegExp(\"\\\\s+\", \"g\");\r\nconst regexDoubleDashes = new RegExp(\"--+\", \"g\");\r\nconst regexFirstDash = new RegExp(\"^-+\", \"g\");\r\nconst regexLastDash = new RegExp(\"-+$\", \"g\");\r\nconst regexSingleDash = new RegExp(\"-\", \"g\");\r\nconst regexRemoveNonWord = new RegExp(\"[^\\\\w\\\\-]+\", \"g\");\r\nconst regexAllUnderscores = new RegExp(\"_\", \"g\");\r\nfunction escapeRegExp(string) {\r\n    return string.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\r\n}\r\nconst convertToSlug = (text, { slugDivider = \"-\", letterCase = \"LOWER\", normalize = true, excludeCharacters = [], } = {}) => {\r\n    if (!text || text.length === 0) {\r\n        return \"\";\r\n    }\r\n    let resp = text.toString();\r\n    if (normalize) {\r\n        resp = resp.normalize(\"NFD\");\r\n    }\r\n    if (letterCase === \"LOWER\") {\r\n        resp = resp.toLowerCase();\r\n    }\r\n    else if (letterCase === \"UPPER\") {\r\n        resp = resp.toUpperCase();\r\n    }\r\n    return resp\r\n        .replace(regexAllSpaces, \"-\") // Replace spaces with -\r\n        .replace(excludeCharacters.length > 0\r\n        ? new RegExp(`[^\\\\w\\\\-${excludeCharacters\r\n            .map((c) => escapeRegExp(c))\r\n            .join(\"\")}]+`, \"g\")\r\n        : regexRemoveNonWord, \"\") // Remove all non-word chars\r\n        .replace(excludeCharacters.includes(\"_\") ? regexAllSpaces : regexAllUnderscores, \"-\") // replace underscores with dashes\r\n        .replace(regexDoubleDashes, \"-\") // Replace multiple - with single -\r\n        .replace(regexFirstDash, \"\") // Trim - from start of text\r\n        .replace(regexLastDash, \"\") // Trim - from end of text\r\n        .replace(regexSingleDash, slugDivider); // Replace all - with whatever the slug divider is\r\n    /*return resp\r\n      .replace(/\\s+/g, \"-\") // Replace spaces with -\r\n      // .replace(/[^\\w\\-]+/g, \"\") // Remove all non-word chars\r\n      .replace(/[^\\w\\-]+/g, \"\") // Remove all non-word chars\r\n      .replace(/_/g, \"-\") // replace underscores with dashes\r\n      .replace(/\\-\\-+/g, \"-\") // Replace multiple - with single -\r\n      .replace(/^-+/, \"\") // Trim - from start of text\r\n      .replace(/-+$/, \"\") // Trim - from end of text\r\n      .replace(/-/g, slugDivider); // Replace all - with whatever the slug divider is*/\r\n};\r\nexports.convertToSlug = convertToSlug;\r\n// Replace spaces with underscores and make letters UPPERCASE:\r\n// eg. \"Some thing's\" -> \"SOME_THINGS\"\r\nconst stringToConstantStyledString = (input) => {\r\n    return (0, exports.convertToSlug)(input, {\r\n        normalize: true,\r\n        slugDivider: \"_\",\r\n        letterCase: \"UPPER\",\r\n    });\r\n    // return input.replace(/[^\\w\\s]/g, \"\").replace(\"/\\s+/g\", \"_\").toUpperCase();\r\n};\r\nexports.stringToConstantStyledString = stringToConstantStyledString;\r\nconst reverse = (input) => {\r\n    let r = ``;\r\n    for (const char of input) {\r\n        r = `${char}${r}`;\r\n    }\r\n    return r;\r\n};\r\nfunction isUriEncoded(uri) {\r\n    uri = uri || \"\";\r\n    return uri !== decodeURIComponent(uri);\r\n}\r\nconst decodeUriFully = (uri) => {\r\n    let failSafe = 0;\r\n    while (isUriEncoded(uri)) {\r\n        failSafe += 1;\r\n        uri = decodeURIComponent(uri);\r\n        if (failSafe > 20) {\r\n            throw new Error(`String Utils: Decode URI Fully: Enacted while loop too many times with attempt to decode fully.`);\r\n        }\r\n    }\r\n    return uri;\r\n};\r\nconst removeAndTrim = (input, removeText, { spaceAware = true, insideWords = false } = {}) => {\r\n    let text = `${input}`;\r\n    for (const rem of removeText) {\r\n        if (spaceAware) {\r\n            if (!insideWords) {\r\n                if (text.indexOf(` ${rem} `) >= 0) {\r\n                    text = text.replace(` ${rem} `, \" \");\r\n                }\r\n                else {\r\n                    if (text.startsWith(`${rem} `)) {\r\n                        text = text.substring(rem.length + 1);\r\n                    }\r\n                    if (text.endsWith(` ${rem}`)) {\r\n                        text = text.substring(0, text.length - (rem.length + 1));\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                const checkNew = [\r\n                    new RegExp(`\\\\s${rem}\\\\s`, \"g\"),\r\n                    new RegExp(`\\\\s${rem}`, \"g\"),\r\n                    new RegExp(`${rem}\\\\s`, \"g\"),\r\n                ];\r\n                for (const remNew of checkNew) {\r\n                    if (remNew.test(text)) {\r\n                        console.log(`Replacing \"${remNew}\" in \"${text}\"`);\r\n                        text = text.replace(remNew, \" \");\r\n                        console.log(`Text after: \"${text}\"`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (text.indexOf(rem) >= 0) {\r\n                text = text.replace(rem, \"\");\r\n            }\r\n        }\r\n    }\r\n    return text.trim();\r\n};\r\nfunction sortCompareStrings(a, b) {\r\n    const aa = a.toLowerCase();\r\n    const bb = b.toLowerCase();\r\n    if (aa < bb)\r\n        //sort string ascending\r\n        return -1;\r\n    if (aa > bb)\r\n        return 1;\r\n    return 0; //default return value (no sorting)\r\n}\r\nfunction comparePure(a, b) {\r\n    if (a > b) {\r\n        return 1;\r\n    }\r\n    if (a < b) {\r\n        return -1;\r\n    }\r\n    return 0;\r\n}\r\nfunction onlyNotNullEmpty(strArray) {\r\n    let notNullEmptyArray = [];\r\n    for (const str of strArray) {\r\n        if ((0, exports.notNullEmpty)(str)) {\r\n            notNullEmptyArray.push(str);\r\n        }\r\n    }\r\n    return notNullEmptyArray;\r\n}\r\nconst joinIntoUrl = (...routes) => {\r\n    return routes\r\n        .filter((v) => v)\r\n        .map((v, i, arr) => {\r\n        const isNotFirst = i !== 0;\r\n        const isNotLast = i !== arr.length - 1;\r\n        if (isNotFirst) {\r\n            v = v.startsWith(\"/\") ? v.slice(1) : v;\r\n        }\r\n        if (isNotLast) {\r\n            v = v.endsWith(\"/\") ? v.slice(0, -1) : v;\r\n        }\r\n        return v;\r\n    })\r\n        .join(\"/\");\r\n};\r\nconst getUrlWithBaseUrl = (baseUrl, route) => {\r\n    const isRouteCompleted = route.startsWith(\"http://\") || route.startsWith(\"https://\");\r\n    if (isRouteCompleted) {\r\n        return route;\r\n    }\r\n    return joinIntoUrl(baseUrl, route);\r\n};\r\nconst isHashId = (accountId) => {\r\n    const hash = accountId.match(/^[a-zA-Z0-9]+$/);\r\n    return Boolean(hash);\r\n    // accountId.match(/^[a-zA-Z0-9]{64}$/)\r\n};\r\nexports.StringUtils = {\r\n    isUriEncoded,\r\n    decodeUriFully,\r\n    StringRegex: exports.StringRegex,\r\n    reverse,\r\n    notNullEmpty: exports.notNullEmpty,\r\n    nullEmpty: exports.nullEmpty,\r\n    anyNullEmpty,\r\n    safeAppend: exports.safeAppend,\r\n    createPadder,\r\n    pad,\r\n    convertToSlug: exports.convertToSlug,\r\n    stringToConstantStyledString: exports.stringToConstantStyledString,\r\n    removeAndTrim,\r\n    sortCompareStrings,\r\n    comparePure,\r\n    onlyNotNullEmpty,\r\n    firstNotNullEmpty: exports.firstNotNullEmpty,\r\n    joinIntoUrl,\r\n    getUrlWithBaseUrl,\r\n    isHashId,\r\n};\r\n//# sourceMappingURL=StringUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3ItY29tbW9uL3NyYy9tb2R1bGVzX3V0aWxpdHkvZGF0YV90eXBlX3V0aWxzL1N0cmluZ1V0aWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQixHQUFHLG9DQUFvQyxHQUFHLHFCQUFxQixHQUFHLFdBQVcsR0FBRyxvQkFBb0IsR0FBRyx5QkFBeUIsR0FBRyxrQkFBa0IsR0FBRyx5QkFBeUIsR0FBRyxpQkFBaUIsR0FBRyxvQkFBb0IsR0FBRyxtQkFBbUI7QUFDclEsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQSwrQ0FBK0MsTUFBTTtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsTUFBTSxFQUFFLGlCQUFpQjtBQUMvQztBQUNBLGtCQUFrQixpQkFBaUIsRUFBRSxNQUFNO0FBQzNDO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQSwrQkFBK0IscUZBQXFGLElBQUk7QUFDeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFLLEVBQUUsRUFBRTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMseUNBQXlDLElBQUk7QUFDekYsa0JBQWtCLE1BQU07QUFDeEI7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLEtBQUs7QUFDMUMsNENBQTRDLEtBQUs7QUFDakQ7QUFDQTtBQUNBLDJDQUEyQyxLQUFLO0FBQ2hEO0FBQ0E7QUFDQSwwQ0FBMEMsSUFBSTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsSUFBSTtBQUN6QyxxQ0FBcUMsSUFBSTtBQUN6QyxrQ0FBa0MsSUFBSTtBQUN0QztBQUNBO0FBQ0E7QUFDQSxrREFBa0QsT0FBTyxRQUFRLEtBQUs7QUFDdEU7QUFDQSxvREFBb0QsS0FBSztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLEdBQUc7QUFDeEM7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXJrZXRiYXNlbWludC8uL25vZGVfbW9kdWxlcy9AbWV0ZW9yd2FsbGV0L3Nkay9kaXN0L21ldGVvci1jb21tb24vc3JjL21vZHVsZXNfdXRpbGl0eS9kYXRhX3R5cGVfdXRpbHMvU3RyaW5nVXRpbHMuanM/MmRhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlN0cmluZ1V0aWxzID0gZXhwb3J0cy5zdHJpbmdUb0NvbnN0YW50U3R5bGVkU3RyaW5nID0gZXhwb3J0cy5jb252ZXJ0VG9TbHVnID0gZXhwb3J0cy5wYWQgPSBleHBvcnRzLmNyZWF0ZVBhZGRlciA9IGV4cG9ydHMuQmV0dGVyU3RyaW5nQXJyYXkgPSBleHBvcnRzLnNhZmVBcHBlbmQgPSBleHBvcnRzLmZpcnN0Tm90TnVsbEVtcHR5ID0gZXhwb3J0cy5udWxsRW1wdHkgPSBleHBvcnRzLm5vdE51bGxFbXB0eSA9IGV4cG9ydHMuU3RyaW5nUmVnZXggPSB2b2lkIDA7XHJcbmV4cG9ydHMuU3RyaW5nUmVnZXggPSB7XHJcbiAgICBkaWdpdHNSZWdleDogL1xcYlxcZCtcXGIvZ2ksXHJcbn07XHJcbmNvbnN0IG5vdE51bGxFbXB0eSA9IChzdHIpID0+IHtcclxuICAgIHJldHVybiBzdHIgIT0gbnVsbCAmJiBzdHIubGVuZ3RoID4gMDtcclxufTtcclxuZXhwb3J0cy5ub3ROdWxsRW1wdHkgPSBub3ROdWxsRW1wdHk7XHJcbmNvbnN0IG51bGxFbXB0eSA9IChzdHIpID0+IHtcclxuICAgIHJldHVybiAhKDAsIGV4cG9ydHMubm90TnVsbEVtcHR5KShzdHIpO1xyXG59O1xyXG5leHBvcnRzLm51bGxFbXB0eSA9IG51bGxFbXB0eTtcclxuY29uc3QgZmlyc3ROb3ROdWxsRW1wdHkgPSAoLi4uc3RySXRlbXMpID0+IHtcclxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBzdHJJdGVtcykge1xyXG4gICAgICAgIGlmICgoMCwgZXhwb3J0cy5ub3ROdWxsRW1wdHkpKGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbn07XHJcbmV4cG9ydHMuZmlyc3ROb3ROdWxsRW1wdHkgPSBmaXJzdE5vdE51bGxFbXB0eTtcclxuY29uc3QgYW55TnVsbEVtcHR5ID0gKHN0cnMpID0+IHtcclxuICAgIGZvciAoY29uc3Qgc3RyIG9mIHN0cnMpIHtcclxuICAgICAgICBpZiAoKDAsIGV4cG9ydHMubnVsbEVtcHR5KShzdHIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufTtcclxuY29uc3Qgc2FmZUFwcGVuZCA9IChzdHIsIHZhbHVlLCBpZkVtcHR5VmFsdWUgPSBudWxsKSA9PiB7XHJcbiAgICByZXR1cm4gKDAsIGV4cG9ydHMubm90TnVsbEVtcHR5KShzdHIpXHJcbiAgICAgICAgPyBzdHIgKyB2YWx1ZVxyXG4gICAgICAgIDogaWZFbXB0eVZhbHVlICE9IG51bGxcclxuICAgICAgICAgICAgPyBpZkVtcHR5VmFsdWVcclxuICAgICAgICAgICAgOiB2YWx1ZTtcclxufTtcclxuZXhwb3J0cy5zYWZlQXBwZW5kID0gc2FmZUFwcGVuZDtcclxuY2xhc3MgQmV0dGVyU3RyaW5nQXJyYXkgZXh0ZW5kcyBBcnJheSB7XHJcbiAgICBwdXNoSWZOb3ROdWxsRW1wdHkoc3RyKSB7XHJcbiAgICAgICAgaWYgKCgwLCBleHBvcnRzLm5vdE51bGxFbXB0eSkoc3RyKSkge1xyXG4gICAgICAgICAgICB0aGlzLnB1c2goc3RyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5CZXR0ZXJTdHJpbmdBcnJheSA9IEJldHRlclN0cmluZ0FycmF5O1xyXG5mdW5jdGlvbiBjcmVhdGVQYWRkZXIocGFkQ2hhcmFjdGVyLCBkZXNpcmVkVG90YWxMZW5ndGgsIHBhZEZyb21SaWdodCA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gKGlucHV0KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHBhZChpbnB1dCwgcGFkQ2hhcmFjdGVyLCBkZXNpcmVkVG90YWxMZW5ndGgsIHBhZEZyb21SaWdodCk7XHJcbiAgICB9O1xyXG59XHJcbmV4cG9ydHMuY3JlYXRlUGFkZGVyID0gY3JlYXRlUGFkZGVyO1xyXG5mdW5jdGlvbiBwYWQoaW5wdXQsIHBhZENoYXJhY3RlciwgZGVzaXJlZFRvdGFsTGVuZ3RoLCBwYWRGcm9tUmlnaHQgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgZGlmZmVyZW5jZSA9IGRlc2lyZWRUb3RhbExlbmd0aCAtIGAke2lucHV0fWAubGVuZ3RoO1xyXG4gICAgaWYgKGRpZmZlcmVuY2UgPiAwKSB7XHJcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IG5ldyBBcnJheShkaWZmZXJlbmNlKS5maWxsKHBhZENoYXJhY3Rlcik7XHJcbiAgICAgICAgaWYgKHBhZEZyb21SaWdodCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7aW5wdXR9JHtwYWRkaW5nLmpvaW4oXCJcIil9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGAke3BhZGRpbmcuam9pbihcIlwiKX0ke2lucHV0fWA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYCR7aW5wdXR9YDtcclxufVxyXG5leHBvcnRzLnBhZCA9IHBhZDtcclxuY29uc3QgcmVnZXhBbGxTcGFjZXMgPSBuZXcgUmVnRXhwKFwiXFxcXHMrXCIsIFwiZ1wiKTtcclxuY29uc3QgcmVnZXhEb3VibGVEYXNoZXMgPSBuZXcgUmVnRXhwKFwiLS0rXCIsIFwiZ1wiKTtcclxuY29uc3QgcmVnZXhGaXJzdERhc2ggPSBuZXcgUmVnRXhwKFwiXi0rXCIsIFwiZ1wiKTtcclxuY29uc3QgcmVnZXhMYXN0RGFzaCA9IG5ldyBSZWdFeHAoXCItKyRcIiwgXCJnXCIpO1xyXG5jb25zdCByZWdleFNpbmdsZURhc2ggPSBuZXcgUmVnRXhwKFwiLVwiLCBcImdcIik7XHJcbmNvbnN0IHJlZ2V4UmVtb3ZlTm9uV29yZCA9IG5ldyBSZWdFeHAoXCJbXlxcXFx3XFxcXC1dK1wiLCBcImdcIik7XHJcbmNvbnN0IHJlZ2V4QWxsVW5kZXJzY29yZXMgPSBuZXcgUmVnRXhwKFwiX1wiLCBcImdcIik7XHJcbmZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpIHtcclxuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csIFwiXFxcXCQmXCIpO1xyXG59XHJcbmNvbnN0IGNvbnZlcnRUb1NsdWcgPSAodGV4dCwgeyBzbHVnRGl2aWRlciA9IFwiLVwiLCBsZXR0ZXJDYXNlID0gXCJMT1dFUlwiLCBub3JtYWxpemUgPSB0cnVlLCBleGNsdWRlQ2hhcmFjdGVycyA9IFtdLCB9ID0ge30pID0+IHtcclxuICAgIGlmICghdGV4dCB8fCB0ZXh0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG4gICAgbGV0IHJlc3AgPSB0ZXh0LnRvU3RyaW5nKCk7XHJcbiAgICBpZiAobm9ybWFsaXplKSB7XHJcbiAgICAgICAgcmVzcCA9IHJlc3Aubm9ybWFsaXplKFwiTkZEXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGxldHRlckNhc2UgPT09IFwiTE9XRVJcIikge1xyXG4gICAgICAgIHJlc3AgPSByZXNwLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsZXR0ZXJDYXNlID09PSBcIlVQUEVSXCIpIHtcclxuICAgICAgICByZXNwID0gcmVzcC50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3BcclxuICAgICAgICAucmVwbGFjZShyZWdleEFsbFNwYWNlcywgXCItXCIpIC8vIFJlcGxhY2Ugc3BhY2VzIHdpdGggLVxyXG4gICAgICAgIC5yZXBsYWNlKGV4Y2x1ZGVDaGFyYWN0ZXJzLmxlbmd0aCA+IDBcclxuICAgICAgICA/IG5ldyBSZWdFeHAoYFteXFxcXHdcXFxcLSR7ZXhjbHVkZUNoYXJhY3RlcnNcclxuICAgICAgICAgICAgLm1hcCgoYykgPT4gZXNjYXBlUmVnRXhwKGMpKVxyXG4gICAgICAgICAgICAuam9pbihcIlwiKX1dK2AsIFwiZ1wiKVxyXG4gICAgICAgIDogcmVnZXhSZW1vdmVOb25Xb3JkLCBcIlwiKSAvLyBSZW1vdmUgYWxsIG5vbi13b3JkIGNoYXJzXHJcbiAgICAgICAgLnJlcGxhY2UoZXhjbHVkZUNoYXJhY3RlcnMuaW5jbHVkZXMoXCJfXCIpID8gcmVnZXhBbGxTcGFjZXMgOiByZWdleEFsbFVuZGVyc2NvcmVzLCBcIi1cIikgLy8gcmVwbGFjZSB1bmRlcnNjb3JlcyB3aXRoIGRhc2hlc1xyXG4gICAgICAgIC5yZXBsYWNlKHJlZ2V4RG91YmxlRGFzaGVzLCBcIi1cIikgLy8gUmVwbGFjZSBtdWx0aXBsZSAtIHdpdGggc2luZ2xlIC1cclxuICAgICAgICAucmVwbGFjZShyZWdleEZpcnN0RGFzaCwgXCJcIikgLy8gVHJpbSAtIGZyb20gc3RhcnQgb2YgdGV4dFxyXG4gICAgICAgIC5yZXBsYWNlKHJlZ2V4TGFzdERhc2gsIFwiXCIpIC8vIFRyaW0gLSBmcm9tIGVuZCBvZiB0ZXh0XHJcbiAgICAgICAgLnJlcGxhY2UocmVnZXhTaW5nbGVEYXNoLCBzbHVnRGl2aWRlcik7IC8vIFJlcGxhY2UgYWxsIC0gd2l0aCB3aGF0ZXZlciB0aGUgc2x1ZyBkaXZpZGVyIGlzXHJcbiAgICAvKnJldHVybiByZXNwXHJcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiLVwiKSAvLyBSZXBsYWNlIHNwYWNlcyB3aXRoIC1cclxuICAgICAgLy8gLnJlcGxhY2UoL1teXFx3XFwtXSsvZywgXCJcIikgLy8gUmVtb3ZlIGFsbCBub24td29yZCBjaGFyc1xyXG4gICAgICAucmVwbGFjZSgvW15cXHdcXC1dKy9nLCBcIlwiKSAvLyBSZW1vdmUgYWxsIG5vbi13b3JkIGNoYXJzXHJcbiAgICAgIC5yZXBsYWNlKC9fL2csIFwiLVwiKSAvLyByZXBsYWNlIHVuZGVyc2NvcmVzIHdpdGggZGFzaGVzXHJcbiAgICAgIC5yZXBsYWNlKC9cXC1cXC0rL2csIFwiLVwiKSAvLyBSZXBsYWNlIG11bHRpcGxlIC0gd2l0aCBzaW5nbGUgLVxyXG4gICAgICAucmVwbGFjZSgvXi0rLywgXCJcIikgLy8gVHJpbSAtIGZyb20gc3RhcnQgb2YgdGV4dFxyXG4gICAgICAucmVwbGFjZSgvLSskLywgXCJcIikgLy8gVHJpbSAtIGZyb20gZW5kIG9mIHRleHRcclxuICAgICAgLnJlcGxhY2UoLy0vZywgc2x1Z0RpdmlkZXIpOyAvLyBSZXBsYWNlIGFsbCAtIHdpdGggd2hhdGV2ZXIgdGhlIHNsdWcgZGl2aWRlciBpcyovXHJcbn07XHJcbmV4cG9ydHMuY29udmVydFRvU2x1ZyA9IGNvbnZlcnRUb1NsdWc7XHJcbi8vIFJlcGxhY2Ugc3BhY2VzIHdpdGggdW5kZXJzY29yZXMgYW5kIG1ha2UgbGV0dGVycyBVUFBFUkNBU0U6XHJcbi8vIGVnLiBcIlNvbWUgdGhpbmcnc1wiIC0+IFwiU09NRV9USElOR1NcIlxyXG5jb25zdCBzdHJpbmdUb0NvbnN0YW50U3R5bGVkU3RyaW5nID0gKGlucHV0KSA9PiB7XHJcbiAgICByZXR1cm4gKDAsIGV4cG9ydHMuY29udmVydFRvU2x1ZykoaW5wdXQsIHtcclxuICAgICAgICBub3JtYWxpemU6IHRydWUsXHJcbiAgICAgICAgc2x1Z0RpdmlkZXI6IFwiX1wiLFxyXG4gICAgICAgIGxldHRlckNhc2U6IFwiVVBQRVJcIixcclxuICAgIH0pO1xyXG4gICAgLy8gcmV0dXJuIGlucHV0LnJlcGxhY2UoL1teXFx3XFxzXS9nLCBcIlwiKS5yZXBsYWNlKFwiL1xccysvZ1wiLCBcIl9cIikudG9VcHBlckNhc2UoKTtcclxufTtcclxuZXhwb3J0cy5zdHJpbmdUb0NvbnN0YW50U3R5bGVkU3RyaW5nID0gc3RyaW5nVG9Db25zdGFudFN0eWxlZFN0cmluZztcclxuY29uc3QgcmV2ZXJzZSA9IChpbnB1dCkgPT4ge1xyXG4gICAgbGV0IHIgPSBgYDtcclxuICAgIGZvciAoY29uc3QgY2hhciBvZiBpbnB1dCkge1xyXG4gICAgICAgIHIgPSBgJHtjaGFyfSR7cn1gO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcbmZ1bmN0aW9uIGlzVXJpRW5jb2RlZCh1cmkpIHtcclxuICAgIHVyaSA9IHVyaSB8fCBcIlwiO1xyXG4gICAgcmV0dXJuIHVyaSAhPT0gZGVjb2RlVVJJQ29tcG9uZW50KHVyaSk7XHJcbn1cclxuY29uc3QgZGVjb2RlVXJpRnVsbHkgPSAodXJpKSA9PiB7XHJcbiAgICBsZXQgZmFpbFNhZmUgPSAwO1xyXG4gICAgd2hpbGUgKGlzVXJpRW5jb2RlZCh1cmkpKSB7XHJcbiAgICAgICAgZmFpbFNhZmUgKz0gMTtcclxuICAgICAgICB1cmkgPSBkZWNvZGVVUklDb21wb25lbnQodXJpKTtcclxuICAgICAgICBpZiAoZmFpbFNhZmUgPiAyMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0cmluZyBVdGlsczogRGVjb2RlIFVSSSBGdWxseTogRW5hY3RlZCB3aGlsZSBsb29wIHRvbyBtYW55IHRpbWVzIHdpdGggYXR0ZW1wdCB0byBkZWNvZGUgZnVsbHkuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVyaTtcclxufTtcclxuY29uc3QgcmVtb3ZlQW5kVHJpbSA9IChpbnB1dCwgcmVtb3ZlVGV4dCwgeyBzcGFjZUF3YXJlID0gdHJ1ZSwgaW5zaWRlV29yZHMgPSBmYWxzZSB9ID0ge30pID0+IHtcclxuICAgIGxldCB0ZXh0ID0gYCR7aW5wdXR9YDtcclxuICAgIGZvciAoY29uc3QgcmVtIG9mIHJlbW92ZVRleHQpIHtcclxuICAgICAgICBpZiAoc3BhY2VBd2FyZSkge1xyXG4gICAgICAgICAgICBpZiAoIWluc2lkZVdvcmRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dC5pbmRleE9mKGAgJHtyZW19IGApID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKGAgJHtyZW19IGAsIFwiIFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0LnN0YXJ0c1dpdGgoYCR7cmVtfSBgKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcocmVtLmxlbmd0aCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5lbmRzV2l0aChgICR7cmVtfWApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCB0ZXh0Lmxlbmd0aCAtIChyZW0ubGVuZ3RoICsgMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrTmV3ID0gW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBSZWdFeHAoYFxcXFxzJHtyZW19XFxcXHNgLCBcImdcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChgXFxcXHMke3JlbX1gLCBcImdcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChgJHtyZW19XFxcXHNgLCBcImdcIiksXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCByZW1OZXcgb2YgY2hlY2tOZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVtTmV3LnRlc3QodGV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFJlcGxhY2luZyBcIiR7cmVtTmV3fVwiIGluIFwiJHt0ZXh0fVwiYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UocmVtTmV3LCBcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBUZXh0IGFmdGVyOiBcIiR7dGV4dH1cImApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRleHQuaW5kZXhPZihyZW0pID49IDApIHtcclxuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UocmVtLCBcIlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0ZXh0LnRyaW0oKTtcclxufTtcclxuZnVuY3Rpb24gc29ydENvbXBhcmVTdHJpbmdzKGEsIGIpIHtcclxuICAgIGNvbnN0IGFhID0gYS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgY29uc3QgYmIgPSBiLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBpZiAoYWEgPCBiYilcclxuICAgICAgICAvL3NvcnQgc3RyaW5nIGFzY2VuZGluZ1xyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIGlmIChhYSA+IGJiKVxyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgcmV0dXJuIDA7IC8vZGVmYXVsdCByZXR1cm4gdmFsdWUgKG5vIHNvcnRpbmcpXHJcbn1cclxuZnVuY3Rpb24gY29tcGFyZVB1cmUoYSwgYikge1xyXG4gICAgaWYgKGEgPiBiKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9XHJcbiAgICBpZiAoYSA8IGIpIHtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMDtcclxufVxyXG5mdW5jdGlvbiBvbmx5Tm90TnVsbEVtcHR5KHN0ckFycmF5KSB7XHJcbiAgICBsZXQgbm90TnVsbEVtcHR5QXJyYXkgPSBbXTtcclxuICAgIGZvciAoY29uc3Qgc3RyIG9mIHN0ckFycmF5KSB7XHJcbiAgICAgICAgaWYgKCgwLCBleHBvcnRzLm5vdE51bGxFbXB0eSkoc3RyKSkge1xyXG4gICAgICAgICAgICBub3ROdWxsRW1wdHlBcnJheS5wdXNoKHN0cik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5vdE51bGxFbXB0eUFycmF5O1xyXG59XHJcbmNvbnN0IGpvaW5JbnRvVXJsID0gKC4uLnJvdXRlcykgPT4ge1xyXG4gICAgcmV0dXJuIHJvdXRlc1xyXG4gICAgICAgIC5maWx0ZXIoKHYpID0+IHYpXHJcbiAgICAgICAgLm1hcCgodiwgaSwgYXJyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaXNOb3RGaXJzdCA9IGkgIT09IDA7XHJcbiAgICAgICAgY29uc3QgaXNOb3RMYXN0ID0gaSAhPT0gYXJyLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgaWYgKGlzTm90Rmlyc3QpIHtcclxuICAgICAgICAgICAgdiA9IHYuc3RhcnRzV2l0aChcIi9cIikgPyB2LnNsaWNlKDEpIDogdjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzTm90TGFzdCkge1xyXG4gICAgICAgICAgICB2ID0gdi5lbmRzV2l0aChcIi9cIikgPyB2LnNsaWNlKDAsIC0xKSA6IHY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2O1xyXG4gICAgfSlcclxuICAgICAgICAuam9pbihcIi9cIik7XHJcbn07XHJcbmNvbnN0IGdldFVybFdpdGhCYXNlVXJsID0gKGJhc2VVcmwsIHJvdXRlKSA9PiB7XHJcbiAgICBjb25zdCBpc1JvdXRlQ29tcGxldGVkID0gcm91dGUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIikgfHwgcm91dGUuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpO1xyXG4gICAgaWYgKGlzUm91dGVDb21wbGV0ZWQpIHtcclxuICAgICAgICByZXR1cm4gcm91dGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gam9pbkludG9VcmwoYmFzZVVybCwgcm91dGUpO1xyXG59O1xyXG5jb25zdCBpc0hhc2hJZCA9IChhY2NvdW50SWQpID0+IHtcclxuICAgIGNvbnN0IGhhc2ggPSBhY2NvdW50SWQubWF0Y2goL15bYS16QS1aMC05XSskLyk7XHJcbiAgICByZXR1cm4gQm9vbGVhbihoYXNoKTtcclxuICAgIC8vIGFjY291bnRJZC5tYXRjaCgvXlthLXpBLVowLTldezY0fSQvKVxyXG59O1xyXG5leHBvcnRzLlN0cmluZ1V0aWxzID0ge1xyXG4gICAgaXNVcmlFbmNvZGVkLFxyXG4gICAgZGVjb2RlVXJpRnVsbHksXHJcbiAgICBTdHJpbmdSZWdleDogZXhwb3J0cy5TdHJpbmdSZWdleCxcclxuICAgIHJldmVyc2UsXHJcbiAgICBub3ROdWxsRW1wdHk6IGV4cG9ydHMubm90TnVsbEVtcHR5LFxyXG4gICAgbnVsbEVtcHR5OiBleHBvcnRzLm51bGxFbXB0eSxcclxuICAgIGFueU51bGxFbXB0eSxcclxuICAgIHNhZmVBcHBlbmQ6IGV4cG9ydHMuc2FmZUFwcGVuZCxcclxuICAgIGNyZWF0ZVBhZGRlcixcclxuICAgIHBhZCxcclxuICAgIGNvbnZlcnRUb1NsdWc6IGV4cG9ydHMuY29udmVydFRvU2x1ZyxcclxuICAgIHN0cmluZ1RvQ29uc3RhbnRTdHlsZWRTdHJpbmc6IGV4cG9ydHMuc3RyaW5nVG9Db25zdGFudFN0eWxlZFN0cmluZyxcclxuICAgIHJlbW92ZUFuZFRyaW0sXHJcbiAgICBzb3J0Q29tcGFyZVN0cmluZ3MsXHJcbiAgICBjb21wYXJlUHVyZSxcclxuICAgIG9ubHlOb3ROdWxsRW1wdHksXHJcbiAgICBmaXJzdE5vdE51bGxFbXB0eTogZXhwb3J0cy5maXJzdE5vdE51bGxFbXB0eSxcclxuICAgIGpvaW5JbnRvVXJsLFxyXG4gICAgZ2V0VXJsV2l0aEJhc2VVcmwsXHJcbiAgICBpc0hhc2hJZCxcclxufTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RyaW5nVXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_utility/data_type_utils/StringUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_utility/state_utils/EnvironmentStorageUtils.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_utility/state_utils/EnvironmentStorageUtils.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.EnvironmentStateAdapter_Sync = exports.EnvironmentStateAdapter = void 0;\r\nclass EnvironmentStateAdapter {\r\n    constructor(implementation) {\r\n        this.implementation = implementation;\r\n    }\r\n    async setJson(key, value) {\r\n        await this.implementation.setString(key, JSON.stringify(value));\r\n    }\r\n    async getJson(key) {\r\n        const val = await this.implementation.getString(key);\r\n        if (val == null || val === \"undefined\" || val === \"null\") {\r\n            return undefined;\r\n        }\r\n        return JSON.parse(val);\r\n    }\r\n    async setString(key, value) {\r\n        await this.implementation.setString(key, value);\r\n    }\r\n    async getString(key) {\r\n        const val = await this.implementation.getString(key);\r\n        if (val == null) {\r\n            return undefined;\r\n        }\r\n        return val;\r\n    }\r\n    createJsonGetterSetter(key) {\r\n        return {\r\n            get: () => this.getJson(key),\r\n            set: (value) => this.setJson(key, value),\r\n        };\r\n    }\r\n    createStringGetterSetter(key) {\r\n        return {\r\n            get: () => this.getString(key),\r\n            set: (value) => this.setString(key, value),\r\n        };\r\n    }\r\n}\r\nexports.EnvironmentStateAdapter = EnvironmentStateAdapter;\r\nclass EnvironmentStateAdapter_Sync {\r\n    constructor(implementation) {\r\n        this.implementation = implementation;\r\n    }\r\n    setJson(key, value) {\r\n        this.implementation.setString(key, JSON.stringify(value));\r\n    }\r\n    getJson(key) {\r\n        const val = this.implementation.getString(key);\r\n        if (val == null || val === \"undefined\" || val === \"null\") {\r\n            return undefined;\r\n        }\r\n        return JSON.parse(val);\r\n    }\r\n    setString(key, value) {\r\n        this.implementation.setString(key, value);\r\n    }\r\n    getString(key) {\r\n        const val = this.implementation.getString(key);\r\n        if (val == null) {\r\n            return undefined;\r\n        }\r\n        return val;\r\n    }\r\n    clear(key) {\r\n        this.implementation.clear(key);\r\n    }\r\n    createJsonGetterSetter(key) {\r\n        return {\r\n            get: () => this.getJson(key),\r\n            set: (value) => this.setJson(key, value),\r\n        };\r\n    }\r\n    createStringGetterSetter(key) {\r\n        return {\r\n            get: () => this.getString(key),\r\n            set: (value) => this.setString(key, value),\r\n        };\r\n    }\r\n}\r\nexports.EnvironmentStateAdapter_Sync = EnvironmentStateAdapter_Sync;\r\n//# sourceMappingURL=EnvironmentStorageUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3ItY29tbW9uL3NyYy9tb2R1bGVzX3V0aWxpdHkvc3RhdGVfdXRpbHMvRW52aXJvbm1lbnRTdG9yYWdlVXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0NBQW9DLEdBQUcsK0JBQStCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFya2V0YmFzZW1pbnQvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3ItY29tbW9uL3NyYy9tb2R1bGVzX3V0aWxpdHkvc3RhdGVfdXRpbHMvRW52aXJvbm1lbnRTdG9yYWdlVXRpbHMuanM/MTdhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLkVudmlyb25tZW50U3RhdGVBZGFwdGVyX1N5bmMgPSBleHBvcnRzLkVudmlyb25tZW50U3RhdGVBZGFwdGVyID0gdm9pZCAwO1xyXG5jbGFzcyBFbnZpcm9ubWVudFN0YXRlQWRhcHRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihpbXBsZW1lbnRhdGlvbikge1xyXG4gICAgICAgIHRoaXMuaW1wbGVtZW50YXRpb24gPSBpbXBsZW1lbnRhdGlvbjtcclxuICAgIH1cclxuICAgIGFzeW5jIHNldEpzb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuaW1wbGVtZW50YXRpb24uc2V0U3RyaW5nKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcclxuICAgIH1cclxuICAgIGFzeW5jIGdldEpzb24oa2V5KSB7XHJcbiAgICAgICAgY29uc3QgdmFsID0gYXdhaXQgdGhpcy5pbXBsZW1lbnRhdGlvbi5nZXRTdHJpbmcoa2V5KTtcclxuICAgICAgICBpZiAodmFsID09IG51bGwgfHwgdmFsID09PSBcInVuZGVmaW5lZFwiIHx8IHZhbCA9PT0gXCJudWxsXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsKTtcclxuICAgIH1cclxuICAgIGFzeW5jIHNldFN0cmluZyhrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5pbXBsZW1lbnRhdGlvbi5zZXRTdHJpbmcoa2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBnZXRTdHJpbmcoa2V5KSB7XHJcbiAgICAgICAgY29uc3QgdmFsID0gYXdhaXQgdGhpcy5pbXBsZW1lbnRhdGlvbi5nZXRTdHJpbmcoa2V5KTtcclxuICAgICAgICBpZiAodmFsID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgIH1cclxuICAgIGNyZWF0ZUpzb25HZXR0ZXJTZXR0ZXIoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0OiAoKSA9PiB0aGlzLmdldEpzb24oa2V5KSxcclxuICAgICAgICAgICAgc2V0OiAodmFsdWUpID0+IHRoaXMuc2V0SnNvbihrZXksIHZhbHVlKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY3JlYXRlU3RyaW5nR2V0dGVyU2V0dGVyKGtleSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdldDogKCkgPT4gdGhpcy5nZXRTdHJpbmcoa2V5KSxcclxuICAgICAgICAgICAgc2V0OiAodmFsdWUpID0+IHRoaXMuc2V0U3RyaW5nKGtleSwgdmFsdWUpLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5FbnZpcm9ubWVudFN0YXRlQWRhcHRlciA9IEVudmlyb25tZW50U3RhdGVBZGFwdGVyO1xyXG5jbGFzcyBFbnZpcm9ubWVudFN0YXRlQWRhcHRlcl9TeW5jIHtcclxuICAgIGNvbnN0cnVjdG9yKGltcGxlbWVudGF0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5pbXBsZW1lbnRhdGlvbiA9IGltcGxlbWVudGF0aW9uO1xyXG4gICAgfVxyXG4gICAgc2V0SnNvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5pbXBsZW1lbnRhdGlvbi5zZXRTdHJpbmcoa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xyXG4gICAgfVxyXG4gICAgZ2V0SnNvbihrZXkpIHtcclxuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLmltcGxlbWVudGF0aW9uLmdldFN0cmluZyhrZXkpO1xyXG4gICAgICAgIGlmICh2YWwgPT0gbnVsbCB8fCB2YWwgPT09IFwidW5kZWZpbmVkXCIgfHwgdmFsID09PSBcIm51bGxcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWwpO1xyXG4gICAgfVxyXG4gICAgc2V0U3RyaW5nKGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmltcGxlbWVudGF0aW9uLnNldFN0cmluZyhrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGdldFN0cmluZyhrZXkpIHtcclxuICAgICAgICBjb25zdCB2YWwgPSB0aGlzLmltcGxlbWVudGF0aW9uLmdldFN0cmluZyhrZXkpO1xyXG4gICAgICAgIGlmICh2YWwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoa2V5KSB7XHJcbiAgICAgICAgdGhpcy5pbXBsZW1lbnRhdGlvbi5jbGVhcihrZXkpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlSnNvbkdldHRlclNldHRlcihrZXkpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBnZXQ6ICgpID0+IHRoaXMuZ2V0SnNvbihrZXkpLFxyXG4gICAgICAgICAgICBzZXQ6ICh2YWx1ZSkgPT4gdGhpcy5zZXRKc29uKGtleSwgdmFsdWUpLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjcmVhdGVTdHJpbmdHZXR0ZXJTZXR0ZXIoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0OiAoKSA9PiB0aGlzLmdldFN0cmluZyhrZXkpLFxyXG4gICAgICAgICAgICBzZXQ6ICh2YWx1ZSkgPT4gdGhpcy5zZXRTdHJpbmcoa2V5LCB2YWx1ZSksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkVudmlyb25tZW50U3RhdGVBZGFwdGVyX1N5bmMgPSBFbnZpcm9ubWVudFN0YXRlQWRhcHRlcl9TeW5jO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbnZpcm9ubWVudFN0b3JhZ2VVdGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_utility/state_utils/EnvironmentStorageUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/MeteorWallet.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/MeteorWallet.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.ConnectedMeteorWalletAccount = exports.MeteorWallet = void 0;\r\nconst near_api_js_1 = __webpack_require__(/*! near-api-js */ \"(ssr)/./node_modules/near-api-js/lib/index.js\");\r\nconst transactions_1 = __webpack_require__(/*! @near-js/transactions */ \"(ssr)/./node_modules/@near-js/transactions/lib/index.js\");\r\nconst types_dappConnect_1 = __webpack_require__(/*! ../../meteor-common/src/modules_feature/dapp_connect/types_dappConnect */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_feature/dapp_connect/types_dappConnect.js\");\r\nconst borsh_1 = __webpack_require__(/*! borsh */ \"(ssr)/./node_modules/borsh/lib/index.js\");\r\nconst StringUtils_1 = __webpack_require__(/*! ../../meteor-common/src/modules_utility/data_type_utils/StringUtils */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_utility/data_type_utils/StringUtils.js\");\r\nconst EnvironmentStorageUtils_1 = __webpack_require__(/*! ../../meteor-common/src/modules_utility/state_utils/EnvironmentStorageUtils */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_utility/state_utils/EnvironmentStorageUtils.js\");\r\nconst MeteorSdkUtils_1 = __webpack_require__(/*! ./utils/MeteorSdkUtils */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/utils/MeteorSdkUtils.js\");\r\nconst MeteorPostMessenger_1 = __webpack_require__(/*! ./postMessage/MeteorPostMessenger */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/postMessage/MeteorPostMessenger.js\");\r\nconst TransactionSchemaV2_1 = __webpack_require__(/*! ./near-schema/TransactionSchemaV2 */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/near-schema/TransactionSchemaV2.js\");\r\nconst crypto_1 = __webpack_require__(/*! @near-js/crypto */ \"(ssr)/./node_modules/@near-js/crypto/lib/index.js\");\r\nconst create_action_1 = __webpack_require__(/*! ./utils/create-action */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/utils/create-action.js\");\r\nconst bn_js_1 = __webpack_require__(/*! bn.js */ \"(ssr)/./node_modules/bn.js/lib/bn.js\");\r\nconst LOGIN_WALLET_URL_SUFFIX = \"/login/\";\r\nconst SIGN_WALLET_URL_SUFFIX = \"/sign/\";\r\nconst MULTISIG_HAS_METHOD = \"add_request_and_confirm\";\r\nconst LOCAL_STORAGE_KEY_SUFFIX = \"_meteor_wallet_auth_key\";\r\nconst PENDING_ACCESS_KEY_PREFIX = \"pending_key\"; // browser storage key for a pending access key (i.e. key has been generated but we are not sure it was added yet)\r\nconst localStorageAdapter = new EnvironmentStorageUtils_1.EnvironmentStateAdapter_Sync({\r\n    getString: (key) => window.localStorage.getItem(key),\r\n    setString: (key, value) => window.localStorage.setItem(key, value),\r\n    clear: (key) => window.localStorage.removeItem(key),\r\n});\r\nconst sessionAdapter = new EnvironmentStorageUtils_1.EnvironmentStateAdapter_Sync({\r\n    getString: (key) => window.sessionStorage.getItem(key),\r\n    setString: (key, value) => window.sessionStorage.setItem(key, value),\r\n    clear: (key) => window.sessionStorage.removeItem(key),\r\n});\r\n/**\r\n * This class is used in conjunction with `near-api-js` and `BrowserLocalStorageKeyStore`.\r\n * It directs users to the Meteor Extension or (if not available) a popup of the Meteor Wallet website for key management.\r\n *\r\n * @example\r\n * ```js\r\n * import { MeteorWallet } from \"@meteorwallet/sdk\";\r\n *\r\n * // create new MeteorWallet instance (passing in your initialized Near connection)\r\n * const meteorWallet = new MeteorWallet({ near: connectedNear, appKeyPrefix: 'my-app' });\r\n *\r\n * // -- or -- (for a quick and default Near connection config)\r\n * const meteorWallet = MeteorWallet.init({ networkId: \"testnet\" });\r\n *\r\n * // If not signed in, start the sign-in flow with Meteor Wallet.\r\n * // Keys will be stored in the BrowserLocalStorageKeyStore\r\n * if(!meteorWallet.isSignedIn()) {\r\n *   const { accountId } = await meteorWallet.requestSignIn();\r\n * }\r\n * ```\r\n */\r\nclass MeteorWallet {\r\n    /**\r\n     * The easiest way to set up the SDK. Returns an instance of MeteorWallet, automatically connected to the Near API.\r\n     *\r\n     * If you need more control over the Near Network configuration- rather use {@link MeteorWallet:constructor}\r\n     *\r\n     * @example\r\n     * ```js\r\n     * const wallet = await MeteorWallet.init({ networkId: \"testnet\" });\r\n     * ```\r\n     */\r\n    static async init({ walletUrl, ...config }) {\r\n        const keyStore = new near_api_js_1.keyStores.BrowserLocalStorageKeyStore();\r\n        const near = await (0, near_api_js_1.connect)({\r\n            keyStore,\r\n            headers: {},\r\n            walletUrl: (0, MeteorSdkUtils_1.resolveWalletUrl)(config.networkId, walletUrl),\r\n            ...(0, MeteorSdkUtils_1.getNetworkPreset)(config.networkId),\r\n            ...config,\r\n        });\r\n        const wallet = new MeteorWallet({ near, appKeyPrefix: \"near_app\" });\r\n        // Cleanup up any pending keys (cancelled logins).\r\n        if (!wallet.isSignedIn()) {\r\n            await keyStore.clear();\r\n        }\r\n        return wallet;\r\n    }\r\n    /**\r\n     * Construct MeteorWallet. If you'd a quick and default way, you can also use {@link MeteorWallet.init}\r\n     *\r\n     * @example\r\n     * ```js\r\n     * // create new MeteorWallet instance (passing in your initialized Near connection)\r\n     * const meteorWallet = new MeteorWallet({ near: connectedNear, appKeyPrefix: 'my-app' });\r\n     *\r\n     * if(!meteorWallet.isSignedIn()) {\r\n     *   const { accountId } = await meteorWallet.requestSignIn();\r\n     * }\r\n     * ```\r\n     */\r\n    constructor({ near, appKeyPrefix = near.config.contractName ?? \"default\", }) {\r\n        /** @hidden */\r\n        this._initializationPromises = [];\r\n        this._near = near;\r\n        const authDataKey = appKeyPrefix + LOCAL_STORAGE_KEY_SUFFIX;\r\n        this._authDataKey = authDataKey;\r\n        this._authData = localStorageAdapter.getJson(authDataKey) ?? { allKeys: [] };\r\n        this._networkId = near.config.networkId;\r\n        this._walletBaseUrl = near.config.walletUrl;\r\n        this._keyStore = near.connection.signer.keyStore;\r\n        /*\r\n        console.log(\"Initialized wallet- checking if signed in\");\r\n    \r\n        if (!this.isSignedIn()) {\r\n          console.log(\"Completing sign-in process, if its available\");\r\n          this._initializationPromises.push(this._completeSignInWithAccessKey());\r\n        }*/\r\n    }\r\n    /* async initialize() {\r\n       await Promise.all(this._initializationPromises);\r\n     }*/\r\n    isExtensionInstalled() {\r\n        return window.meteorWallet != null;\r\n    }\r\n    /**\r\n     * Returns true, if this app is authorized with an account in the wallet.\r\n     * @example\r\n     * ```js\r\n     * const wallet = new MeteorWallet({ near: connectedNear, appKeyPrefix: 'my-app' });\r\n     * wallet.isSignedIn();\r\n     * ```\r\n     */\r\n    isSignedIn() {\r\n        return !!this._authData.accountId;\r\n    }\r\n    /**\r\n     * Returns authorized Account ID.\r\n     * @example\r\n     * ```js\r\n     * const wallet = new MeteorWallet(near, 'my-app');\r\n     * const accountId = wallet.getAccountId();\r\n     * ```\r\n     */\r\n    getAccountId() {\r\n        return this._authData.accountId;\r\n    }\r\n    /**\r\n     * Verifies that the user is the owner of a specific Near account, available in the wallet.\r\n     * Removes the need to do blockchain operations for simple Dapp actions.\r\n     * Signs a payload with the wallet's private key. Will return a promise with a payload like so:\r\n     *\r\n     * ```ts\r\n     * interface VerifiedOwner {\r\n     *   accountId: string;\r\n     *   message: string;                 // The same passed message, unencrypted\r\n     *   blockId: string;\r\n     *   publicKey: string;               // The public key which should be verified as belonging to this account\r\n     *   signature: string;               // The signed payload (this exact same object JSON stringified, excluding this \"signature\" property)\r\n     *   keyType: utils.key_pair.KeyType; // Type from inside the near-api-js package\r\n     * }\r\n     * ```\r\n     *\r\n     * or throw a {@link MeteorActionError} error if the verification failed for whatever reason.\r\n     * */\r\n    async verifyOwner(options) {\r\n        const accountId = options.accountId ?? this.getAccountId();\r\n        const response = await (0, MeteorPostMessenger_1.getMeteorPostMessenger)().connectAndWaitForResponse({\r\n            actionType: types_dappConnect_1.EExternalActionType.verify_owner,\r\n            inputs: {\r\n                accountId,\r\n                message: options.message,\r\n            },\r\n            network: this._networkId,\r\n        });\r\n        if (response.success) {\r\n            return response;\r\n        }\r\n        else {\r\n            throw new types_dappConnect_1.MeteorActionError({\r\n                endTags: response.endTags,\r\n                message: response.message,\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Requests a sign-in using Meteor Wallet. Will return a promise with the `accountId` of the\r\n     * signed-in account, or throw a {@link MeteorActionError} error if the sign-in failed for whatever reason.\r\n     * */\r\n    async requestSignIn(options) {\r\n        const { keyPair, ...restOptions } = options;\r\n        const accessKey = keyPair ?? near_api_js_1.KeyPair.fromRandom(\"ed25519\");\r\n        let usingPublicKey = accessKey.getPublicKey().toString();\r\n        const response = await (0, MeteorPostMessenger_1.getMeteorPostMessenger)().connectAndWaitForResponse({\r\n            actionType: types_dappConnect_1.EExternalActionType.login,\r\n            inputs: { public_key: usingPublicKey, ...restOptions },\r\n            network: this._networkId,\r\n        });\r\n        if (response.success) {\r\n            const { allKeys, accountId } = response.payload;\r\n            this._authData = {\r\n                accountId,\r\n                allKeys,\r\n                signedInContract: {\r\n                    contract_id: restOptions.contract_id,\r\n                    public_key: usingPublicKey,\r\n                },\r\n            };\r\n            localStorageAdapter.setJson(this._authDataKey, this._authData);\r\n            await this._keyStore.setKey(this._networkId, accountId, accessKey);\r\n            return {\r\n                success: true,\r\n                endTags: [],\r\n                payload: {\r\n                    accessKey,\r\n                    accountId,\r\n                },\r\n            };\r\n        }\r\n        else {\r\n            throw new types_dappConnect_1.MeteorActionError({\r\n                endTags: response.endTags,\r\n                message: response.message,\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Sign out from the current account\r\n     */\r\n    async signOut() {\r\n        const accountId = this.getAccountId();\r\n        if (this._authData.signedInContract != null && accountId != null) {\r\n            const inputs = {\r\n                accountId,\r\n                contractInfo: this._authData.signedInContract,\r\n            };\r\n            const response = await (0, MeteorPostMessenger_1.getMeteorPostMessenger)().connectAndWaitForResponse({\r\n                actionType: types_dappConnect_1.EExternalActionType.logout,\r\n                inputs,\r\n                network: this._networkId,\r\n            });\r\n        }\r\n        this._authData = { allKeys: [] };\r\n        localStorageAdapter.clear(this._authDataKey);\r\n    }\r\n    /**\r\n     * Allows users to sign a message for a specific recipient using their NEAR account, based on the [NEP413](https://github.com/near/NEPs/pull/413).\r\n     *\r\n     * Will return a promise with a payload like so:\r\n     *\r\n     * ```ts\r\n     * interface signMessage {\r\n     *   accountId: string;               // The account name to which the publicKey corresponds as plain text\r\n     *   publicKey: string;               // The public counterpart of the key used to sign\r\n     *   signature: string;               // The base64 representation of the signature\r\n     *   state?: string;                  // The same state passed in.\r\n     * }\r\n     * ```\r\n     *\r\n     * or throw a {@link MeteorActionError} error if the signing failed for whatever reason.\r\n     * */\r\n    async signMessage({ message, nonce, recipient, callbackUrl, state, accountId, }) {\r\n        const response = await (0, MeteorPostMessenger_1.getMeteorPostMessenger)().connectAndWaitForResponse({\r\n            actionType: types_dappConnect_1.EExternalActionType.sign_message,\r\n            inputs: {\r\n                message,\r\n                nonce,\r\n                recipient,\r\n                callbackUrl,\r\n                state,\r\n                accountId,\r\n            },\r\n            network: this._networkId,\r\n        });\r\n        if (response.success) {\r\n            response.payload.state = state;\r\n            return response;\r\n        }\r\n        else {\r\n            throw new types_dappConnect_1.MeteorActionError({\r\n                endTags: response.endTags,\r\n                message: response.message,\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Sign transactions using Meteor Wallet. Will return a promise with an array of `FinalExecutionOutcome`\r\n     * of the given transactions.\r\n     * */\r\n    async requestSignTransactions(inputs) {\r\n        const { transactions } = inputs;\r\n        const transformedTransactions = await this.transformTransactions(transactions);\r\n        console.log(\"Transformed transactions\", transformedTransactions);\r\n        const response = await (0, MeteorPostMessenger_1.getMeteorPostMessenger)().connectAndWaitForResponse({\r\n            actionType: types_dappConnect_1.EExternalActionType.sign,\r\n            inputs: {\r\n                transactions: transformedTransactions\r\n                    .map((transaction) => (0, borsh_1.serialize)(TransactionSchemaV2_1.SCHEMA_V2, transaction))\r\n                    .map((serialized) => Buffer.from(serialized).toString(\"base64\"))\r\n                    .join(\",\"),\r\n            },\r\n            // inputs: { public_key: usingPublicKey, ...options },\r\n            network: this._networkId,\r\n        });\r\n        // console.log(\"Finished sign-in request\", response);\r\n        if (response.success) {\r\n            return response.payload.executionOutcomes;\r\n        }\r\n        else {\r\n            throw new types_dappConnect_1.MeteorActionError({\r\n                endTags: response.endTags,\r\n                message: response.message,\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * Returns the current connected wallet account\r\n     */\r\n    account() {\r\n        const currentAccountId = this.getAccountId();\r\n        if ((0, StringUtils_1.notNullEmpty)(currentAccountId) &&\r\n            this._connectedAccount?.accountId !== currentAccountId) {\r\n            this._connectedAccount = new ConnectedMeteorWalletAccount(this, this._near.connection, currentAccountId);\r\n        }\r\n        return this._connectedAccount;\r\n    }\r\n    async transformTransactions(transactions) {\r\n        const account = this.account();\r\n        const { networkId, signer, provider } = account.connection;\r\n        const localKey = await signer.getPublicKey(account.accountId, networkId);\r\n        return Promise.all(transactions.map(async (transaction, index) => {\r\n            const accessKey = await account.accessKeyForTransaction(localKey);\r\n            if (!accessKey) {\r\n                throw new Error(`Failed to find matching key for transaction sent to ${transaction.receiverId}`);\r\n            }\r\n            const transformedActions = transaction.actions.map((action) => (0, create_action_1.createAction)(action));\r\n            const block = await provider.block({ finality: \"final\" });\r\n            return (0, transactions_1.createTransaction)(account.accountId, crypto_1.PublicKey.from(accessKey.public_key), transaction.receiverId, new bn_js_1.BN(accessKey.access_key.nonce).add(new bn_js_1.BN(index)).add(new bn_js_1.BN(1)), transformedActions, near_api_js_1.utils.serialize.base_decode(block.header.hash));\r\n            /*return {\r\n              receiverId: transaction.receiverId,\r\n              signerId: account.accountId,\r\n              actions: transformedActions,\r\n            };*/\r\n        }));\r\n    }\r\n}\r\nexports.MeteorWallet = MeteorWallet;\r\n/**\r\n * Near Account implementation which makes use of {@link MeteorWallet} when no local key is available.\r\n *\r\n * Generally won't be created directly- can be obtained by using {@link MeteorWallet.account}\r\n *\r\n * @example\r\n * ```js\r\n * const account = meteorWallet.account();\r\n *\r\n * // uses Meteor Wallet to sign the transaction using this account\r\n * const response = await account.requestSignTransaction({\r\n *   actions: transactionActions,\r\n *   receiverId: \"my-contract\"\r\n * });\r\n * ```\r\n */\r\nclass ConnectedMeteorWalletAccount extends near_api_js_1.Account {\r\n    /** @hidden */\r\n    constructor(walletConnection, connection, accountId) {\r\n        super(connection, accountId);\r\n        this.meteorWallet = walletConnection;\r\n    }\r\n    /**\r\n     * Sign a transaction using Meteor Wallet. Overrides the Near Account API method of the same name, makes use of {@link ConnectedMeteorWalletAccount.signAndSendTransaction_direct}\r\n     */\r\n    async signAndSendTransaction(...args) {\r\n        if (typeof args[0] === \"string\") {\r\n            return this.signAndSendTransaction_direct({\r\n                receiverId: args[0],\r\n                actions: args[1],\r\n            });\r\n        }\r\n        return this.signAndSendTransaction_direct(args[0]);\r\n    }\r\n    /** @hidden */\r\n    async trySendOrCreateTransaction({ receiverId, actions, }) {\r\n        const localKey = await this.connection.signer.getPublicKey(this.accountId, this.connection.networkId);\r\n        let accessKey = await this.accessKeyForTransaction(localKey);\r\n        if (accessKey != null && accessKey.access_key.permission !== \"FullAccess\") {\r\n            // check that this is a valid access key for the given transaction\r\n            const accessKeyMatchesTransaction = await this.accessKeyMatchesTransaction(accessKey, receiverId, actions);\r\n            if (!accessKeyMatchesTransaction) {\r\n                return {\r\n                    sent: false,\r\n                    transaction: {\r\n                        receiverId,\r\n                        signerId: this.accountId,\r\n                        actions,\r\n                    },\r\n                };\r\n            }\r\n        }\r\n        if (accessKey) {\r\n            if (localKey && localKey.toString() === accessKey.public_key) {\r\n                try {\r\n                    return {\r\n                        executionOutcome: await super.signAndSendTransaction({\r\n                            receiverId,\r\n                            actions: actions.map((action) => (0, create_action_1.createAction)(action)),\r\n                        }),\r\n                        sent: true,\r\n                    };\r\n                }\r\n                catch (e) {\r\n                    if (e.type !== \"NotEnoughAllowance\") {\r\n                        throw e;\r\n                        // accessKey = await this.accessKeyForTransaction(receiverId, actions);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        /*const block = await this.connection.provider.block({ finality: \"final\" });\r\n        const blockHash = baseDecode(block.header.hash);\r\n    \r\n        const publicKey = utils.PublicKey.from(accessKey.public_key);\r\n        // TODO: Cache & listen for nonce updates for given access key\r\n        const nonce = accessKey.access_key.nonce + 1;\r\n        const transaction = transactions.createTransaction(\r\n          this.accountId,\r\n          publicKey,\r\n          receiverId,\r\n          nonce,\r\n          actions,\r\n          blockHash,\r\n        );*/\r\n        return {\r\n            sent: false,\r\n            transaction: {\r\n                receiverId,\r\n                signerId: this.accountId,\r\n                actions,\r\n            },\r\n        };\r\n    }\r\n    /**\r\n     * Sign a transaction using Meteor Wallet\r\n     * @see {@link MeteorWallet.requestSignTransactions}\r\n     */\r\n    async signAndSendTransaction_direct({ receiverId, actions, }) {\r\n        const { transaction, sent, executionOutcome } = await this.trySendOrCreateTransaction({ receiverId, actions });\r\n        if (sent) {\r\n            return executionOutcome;\r\n        }\r\n        return (await this.meteorWallet.requestSignTransactions({\r\n            transactions: [transaction],\r\n        }))[0];\r\n    }\r\n    /** @hidden */\r\n    /*async signAndSendTransaction_redirect({\r\n      receiverId,\r\n      actions,\r\n      walletMeta,\r\n      walletCallbackUrl = window.location.href,\r\n    }: SignAndSendTransactionOptions): Promise<FinalExecutionOutcome> {\r\n      const { transaction, sent, executionOutcome } = await this.trySendOrCreateTransaction({ receiverId, actions });\r\n  \r\n      if (sent) {\r\n        return executionOutcome!;\r\n      }\r\n  \r\n      await this.meteorWallet.requestSignTransactions_redirect({\r\n        transactions: [transaction!],\r\n        meta: walletMeta,\r\n        callback_url: walletCallbackUrl,\r\n      });\r\n  \r\n      return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n          reject(new Error(\"Failed to redirect to sign transaction\"));\r\n        }, 1000);\r\n      });\r\n    }*/\r\n    /**\r\n     * Check if given access key allows the function call or method attempted in transaction\r\n     * @param accessKey Array of {access_key: AccessKey, public_key: PublicKey} items\r\n     * @param receiverId The NEAR account attempting to have access\r\n     * @param actions The action(s) needed to be checked for access\r\n     */\r\n    async accessKeyMatchesTransaction(accessKey, receiverId, actions) {\r\n        const { access_key: { permission }, } = accessKey;\r\n        if (permission === \"FullAccess\") {\r\n            return true;\r\n        }\r\n        console.log(\"Comparing access key and actions\", {\r\n            accessKey,\r\n            receiverId,\r\n            actions,\r\n        });\r\n        if (permission.FunctionCall) {\r\n            const { receiver_id: allowedReceiverId, method_names: allowedMethods } = permission.FunctionCall;\r\n            /********************************\r\n             Accept multisig access keys and let wallets attempt to signAndSendTransaction\r\n             If an access key has itself as receiverId and method permission add_request_and_confirm, then it is being used in a wallet with multisig contract: https://github.com/near/core-contracts/blob/671c05f09abecabe7a7e58efe942550a35fc3292/multisig/src/lib.rs#L149-L153\r\n             ********************************/\r\n            if (allowedReceiverId === receiverId &&\r\n                allowedMethods.includes(MULTISIG_HAS_METHOD)) {\r\n                return true;\r\n            }\r\n            if (allowedReceiverId === receiverId) {\r\n                if (actions.length !== 1) {\r\n                    return false;\r\n                }\r\n                const firstAction = actions[0];\r\n                console.log(firstAction);\r\n                if (firstAction.type === \"FunctionCall\") {\r\n                    const functionCallParams = firstAction.params;\r\n                    return ((!functionCallParams.deposit ||\r\n                        functionCallParams.deposit.toString() === \"0\") && // TODO: Should support charging amount smaller than allowance?\r\n                        (allowedMethods.length === 0 ||\r\n                            allowedMethods.includes(functionCallParams.methodName)));\r\n                }\r\n                // const [{ functionCall }] = actions;\r\n                // return (\r\n                //   functionCall &&\r\n                //   (!functionCall.deposit || functionCall.deposit.toString() === \"0\") && // TODO: Should support charging amount smaller than allowance?\r\n                //   (allowedMethods.length === 0 ||\r\n                //     allowedMethods.includes(functionCall.methodName))\r\n                // );\r\n                // TODO: Handle cases when allowance doesn't have enough to pay for gas\r\n            }\r\n        }\r\n        // TODO: Support other permissions than FunctionCall\r\n        return false;\r\n    }\r\n    /**\r\n     * Helper function returning the access key (if it exists) to the receiver that grants the designated permission\r\n     * @param localKey A local public key provided to check for access\r\n     * @returns Promise<any>\r\n     */\r\n    async accessKeyForTransaction(localKey) {\r\n        const accessKeys = await this.getAccessKeys();\r\n        console.log(\"accessKeys\", accessKeys);\r\n        if (localKey) {\r\n            const accessKey = accessKeys.find((key) => key.public_key.toString() === localKey.toString());\r\n            if (accessKey) {\r\n                return accessKey;\r\n            }\r\n        }\r\n        const walletKeys = this.meteorWallet._authData.allKeys;\r\n        for (const accessKey of accessKeys) {\r\n            if (walletKeys.indexOf(accessKey.public_key) !== -1) {\r\n                return accessKey;\r\n            }\r\n        }\r\n        for (const accessKey of accessKeys) {\r\n            if (accessKey.access_key.permission === \"FullAccess\") {\r\n                return accessKey;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\nexports.ConnectedMeteorWalletAccount = ConnectedMeteorWalletAccount;\r\n//# sourceMappingURL=MeteorWallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3Itc2RrL3NyYy9NZXRlb3JXYWxsZXQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0NBQW9DLEdBQUcsb0JBQW9CO0FBQzNELHNCQUFzQixtQkFBTyxDQUFDLGtFQUFhO0FBQzNDLHVCQUF1QixtQkFBTyxDQUFDLHNGQUF1QjtBQUN0RCw0QkFBNEIsbUJBQU8sQ0FBQywrTEFBd0U7QUFDNUcsZ0JBQWdCLG1CQUFPLENBQUMsc0RBQU87QUFDL0Isc0JBQXNCLG1CQUFPLENBQUMseUxBQXFFO0FBQ25HLGtDQUFrQyxtQkFBTyxDQUFDLHlNQUE2RTtBQUN2SCx5QkFBeUIsbUJBQU8sQ0FBQyxrSEFBd0I7QUFDekQsOEJBQThCLG1CQUFPLENBQUMsd0lBQW1DO0FBQ3pFLDhCQUE4QixtQkFBTyxDQUFDLHdJQUFtQztBQUN6RSxpQkFBaUIsbUJBQU8sQ0FBQywwRUFBaUI7QUFDMUMsd0JBQXdCLG1CQUFPLENBQUMsZ0hBQXVCO0FBQ3ZELGdCQUFnQixtQkFBTyxDQUFDLG1EQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZUFBZTtBQUMzQjtBQUNBO0FBQ0EsMkNBQTJDLDZDQUE2QztBQUN4RjtBQUNBO0FBQ0EsNENBQTRDLHNCQUFzQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsWUFBWTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRjtBQUNqRjtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsc0JBQXNCO0FBQ3RFO0FBQ0E7QUFDQSx3QkFBd0Isc0JBQXNCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsMENBQTBDLGdDQUFnQztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRjtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyw2Q0FBNkM7QUFDNUY7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw2REFBNkQ7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDZDQUE2QztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBLDBDQUEwQztBQUMxQywwQ0FBMEM7QUFDMUMsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5QkFBeUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx5QkFBeUI7QUFDL0Q7QUFDQTtBQUNBLGdCQUFnQiwwQkFBMEI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNENBQTRDO0FBQ2xFO0FBQ0EsU0FBUztBQUNUO0FBQ0Esb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUMsMENBQTBDO0FBQzFDLDBDQUEwQztBQUMxQywwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlCQUF5QjtBQUM1QztBQUNBLHdCQUF3QiwyREFBMkQ7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IseUJBQXlCLHdDQUF3QztBQUNqRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4QkFBOEI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsdUJBQXVCO0FBQzlHO0FBQ0E7QUFDQSxpREFBaUQsbUJBQW1CO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQSxtREFBbUQsb0JBQW9CO0FBQ3ZFO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxSEFBcUg7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHNCQUFzQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxtQkFBbUI7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLDBDQUEwQyxzQkFBc0I7QUFDaEUsZ0JBQWdCLHNDQUFzQywwQ0FBMEMscUJBQXFCO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsY0FBYyxzQ0FBc0MsMENBQTBDLHFCQUFxQjtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0NBQWtDLDhDQUE4QztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjLFlBQVksSUFBSTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG9CQUFvQiwrREFBK0Q7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGNBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXJrZXRiYXNlbWludC8uL25vZGVfbW9kdWxlcy9AbWV0ZW9yd2FsbGV0L3Nkay9kaXN0L21ldGVvci1zZGsvc3JjL01ldGVvcldhbGxldC5qcz81NDYwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuQ29ubmVjdGVkTWV0ZW9yV2FsbGV0QWNjb3VudCA9IGV4cG9ydHMuTWV0ZW9yV2FsbGV0ID0gdm9pZCAwO1xyXG5jb25zdCBuZWFyX2FwaV9qc18xID0gcmVxdWlyZShcIm5lYXItYXBpLWpzXCIpO1xyXG5jb25zdCB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCJAbmVhci1qcy90cmFuc2FjdGlvbnNcIik7XHJcbmNvbnN0IHR5cGVzX2RhcHBDb25uZWN0XzEgPSByZXF1aXJlKFwiLi4vLi4vbWV0ZW9yLWNvbW1vbi9zcmMvbW9kdWxlc19mZWF0dXJlL2RhcHBfY29ubmVjdC90eXBlc19kYXBwQ29ubmVjdFwiKTtcclxuY29uc3QgYm9yc2hfMSA9IHJlcXVpcmUoXCJib3JzaFwiKTtcclxuY29uc3QgU3RyaW5nVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi9tZXRlb3ItY29tbW9uL3NyYy9tb2R1bGVzX3V0aWxpdHkvZGF0YV90eXBlX3V0aWxzL1N0cmluZ1V0aWxzXCIpO1xyXG5jb25zdCBFbnZpcm9ubWVudFN0b3JhZ2VVdGlsc18xID0gcmVxdWlyZShcIi4uLy4uL21ldGVvci1jb21tb24vc3JjL21vZHVsZXNfdXRpbGl0eS9zdGF0ZV91dGlscy9FbnZpcm9ubWVudFN0b3JhZ2VVdGlsc1wiKTtcclxuY29uc3QgTWV0ZW9yU2RrVXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL01ldGVvclNka1V0aWxzXCIpO1xyXG5jb25zdCBNZXRlb3JQb3N0TWVzc2VuZ2VyXzEgPSByZXF1aXJlKFwiLi9wb3N0TWVzc2FnZS9NZXRlb3JQb3N0TWVzc2VuZ2VyXCIpO1xyXG5jb25zdCBUcmFuc2FjdGlvblNjaGVtYVYyXzEgPSByZXF1aXJlKFwiLi9uZWFyLXNjaGVtYS9UcmFuc2FjdGlvblNjaGVtYVYyXCIpO1xyXG5jb25zdCBjcnlwdG9fMSA9IHJlcXVpcmUoXCJAbmVhci1qcy9jcnlwdG9cIik7XHJcbmNvbnN0IGNyZWF0ZV9hY3Rpb25fMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2NyZWF0ZS1hY3Rpb25cIik7XHJcbmNvbnN0IGJuX2pzXzEgPSByZXF1aXJlKFwiYm4uanNcIik7XHJcbmNvbnN0IExPR0lOX1dBTExFVF9VUkxfU1VGRklYID0gXCIvbG9naW4vXCI7XHJcbmNvbnN0IFNJR05fV0FMTEVUX1VSTF9TVUZGSVggPSBcIi9zaWduL1wiO1xyXG5jb25zdCBNVUxUSVNJR19IQVNfTUVUSE9EID0gXCJhZGRfcmVxdWVzdF9hbmRfY29uZmlybVwiO1xyXG5jb25zdCBMT0NBTF9TVE9SQUdFX0tFWV9TVUZGSVggPSBcIl9tZXRlb3Jfd2FsbGV0X2F1dGhfa2V5XCI7XHJcbmNvbnN0IFBFTkRJTkdfQUNDRVNTX0tFWV9QUkVGSVggPSBcInBlbmRpbmdfa2V5XCI7IC8vIGJyb3dzZXIgc3RvcmFnZSBrZXkgZm9yIGEgcGVuZGluZyBhY2Nlc3Mga2V5IChpLmUuIGtleSBoYXMgYmVlbiBnZW5lcmF0ZWQgYnV0IHdlIGFyZSBub3Qgc3VyZSBpdCB3YXMgYWRkZWQgeWV0KVxyXG5jb25zdCBsb2NhbFN0b3JhZ2VBZGFwdGVyID0gbmV3IEVudmlyb25tZW50U3RvcmFnZVV0aWxzXzEuRW52aXJvbm1lbnRTdGF0ZUFkYXB0ZXJfU3luYyh7XHJcbiAgICBnZXRTdHJpbmc6IChrZXkpID0+IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpLFxyXG4gICAgc2V0U3RyaW5nOiAoa2V5LCB2YWx1ZSkgPT4gd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpLFxyXG4gICAgY2xlYXI6IChrZXkpID0+IHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpLFxyXG59KTtcclxuY29uc3Qgc2Vzc2lvbkFkYXB0ZXIgPSBuZXcgRW52aXJvbm1lbnRTdG9yYWdlVXRpbHNfMS5FbnZpcm9ubWVudFN0YXRlQWRhcHRlcl9TeW5jKHtcclxuICAgIGdldFN0cmluZzogKGtleSkgPT4gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KSxcclxuICAgIHNldFN0cmluZzogKGtleSwgdmFsdWUpID0+IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpLFxyXG4gICAgY2xlYXI6IChrZXkpID0+IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGtleSksXHJcbn0pO1xyXG4vKipcclxuICogVGhpcyBjbGFzcyBpcyB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYG5lYXItYXBpLWpzYCBhbmQgYEJyb3dzZXJMb2NhbFN0b3JhZ2VLZXlTdG9yZWAuXHJcbiAqIEl0IGRpcmVjdHMgdXNlcnMgdG8gdGhlIE1ldGVvciBFeHRlbnNpb24gb3IgKGlmIG5vdCBhdmFpbGFibGUpIGEgcG9wdXAgb2YgdGhlIE1ldGVvciBXYWxsZXQgd2Vic2l0ZSBmb3Iga2V5IG1hbmFnZW1lbnQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGpzXHJcbiAqIGltcG9ydCB7IE1ldGVvcldhbGxldCB9IGZyb20gXCJAbWV0ZW9yd2FsbGV0L3Nka1wiO1xyXG4gKlxyXG4gKiAvLyBjcmVhdGUgbmV3IE1ldGVvcldhbGxldCBpbnN0YW5jZSAocGFzc2luZyBpbiB5b3VyIGluaXRpYWxpemVkIE5lYXIgY29ubmVjdGlvbilcclxuICogY29uc3QgbWV0ZW9yV2FsbGV0ID0gbmV3IE1ldGVvcldhbGxldCh7IG5lYXI6IGNvbm5lY3RlZE5lYXIsIGFwcEtleVByZWZpeDogJ215LWFwcCcgfSk7XHJcbiAqXHJcbiAqIC8vIC0tIG9yIC0tIChmb3IgYSBxdWljayBhbmQgZGVmYXVsdCBOZWFyIGNvbm5lY3Rpb24gY29uZmlnKVxyXG4gKiBjb25zdCBtZXRlb3JXYWxsZXQgPSBNZXRlb3JXYWxsZXQuaW5pdCh7IG5ldHdvcmtJZDogXCJ0ZXN0bmV0XCIgfSk7XHJcbiAqXHJcbiAqIC8vIElmIG5vdCBzaWduZWQgaW4sIHN0YXJ0IHRoZSBzaWduLWluIGZsb3cgd2l0aCBNZXRlb3IgV2FsbGV0LlxyXG4gKiAvLyBLZXlzIHdpbGwgYmUgc3RvcmVkIGluIHRoZSBCcm93c2VyTG9jYWxTdG9yYWdlS2V5U3RvcmVcclxuICogaWYoIW1ldGVvcldhbGxldC5pc1NpZ25lZEluKCkpIHtcclxuICogICBjb25zdCB7IGFjY291bnRJZCB9ID0gYXdhaXQgbWV0ZW9yV2FsbGV0LnJlcXVlc3RTaWduSW4oKTtcclxuICogfVxyXG4gKiBgYGBcclxuICovXHJcbmNsYXNzIE1ldGVvcldhbGxldCB7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBlYXNpZXN0IHdheSB0byBzZXQgdXAgdGhlIFNESy4gUmV0dXJucyBhbiBpbnN0YW5jZSBvZiBNZXRlb3JXYWxsZXQsIGF1dG9tYXRpY2FsbHkgY29ubmVjdGVkIHRvIHRoZSBOZWFyIEFQSS5cclxuICAgICAqXHJcbiAgICAgKiBJZiB5b3UgbmVlZCBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgTmVhciBOZXR3b3JrIGNvbmZpZ3VyYXRpb24tIHJhdGhlciB1c2Uge0BsaW5rIE1ldGVvcldhbGxldDpjb25zdHJ1Y3Rvcn1cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogYGBganNcclxuICAgICAqIGNvbnN0IHdhbGxldCA9IGF3YWl0IE1ldGVvcldhbGxldC5pbml0KHsgbmV0d29ya0lkOiBcInRlc3RuZXRcIiB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgaW5pdCh7IHdhbGxldFVybCwgLi4uY29uZmlnIH0pIHtcclxuICAgICAgICBjb25zdCBrZXlTdG9yZSA9IG5ldyBuZWFyX2FwaV9qc18xLmtleVN0b3Jlcy5Ccm93c2VyTG9jYWxTdG9yYWdlS2V5U3RvcmUoKTtcclxuICAgICAgICBjb25zdCBuZWFyID0gYXdhaXQgKDAsIG5lYXJfYXBpX2pzXzEuY29ubmVjdCkoe1xyXG4gICAgICAgICAgICBrZXlTdG9yZSxcclxuICAgICAgICAgICAgaGVhZGVyczoge30sXHJcbiAgICAgICAgICAgIHdhbGxldFVybDogKDAsIE1ldGVvclNka1V0aWxzXzEucmVzb2x2ZVdhbGxldFVybCkoY29uZmlnLm5ldHdvcmtJZCwgd2FsbGV0VXJsKSxcclxuICAgICAgICAgICAgLi4uKDAsIE1ldGVvclNka1V0aWxzXzEuZ2V0TmV0d29ya1ByZXNldCkoY29uZmlnLm5ldHdvcmtJZCksXHJcbiAgICAgICAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCB3YWxsZXQgPSBuZXcgTWV0ZW9yV2FsbGV0KHsgbmVhciwgYXBwS2V5UHJlZml4OiBcIm5lYXJfYXBwXCIgfSk7XHJcbiAgICAgICAgLy8gQ2xlYW51cCB1cCBhbnkgcGVuZGluZyBrZXlzIChjYW5jZWxsZWQgbG9naW5zKS5cclxuICAgICAgICBpZiAoIXdhbGxldC5pc1NpZ25lZEluKCkpIHtcclxuICAgICAgICAgICAgYXdhaXQga2V5U3RvcmUuY2xlYXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHdhbGxldDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0IE1ldGVvcldhbGxldC4gSWYgeW91J2QgYSBxdWljayBhbmQgZGVmYXVsdCB3YXksIHlvdSBjYW4gYWxzbyB1c2Uge0BsaW5rIE1ldGVvcldhbGxldC5pbml0fVxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gY3JlYXRlIG5ldyBNZXRlb3JXYWxsZXQgaW5zdGFuY2UgKHBhc3NpbmcgaW4geW91ciBpbml0aWFsaXplZCBOZWFyIGNvbm5lY3Rpb24pXHJcbiAgICAgKiBjb25zdCBtZXRlb3JXYWxsZXQgPSBuZXcgTWV0ZW9yV2FsbGV0KHsgbmVhcjogY29ubmVjdGVkTmVhciwgYXBwS2V5UHJlZml4OiAnbXktYXBwJyB9KTtcclxuICAgICAqXHJcbiAgICAgKiBpZighbWV0ZW9yV2FsbGV0LmlzU2lnbmVkSW4oKSkge1xyXG4gICAgICogICBjb25zdCB7IGFjY291bnRJZCB9ID0gYXdhaXQgbWV0ZW9yV2FsbGV0LnJlcXVlc3RTaWduSW4oKTtcclxuICAgICAqIH1cclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcih7IG5lYXIsIGFwcEtleVByZWZpeCA9IG5lYXIuY29uZmlnLmNvbnRyYWN0TmFtZSA/PyBcImRlZmF1bHRcIiwgfSkge1xyXG4gICAgICAgIC8qKiBAaGlkZGVuICovXHJcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6YXRpb25Qcm9taXNlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX25lYXIgPSBuZWFyO1xyXG4gICAgICAgIGNvbnN0IGF1dGhEYXRhS2V5ID0gYXBwS2V5UHJlZml4ICsgTE9DQUxfU1RPUkFHRV9LRVlfU1VGRklYO1xyXG4gICAgICAgIHRoaXMuX2F1dGhEYXRhS2V5ID0gYXV0aERhdGFLZXk7XHJcbiAgICAgICAgdGhpcy5fYXV0aERhdGEgPSBsb2NhbFN0b3JhZ2VBZGFwdGVyLmdldEpzb24oYXV0aERhdGFLZXkpID8/IHsgYWxsS2V5czogW10gfTtcclxuICAgICAgICB0aGlzLl9uZXR3b3JrSWQgPSBuZWFyLmNvbmZpZy5uZXR3b3JrSWQ7XHJcbiAgICAgICAgdGhpcy5fd2FsbGV0QmFzZVVybCA9IG5lYXIuY29uZmlnLndhbGxldFVybDtcclxuICAgICAgICB0aGlzLl9rZXlTdG9yZSA9IG5lYXIuY29ubmVjdGlvbi5zaWduZXIua2V5U3RvcmU7XHJcbiAgICAgICAgLypcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkluaXRpYWxpemVkIHdhbGxldC0gY2hlY2tpbmcgaWYgc2lnbmVkIGluXCIpO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzU2lnbmVkSW4oKSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJDb21wbGV0aW5nIHNpZ24taW4gcHJvY2VzcywgaWYgaXRzIGF2YWlsYWJsZVwiKTtcclxuICAgICAgICAgIHRoaXMuX2luaXRpYWxpemF0aW9uUHJvbWlzZXMucHVzaCh0aGlzLl9jb21wbGV0ZVNpZ25JbldpdGhBY2Nlc3NLZXkoKSk7XHJcbiAgICAgICAgfSovXHJcbiAgICB9XHJcbiAgICAvKiBhc3luYyBpbml0aWFsaXplKCkge1xyXG4gICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5faW5pdGlhbGl6YXRpb25Qcm9taXNlcyk7XHJcbiAgICAgfSovXHJcbiAgICBpc0V4dGVuc2lvbkluc3RhbGxlZCgpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93Lm1ldGVvcldhbGxldCAhPSBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUsIGlmIHRoaXMgYXBwIGlzIGF1dGhvcml6ZWQgd2l0aCBhbiBhY2NvdW50IGluIHRoZSB3YWxsZXQuXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogYGBganNcclxuICAgICAqIGNvbnN0IHdhbGxldCA9IG5ldyBNZXRlb3JXYWxsZXQoeyBuZWFyOiBjb25uZWN0ZWROZWFyLCBhcHBLZXlQcmVmaXg6ICdteS1hcHAnIH0pO1xyXG4gICAgICogd2FsbGV0LmlzU2lnbmVkSW4oKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBpc1NpZ25lZEluKCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2F1dGhEYXRhLmFjY291bnRJZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhdXRob3JpemVkIEFjY291bnQgSUQuXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogYGBganNcclxuICAgICAqIGNvbnN0IHdhbGxldCA9IG5ldyBNZXRlb3JXYWxsZXQobmVhciwgJ215LWFwcCcpO1xyXG4gICAgICogY29uc3QgYWNjb3VudElkID0gd2FsbGV0LmdldEFjY291bnRJZCgpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGdldEFjY291bnRJZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYXV0aERhdGEuYWNjb3VudElkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBWZXJpZmllcyB0aGF0IHRoZSB1c2VyIGlzIHRoZSBvd25lciBvZiBhIHNwZWNpZmljIE5lYXIgYWNjb3VudCwgYXZhaWxhYmxlIGluIHRoZSB3YWxsZXQuXHJcbiAgICAgKiBSZW1vdmVzIHRoZSBuZWVkIHRvIGRvIGJsb2NrY2hhaW4gb3BlcmF0aW9ucyBmb3Igc2ltcGxlIERhcHAgYWN0aW9ucy5cclxuICAgICAqIFNpZ25zIGEgcGF5bG9hZCB3aXRoIHRoZSB3YWxsZXQncyBwcml2YXRlIGtleS4gV2lsbCByZXR1cm4gYSBwcm9taXNlIHdpdGggYSBwYXlsb2FkIGxpa2Ugc286XHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIGludGVyZmFjZSBWZXJpZmllZE93bmVyIHtcclxuICAgICAqICAgYWNjb3VudElkOiBzdHJpbmc7XHJcbiAgICAgKiAgIG1lc3NhZ2U6IHN0cmluZzsgICAgICAgICAgICAgICAgIC8vIFRoZSBzYW1lIHBhc3NlZCBtZXNzYWdlLCB1bmVuY3J5cHRlZFxyXG4gICAgICogICBibG9ja0lkOiBzdHJpbmc7XHJcbiAgICAgKiAgIHB1YmxpY0tleTogc3RyaW5nOyAgICAgICAgICAgICAgIC8vIFRoZSBwdWJsaWMga2V5IHdoaWNoIHNob3VsZCBiZSB2ZXJpZmllZCBhcyBiZWxvbmdpbmcgdG8gdGhpcyBhY2NvdW50XHJcbiAgICAgKiAgIHNpZ25hdHVyZTogc3RyaW5nOyAgICAgICAgICAgICAgIC8vIFRoZSBzaWduZWQgcGF5bG9hZCAodGhpcyBleGFjdCBzYW1lIG9iamVjdCBKU09OIHN0cmluZ2lmaWVkLCBleGNsdWRpbmcgdGhpcyBcInNpZ25hdHVyZVwiIHByb3BlcnR5KVxyXG4gICAgICogICBrZXlUeXBlOiB1dGlscy5rZXlfcGFpci5LZXlUeXBlOyAvLyBUeXBlIGZyb20gaW5zaWRlIHRoZSBuZWFyLWFwaS1qcyBwYWNrYWdlXHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBvciB0aHJvdyBhIHtAbGluayBNZXRlb3JBY3Rpb25FcnJvcn0gZXJyb3IgaWYgdGhlIHZlcmlmaWNhdGlvbiBmYWlsZWQgZm9yIHdoYXRldmVyIHJlYXNvbi5cclxuICAgICAqICovXHJcbiAgICBhc3luYyB2ZXJpZnlPd25lcihvcHRpb25zKSB7XHJcbiAgICAgICAgY29uc3QgYWNjb3VudElkID0gb3B0aW9ucy5hY2NvdW50SWQgPz8gdGhpcy5nZXRBY2NvdW50SWQoKTtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0ICgwLCBNZXRlb3JQb3N0TWVzc2VuZ2VyXzEuZ2V0TWV0ZW9yUG9zdE1lc3NlbmdlcikoKS5jb25uZWN0QW5kV2FpdEZvclJlc3BvbnNlKHtcclxuICAgICAgICAgICAgYWN0aW9uVHlwZTogdHlwZXNfZGFwcENvbm5lY3RfMS5FRXh0ZXJuYWxBY3Rpb25UeXBlLnZlcmlmeV9vd25lcixcclxuICAgICAgICAgICAgaW5wdXRzOiB7XHJcbiAgICAgICAgICAgICAgICBhY2NvdW50SWQsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLm1lc3NhZ2UsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5ldHdvcms6IHRoaXMuX25ldHdvcmtJZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgdHlwZXNfZGFwcENvbm5lY3RfMS5NZXRlb3JBY3Rpb25FcnJvcih7XHJcbiAgICAgICAgICAgICAgICBlbmRUYWdzOiByZXNwb25zZS5lbmRUYWdzLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXF1ZXN0cyBhIHNpZ24taW4gdXNpbmcgTWV0ZW9yIFdhbGxldC4gV2lsbCByZXR1cm4gYSBwcm9taXNlIHdpdGggdGhlIGBhY2NvdW50SWRgIG9mIHRoZVxyXG4gICAgICogc2lnbmVkLWluIGFjY291bnQsIG9yIHRocm93IGEge0BsaW5rIE1ldGVvckFjdGlvbkVycm9yfSBlcnJvciBpZiB0aGUgc2lnbi1pbiBmYWlsZWQgZm9yIHdoYXRldmVyIHJlYXNvbi5cclxuICAgICAqICovXHJcbiAgICBhc3luYyByZXF1ZXN0U2lnbkluKG9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCB7IGtleVBhaXIsIC4uLnJlc3RPcHRpb25zIH0gPSBvcHRpb25zO1xyXG4gICAgICAgIGNvbnN0IGFjY2Vzc0tleSA9IGtleVBhaXIgPz8gbmVhcl9hcGlfanNfMS5LZXlQYWlyLmZyb21SYW5kb20oXCJlZDI1NTE5XCIpO1xyXG4gICAgICAgIGxldCB1c2luZ1B1YmxpY0tleSA9IGFjY2Vzc0tleS5nZXRQdWJsaWNLZXkoKS50b1N0cmluZygpO1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgKDAsIE1ldGVvclBvc3RNZXNzZW5nZXJfMS5nZXRNZXRlb3JQb3N0TWVzc2VuZ2VyKSgpLmNvbm5lY3RBbmRXYWl0Rm9yUmVzcG9uc2Uoe1xyXG4gICAgICAgICAgICBhY3Rpb25UeXBlOiB0eXBlc19kYXBwQ29ubmVjdF8xLkVFeHRlcm5hbEFjdGlvblR5cGUubG9naW4sXHJcbiAgICAgICAgICAgIGlucHV0czogeyBwdWJsaWNfa2V5OiB1c2luZ1B1YmxpY0tleSwgLi4ucmVzdE9wdGlvbnMgfSxcclxuICAgICAgICAgICAgbmV0d29yazogdGhpcy5fbmV0d29ya0lkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgYWxsS2V5cywgYWNjb3VudElkIH0gPSByZXNwb25zZS5wYXlsb2FkO1xyXG4gICAgICAgICAgICB0aGlzLl9hdXRoRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIGFjY291bnRJZCxcclxuICAgICAgICAgICAgICAgIGFsbEtleXMsXHJcbiAgICAgICAgICAgICAgICBzaWduZWRJbkNvbnRyYWN0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJhY3RfaWQ6IHJlc3RPcHRpb25zLmNvbnRyYWN0X2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIHB1YmxpY19rZXk6IHVzaW5nUHVibGljS2V5LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlQWRhcHRlci5zZXRKc29uKHRoaXMuX2F1dGhEYXRhS2V5LCB0aGlzLl9hdXRoRGF0YSk7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2tleVN0b3JlLnNldEtleSh0aGlzLl9uZXR3b3JrSWQsIGFjY291bnRJZCwgYWNjZXNzS2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBlbmRUYWdzOiBbXSxcclxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudElkLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyB0eXBlc19kYXBwQ29ubmVjdF8xLk1ldGVvckFjdGlvbkVycm9yKHtcclxuICAgICAgICAgICAgICAgIGVuZFRhZ3M6IHJlc3BvbnNlLmVuZFRhZ3MsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNpZ24gb3V0IGZyb20gdGhlIGN1cnJlbnQgYWNjb3VudFxyXG4gICAgICovXHJcbiAgICBhc3luYyBzaWduT3V0KCkge1xyXG4gICAgICAgIGNvbnN0IGFjY291bnRJZCA9IHRoaXMuZ2V0QWNjb3VudElkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2F1dGhEYXRhLnNpZ25lZEluQ29udHJhY3QgIT0gbnVsbCAmJiBhY2NvdW50SWQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbnB1dHMgPSB7XHJcbiAgICAgICAgICAgICAgICBhY2NvdW50SWQsXHJcbiAgICAgICAgICAgICAgICBjb250cmFjdEluZm86IHRoaXMuX2F1dGhEYXRhLnNpZ25lZEluQ29udHJhY3QsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgKDAsIE1ldGVvclBvc3RNZXNzZW5nZXJfMS5nZXRNZXRlb3JQb3N0TWVzc2VuZ2VyKSgpLmNvbm5lY3RBbmRXYWl0Rm9yUmVzcG9uc2Uoe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uVHlwZTogdHlwZXNfZGFwcENvbm5lY3RfMS5FRXh0ZXJuYWxBY3Rpb25UeXBlLmxvZ291dCxcclxuICAgICAgICAgICAgICAgIGlucHV0cyxcclxuICAgICAgICAgICAgICAgIG5ldHdvcms6IHRoaXMuX25ldHdvcmtJZCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2F1dGhEYXRhID0geyBhbGxLZXlzOiBbXSB9O1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZUFkYXB0ZXIuY2xlYXIodGhpcy5fYXV0aERhdGFLZXkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBbGxvd3MgdXNlcnMgdG8gc2lnbiBhIG1lc3NhZ2UgZm9yIGEgc3BlY2lmaWMgcmVjaXBpZW50IHVzaW5nIHRoZWlyIE5FQVIgYWNjb3VudCwgYmFzZWQgb24gdGhlIFtORVA0MTNdKGh0dHBzOi8vZ2l0aHViLmNvbS9uZWFyL05FUHMvcHVsbC80MTMpLlxyXG4gICAgICpcclxuICAgICAqIFdpbGwgcmV0dXJuIGEgcHJvbWlzZSB3aXRoIGEgcGF5bG9hZCBsaWtlIHNvOlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiBpbnRlcmZhY2Ugc2lnbk1lc3NhZ2Uge1xyXG4gICAgICogICBhY2NvdW50SWQ6IHN0cmluZzsgICAgICAgICAgICAgICAvLyBUaGUgYWNjb3VudCBuYW1lIHRvIHdoaWNoIHRoZSBwdWJsaWNLZXkgY29ycmVzcG9uZHMgYXMgcGxhaW4gdGV4dFxyXG4gICAgICogICBwdWJsaWNLZXk6IHN0cmluZzsgICAgICAgICAgICAgICAvLyBUaGUgcHVibGljIGNvdW50ZXJwYXJ0IG9mIHRoZSBrZXkgdXNlZCB0byBzaWduXHJcbiAgICAgKiAgIHNpZ25hdHVyZTogc3RyaW5nOyAgICAgICAgICAgICAgIC8vIFRoZSBiYXNlNjQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHNpZ25hdHVyZVxyXG4gICAgICogICBzdGF0ZT86IHN0cmluZzsgICAgICAgICAgICAgICAgICAvLyBUaGUgc2FtZSBzdGF0ZSBwYXNzZWQgaW4uXHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBvciB0aHJvdyBhIHtAbGluayBNZXRlb3JBY3Rpb25FcnJvcn0gZXJyb3IgaWYgdGhlIHNpZ25pbmcgZmFpbGVkIGZvciB3aGF0ZXZlciByZWFzb24uXHJcbiAgICAgKiAqL1xyXG4gICAgYXN5bmMgc2lnbk1lc3NhZ2UoeyBtZXNzYWdlLCBub25jZSwgcmVjaXBpZW50LCBjYWxsYmFja1VybCwgc3RhdGUsIGFjY291bnRJZCwgfSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgKDAsIE1ldGVvclBvc3RNZXNzZW5nZXJfMS5nZXRNZXRlb3JQb3N0TWVzc2VuZ2VyKSgpLmNvbm5lY3RBbmRXYWl0Rm9yUmVzcG9uc2Uoe1xyXG4gICAgICAgICAgICBhY3Rpb25UeXBlOiB0eXBlc19kYXBwQ29ubmVjdF8xLkVFeHRlcm5hbEFjdGlvblR5cGUuc2lnbl9tZXNzYWdlLFxyXG4gICAgICAgICAgICBpbnB1dHM6IHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICBub25jZSxcclxuICAgICAgICAgICAgICAgIHJlY2lwaWVudCxcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrVXJsLFxyXG4gICAgICAgICAgICAgICAgc3RhdGUsXHJcbiAgICAgICAgICAgICAgICBhY2NvdW50SWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5ldHdvcms6IHRoaXMuX25ldHdvcmtJZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICByZXNwb25zZS5wYXlsb2FkLnN0YXRlID0gc3RhdGU7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyB0eXBlc19kYXBwQ29ubmVjdF8xLk1ldGVvckFjdGlvbkVycm9yKHtcclxuICAgICAgICAgICAgICAgIGVuZFRhZ3M6IHJlc3BvbnNlLmVuZFRhZ3MsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNpZ24gdHJhbnNhY3Rpb25zIHVzaW5nIE1ldGVvciBXYWxsZXQuIFdpbGwgcmV0dXJuIGEgcHJvbWlzZSB3aXRoIGFuIGFycmF5IG9mIGBGaW5hbEV4ZWN1dGlvbk91dGNvbWVgXHJcbiAgICAgKiBvZiB0aGUgZ2l2ZW4gdHJhbnNhY3Rpb25zLlxyXG4gICAgICogKi9cclxuICAgIGFzeW5jIHJlcXVlc3RTaWduVHJhbnNhY3Rpb25zKGlucHV0cykge1xyXG4gICAgICAgIGNvbnN0IHsgdHJhbnNhY3Rpb25zIH0gPSBpbnB1dHM7XHJcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRUcmFuc2FjdGlvbnMgPSBhd2FpdCB0aGlzLnRyYW5zZm9ybVRyYW5zYWN0aW9ucyh0cmFuc2FjdGlvbnMpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVHJhbnNmb3JtZWQgdHJhbnNhY3Rpb25zXCIsIHRyYW5zZm9ybWVkVHJhbnNhY3Rpb25zKTtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0ICgwLCBNZXRlb3JQb3N0TWVzc2VuZ2VyXzEuZ2V0TWV0ZW9yUG9zdE1lc3NlbmdlcikoKS5jb25uZWN0QW5kV2FpdEZvclJlc3BvbnNlKHtcclxuICAgICAgICAgICAgYWN0aW9uVHlwZTogdHlwZXNfZGFwcENvbm5lY3RfMS5FRXh0ZXJuYWxBY3Rpb25UeXBlLnNpZ24sXHJcbiAgICAgICAgICAgIGlucHV0czoge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiB0cmFuc2Zvcm1lZFRyYW5zYWN0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKHRyYW5zYWN0aW9uKSA9PiAoMCwgYm9yc2hfMS5zZXJpYWxpemUpKFRyYW5zYWN0aW9uU2NoZW1hVjJfMS5TQ0hFTUFfVjIsIHRyYW5zYWN0aW9uKSlcclxuICAgICAgICAgICAgICAgICAgICAubWFwKChzZXJpYWxpemVkKSA9PiBCdWZmZXIuZnJvbShzZXJpYWxpemVkKS50b1N0cmluZyhcImJhc2U2NFwiKSlcclxuICAgICAgICAgICAgICAgICAgICAuam9pbihcIixcIiksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGlucHV0czogeyBwdWJsaWNfa2V5OiB1c2luZ1B1YmxpY0tleSwgLi4ub3B0aW9ucyB9LFxyXG4gICAgICAgICAgICBuZXR3b3JrOiB0aGlzLl9uZXR3b3JrSWQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJGaW5pc2hlZCBzaWduLWluIHJlcXVlc3RcIiwgcmVzcG9uc2UpO1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5wYXlsb2FkLmV4ZWN1dGlvbk91dGNvbWVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IHR5cGVzX2RhcHBDb25uZWN0XzEuTWV0ZW9yQWN0aW9uRXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgZW5kVGFnczogcmVzcG9uc2UuZW5kVGFncyxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2UsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBjb25uZWN0ZWQgd2FsbGV0IGFjY291bnRcclxuICAgICAqL1xyXG4gICAgYWNjb3VudCgpIHtcclxuICAgICAgICBjb25zdCBjdXJyZW50QWNjb3VudElkID0gdGhpcy5nZXRBY2NvdW50SWQoKTtcclxuICAgICAgICBpZiAoKDAsIFN0cmluZ1V0aWxzXzEubm90TnVsbEVtcHR5KShjdXJyZW50QWNjb3VudElkKSAmJlxyXG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0ZWRBY2NvdW50Py5hY2NvdW50SWQgIT09IGN1cnJlbnRBY2NvdW50SWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29ubmVjdGVkQWNjb3VudCA9IG5ldyBDb25uZWN0ZWRNZXRlb3JXYWxsZXRBY2NvdW50KHRoaXMsIHRoaXMuX25lYXIuY29ubmVjdGlvbiwgY3VycmVudEFjY291bnRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0ZWRBY2NvdW50O1xyXG4gICAgfVxyXG4gICAgYXN5bmMgdHJhbnNmb3JtVHJhbnNhY3Rpb25zKHRyYW5zYWN0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IGFjY291bnQgPSB0aGlzLmFjY291bnQoKTtcclxuICAgICAgICBjb25zdCB7IG5ldHdvcmtJZCwgc2lnbmVyLCBwcm92aWRlciB9ID0gYWNjb3VudC5jb25uZWN0aW9uO1xyXG4gICAgICAgIGNvbnN0IGxvY2FsS2V5ID0gYXdhaXQgc2lnbmVyLmdldFB1YmxpY0tleShhY2NvdW50LmFjY291bnRJZCwgbmV0d29ya0lkKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwodHJhbnNhY3Rpb25zLm1hcChhc3luYyAodHJhbnNhY3Rpb24sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc0tleSA9IGF3YWl0IGFjY291bnQuYWNjZXNzS2V5Rm9yVHJhbnNhY3Rpb24obG9jYWxLZXkpO1xyXG4gICAgICAgICAgICBpZiAoIWFjY2Vzc0tleSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmluZCBtYXRjaGluZyBrZXkgZm9yIHRyYW5zYWN0aW9uIHNlbnQgdG8gJHt0cmFuc2FjdGlvbi5yZWNlaXZlcklkfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkQWN0aW9ucyA9IHRyYW5zYWN0aW9uLmFjdGlvbnMubWFwKChhY3Rpb24pID0+ICgwLCBjcmVhdGVfYWN0aW9uXzEuY3JlYXRlQWN0aW9uKShhY3Rpb24pKTtcclxuICAgICAgICAgICAgY29uc3QgYmxvY2sgPSBhd2FpdCBwcm92aWRlci5ibG9jayh7IGZpbmFsaXR5OiBcImZpbmFsXCIgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiAoMCwgdHJhbnNhY3Rpb25zXzEuY3JlYXRlVHJhbnNhY3Rpb24pKGFjY291bnQuYWNjb3VudElkLCBjcnlwdG9fMS5QdWJsaWNLZXkuZnJvbShhY2Nlc3NLZXkucHVibGljX2tleSksIHRyYW5zYWN0aW9uLnJlY2VpdmVySWQsIG5ldyBibl9qc18xLkJOKGFjY2Vzc0tleS5hY2Nlc3Nfa2V5Lm5vbmNlKS5hZGQobmV3IGJuX2pzXzEuQk4oaW5kZXgpKS5hZGQobmV3IGJuX2pzXzEuQk4oMSkpLCB0cmFuc2Zvcm1lZEFjdGlvbnMsIG5lYXJfYXBpX2pzXzEudXRpbHMuc2VyaWFsaXplLmJhc2VfZGVjb2RlKGJsb2NrLmhlYWRlci5oYXNoKSk7XHJcbiAgICAgICAgICAgIC8qcmV0dXJuIHtcclxuICAgICAgICAgICAgICByZWNlaXZlcklkOiB0cmFuc2FjdGlvbi5yZWNlaXZlcklkLFxyXG4gICAgICAgICAgICAgIHNpZ25lcklkOiBhY2NvdW50LmFjY291bnRJZCxcclxuICAgICAgICAgICAgICBhY3Rpb25zOiB0cmFuc2Zvcm1lZEFjdGlvbnMsXHJcbiAgICAgICAgICAgIH07Ki9cclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5NZXRlb3JXYWxsZXQgPSBNZXRlb3JXYWxsZXQ7XHJcbi8qKlxyXG4gKiBOZWFyIEFjY291bnQgaW1wbGVtZW50YXRpb24gd2hpY2ggbWFrZXMgdXNlIG9mIHtAbGluayBNZXRlb3JXYWxsZXR9IHdoZW4gbm8gbG9jYWwga2V5IGlzIGF2YWlsYWJsZS5cclxuICpcclxuICogR2VuZXJhbGx5IHdvbid0IGJlIGNyZWF0ZWQgZGlyZWN0bHktIGNhbiBiZSBvYnRhaW5lZCBieSB1c2luZyB7QGxpbmsgTWV0ZW9yV2FsbGV0LmFjY291bnR9XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGpzXHJcbiAqIGNvbnN0IGFjY291bnQgPSBtZXRlb3JXYWxsZXQuYWNjb3VudCgpO1xyXG4gKlxyXG4gKiAvLyB1c2VzIE1ldGVvciBXYWxsZXQgdG8gc2lnbiB0aGUgdHJhbnNhY3Rpb24gdXNpbmcgdGhpcyBhY2NvdW50XHJcbiAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWNjb3VudC5yZXF1ZXN0U2lnblRyYW5zYWN0aW9uKHtcclxuICogICBhY3Rpb25zOiB0cmFuc2FjdGlvbkFjdGlvbnMsXHJcbiAqICAgcmVjZWl2ZXJJZDogXCJteS1jb250cmFjdFwiXHJcbiAqIH0pO1xyXG4gKiBgYGBcclxuICovXHJcbmNsYXNzIENvbm5lY3RlZE1ldGVvcldhbGxldEFjY291bnQgZXh0ZW5kcyBuZWFyX2FwaV9qc18xLkFjY291bnQge1xyXG4gICAgLyoqIEBoaWRkZW4gKi9cclxuICAgIGNvbnN0cnVjdG9yKHdhbGxldENvbm5lY3Rpb24sIGNvbm5lY3Rpb24sIGFjY291bnRJZCkge1xyXG4gICAgICAgIHN1cGVyKGNvbm5lY3Rpb24sIGFjY291bnRJZCk7XHJcbiAgICAgICAgdGhpcy5tZXRlb3JXYWxsZXQgPSB3YWxsZXRDb25uZWN0aW9uO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTaWduIGEgdHJhbnNhY3Rpb24gdXNpbmcgTWV0ZW9yIFdhbGxldC4gT3ZlcnJpZGVzIHRoZSBOZWFyIEFjY291bnQgQVBJIG1ldGhvZCBvZiB0aGUgc2FtZSBuYW1lLCBtYWtlcyB1c2Ugb2Yge0BsaW5rIENvbm5lY3RlZE1ldGVvcldhbGxldEFjY291bnQuc2lnbkFuZFNlbmRUcmFuc2FjdGlvbl9kaXJlY3R9XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHNpZ25BbmRTZW5kVHJhbnNhY3Rpb24oLi4uYXJncykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaWduQW5kU2VuZFRyYW5zYWN0aW9uX2RpcmVjdCh7XHJcbiAgICAgICAgICAgICAgICByZWNlaXZlcklkOiBhcmdzWzBdLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uczogYXJnc1sxXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnNpZ25BbmRTZW5kVHJhbnNhY3Rpb25fZGlyZWN0KGFyZ3NbMF0pO1xyXG4gICAgfVxyXG4gICAgLyoqIEBoaWRkZW4gKi9cclxuICAgIGFzeW5jIHRyeVNlbmRPckNyZWF0ZVRyYW5zYWN0aW9uKHsgcmVjZWl2ZXJJZCwgYWN0aW9ucywgfSkge1xyXG4gICAgICAgIGNvbnN0IGxvY2FsS2V5ID0gYXdhaXQgdGhpcy5jb25uZWN0aW9uLnNpZ25lci5nZXRQdWJsaWNLZXkodGhpcy5hY2NvdW50SWQsIHRoaXMuY29ubmVjdGlvbi5uZXR3b3JrSWQpO1xyXG4gICAgICAgIGxldCBhY2Nlc3NLZXkgPSBhd2FpdCB0aGlzLmFjY2Vzc0tleUZvclRyYW5zYWN0aW9uKGxvY2FsS2V5KTtcclxuICAgICAgICBpZiAoYWNjZXNzS2V5ICE9IG51bGwgJiYgYWNjZXNzS2V5LmFjY2Vzc19rZXkucGVybWlzc2lvbiAhPT0gXCJGdWxsQWNjZXNzXCIpIHtcclxuICAgICAgICAgICAgLy8gY2hlY2sgdGhhdCB0aGlzIGlzIGEgdmFsaWQgYWNjZXNzIGtleSBmb3IgdGhlIGdpdmVuIHRyYW5zYWN0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc0tleU1hdGNoZXNUcmFuc2FjdGlvbiA9IGF3YWl0IHRoaXMuYWNjZXNzS2V5TWF0Y2hlc1RyYW5zYWN0aW9uKGFjY2Vzc0tleSwgcmVjZWl2ZXJJZCwgYWN0aW9ucyk7XHJcbiAgICAgICAgICAgIGlmICghYWNjZXNzS2V5TWF0Y2hlc1RyYW5zYWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbnQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25lcklkOiB0aGlzLmFjY291bnRJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWNjZXNzS2V5KSB7XHJcbiAgICAgICAgICAgIGlmIChsb2NhbEtleSAmJiBsb2NhbEtleS50b1N0cmluZygpID09PSBhY2Nlc3NLZXkucHVibGljX2tleSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRpb25PdXRjb21lOiBhd2FpdCBzdXBlci5zaWduQW5kU2VuZFRyYW5zYWN0aW9uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVySWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBhY3Rpb25zLm1hcCgoYWN0aW9uKSA9PiAoMCwgY3JlYXRlX2FjdGlvbl8xLmNyZWF0ZUFjdGlvbikoYWN0aW9uKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW50OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnR5cGUgIT09IFwiTm90RW5vdWdoQWxsb3dhbmNlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWNjZXNzS2V5ID0gYXdhaXQgdGhpcy5hY2Nlc3NLZXlGb3JUcmFuc2FjdGlvbihyZWNlaXZlcklkLCBhY3Rpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLypjb25zdCBibG9jayA9IGF3YWl0IHRoaXMuY29ubmVjdGlvbi5wcm92aWRlci5ibG9jayh7IGZpbmFsaXR5OiBcImZpbmFsXCIgfSk7XHJcbiAgICAgICAgY29uc3QgYmxvY2tIYXNoID0gYmFzZURlY29kZShibG9jay5oZWFkZXIuaGFzaCk7XHJcbiAgICBcclxuICAgICAgICBjb25zdCBwdWJsaWNLZXkgPSB1dGlscy5QdWJsaWNLZXkuZnJvbShhY2Nlc3NLZXkucHVibGljX2tleSk7XHJcbiAgICAgICAgLy8gVE9ETzogQ2FjaGUgJiBsaXN0ZW4gZm9yIG5vbmNlIHVwZGF0ZXMgZm9yIGdpdmVuIGFjY2VzcyBrZXlcclxuICAgICAgICBjb25zdCBub25jZSA9IGFjY2Vzc0tleS5hY2Nlc3Nfa2V5Lm5vbmNlICsgMTtcclxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRyYW5zYWN0aW9ucy5jcmVhdGVUcmFuc2FjdGlvbihcclxuICAgICAgICAgIHRoaXMuYWNjb3VudElkLFxyXG4gICAgICAgICAgcHVibGljS2V5LFxyXG4gICAgICAgICAgcmVjZWl2ZXJJZCxcclxuICAgICAgICAgIG5vbmNlLFxyXG4gICAgICAgICAgYWN0aW9ucyxcclxuICAgICAgICAgIGJsb2NrSGFzaCxcclxuICAgICAgICApOyovXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2VudDogZmFsc2UsXHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICByZWNlaXZlcklkLFxyXG4gICAgICAgICAgICAgICAgc2lnbmVySWQ6IHRoaXMuYWNjb3VudElkLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9ucyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTaWduIGEgdHJhbnNhY3Rpb24gdXNpbmcgTWV0ZW9yIFdhbGxldFxyXG4gICAgICogQHNlZSB7QGxpbmsgTWV0ZW9yV2FsbGV0LnJlcXVlc3RTaWduVHJhbnNhY3Rpb25zfVxyXG4gICAgICovXHJcbiAgICBhc3luYyBzaWduQW5kU2VuZFRyYW5zYWN0aW9uX2RpcmVjdCh7IHJlY2VpdmVySWQsIGFjdGlvbnMsIH0pIHtcclxuICAgICAgICBjb25zdCB7IHRyYW5zYWN0aW9uLCBzZW50LCBleGVjdXRpb25PdXRjb21lIH0gPSBhd2FpdCB0aGlzLnRyeVNlbmRPckNyZWF0ZVRyYW5zYWN0aW9uKHsgcmVjZWl2ZXJJZCwgYWN0aW9ucyB9KTtcclxuICAgICAgICBpZiAoc2VudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhlY3V0aW9uT3V0Y29tZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChhd2FpdCB0aGlzLm1ldGVvcldhbGxldC5yZXF1ZXN0U2lnblRyYW5zYWN0aW9ucyh7XHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uczogW3RyYW5zYWN0aW9uXSxcclxuICAgICAgICB9KSlbMF07XHJcbiAgICB9XHJcbiAgICAvKiogQGhpZGRlbiAqL1xyXG4gICAgLyphc3luYyBzaWduQW5kU2VuZFRyYW5zYWN0aW9uX3JlZGlyZWN0KHtcclxuICAgICAgcmVjZWl2ZXJJZCxcclxuICAgICAgYWN0aW9ucyxcclxuICAgICAgd2FsbGV0TWV0YSxcclxuICAgICAgd2FsbGV0Q2FsbGJhY2tVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZixcclxuICAgIH06IFNpZ25BbmRTZW5kVHJhbnNhY3Rpb25PcHRpb25zKTogUHJvbWlzZTxGaW5hbEV4ZWN1dGlvbk91dGNvbWU+IHtcclxuICAgICAgY29uc3QgeyB0cmFuc2FjdGlvbiwgc2VudCwgZXhlY3V0aW9uT3V0Y29tZSB9ID0gYXdhaXQgdGhpcy50cnlTZW5kT3JDcmVhdGVUcmFuc2FjdGlvbih7IHJlY2VpdmVySWQsIGFjdGlvbnMgfSk7XHJcbiAgXHJcbiAgICAgIGlmIChzZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGV4ZWN1dGlvbk91dGNvbWUhO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIGF3YWl0IHRoaXMubWV0ZW9yV2FsbGV0LnJlcXVlc3RTaWduVHJhbnNhY3Rpb25zX3JlZGlyZWN0KHtcclxuICAgICAgICB0cmFuc2FjdGlvbnM6IFt0cmFuc2FjdGlvbiFdLFxyXG4gICAgICAgIG1ldGE6IHdhbGxldE1ldGEsXHJcbiAgICAgICAgY2FsbGJhY2tfdXJsOiB3YWxsZXRDYWxsYmFja1VybCxcclxuICAgICAgfSk7XHJcbiAgXHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiRmFpbGVkIHRvIHJlZGlyZWN0IHRvIHNpZ24gdHJhbnNhY3Rpb25cIikpO1xyXG4gICAgICAgIH0sIDEwMDApO1xyXG4gICAgICB9KTtcclxuICAgIH0qL1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBnaXZlbiBhY2Nlc3Mga2V5IGFsbG93cyB0aGUgZnVuY3Rpb24gY2FsbCBvciBtZXRob2QgYXR0ZW1wdGVkIGluIHRyYW5zYWN0aW9uXHJcbiAgICAgKiBAcGFyYW0gYWNjZXNzS2V5IEFycmF5IG9mIHthY2Nlc3Nfa2V5OiBBY2Nlc3NLZXksIHB1YmxpY19rZXk6IFB1YmxpY0tleX0gaXRlbXNcclxuICAgICAqIEBwYXJhbSByZWNlaXZlcklkIFRoZSBORUFSIGFjY291bnQgYXR0ZW1wdGluZyB0byBoYXZlIGFjY2Vzc1xyXG4gICAgICogQHBhcmFtIGFjdGlvbnMgVGhlIGFjdGlvbihzKSBuZWVkZWQgdG8gYmUgY2hlY2tlZCBmb3IgYWNjZXNzXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGFjY2Vzc0tleU1hdGNoZXNUcmFuc2FjdGlvbihhY2Nlc3NLZXksIHJlY2VpdmVySWQsIGFjdGlvbnMpIHtcclxuICAgICAgICBjb25zdCB7IGFjY2Vzc19rZXk6IHsgcGVybWlzc2lvbiB9LCB9ID0gYWNjZXNzS2V5O1xyXG4gICAgICAgIGlmIChwZXJtaXNzaW9uID09PSBcIkZ1bGxBY2Nlc3NcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDb21wYXJpbmcgYWNjZXNzIGtleSBhbmQgYWN0aW9uc1wiLCB7XHJcbiAgICAgICAgICAgIGFjY2Vzc0tleSxcclxuICAgICAgICAgICAgcmVjZWl2ZXJJZCxcclxuICAgICAgICAgICAgYWN0aW9ucyxcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocGVybWlzc2lvbi5GdW5jdGlvbkNhbGwpIHtcclxuICAgICAgICAgICAgY29uc3QgeyByZWNlaXZlcl9pZDogYWxsb3dlZFJlY2VpdmVySWQsIG1ldGhvZF9uYW1lczogYWxsb3dlZE1ldGhvZHMgfSA9IHBlcm1pc3Npb24uRnVuY3Rpb25DYWxsO1xyXG4gICAgICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAgICAgICAgIEFjY2VwdCBtdWx0aXNpZyBhY2Nlc3Mga2V5cyBhbmQgbGV0IHdhbGxldHMgYXR0ZW1wdCB0byBzaWduQW5kU2VuZFRyYW5zYWN0aW9uXHJcbiAgICAgICAgICAgICBJZiBhbiBhY2Nlc3Mga2V5IGhhcyBpdHNlbGYgYXMgcmVjZWl2ZXJJZCBhbmQgbWV0aG9kIHBlcm1pc3Npb24gYWRkX3JlcXVlc3RfYW5kX2NvbmZpcm0sIHRoZW4gaXQgaXMgYmVpbmcgdXNlZCBpbiBhIHdhbGxldCB3aXRoIG11bHRpc2lnIGNvbnRyYWN0OiBodHRwczovL2dpdGh1Yi5jb20vbmVhci9jb3JlLWNvbnRyYWN0cy9ibG9iLzY3MWMwNWYwOWFiZWNhYmU3YTdlNThlZmU5NDI1NTBhMzVmYzMyOTIvbXVsdGlzaWcvc3JjL2xpYi5ycyNMMTQ5LUwxNTNcclxuICAgICAgICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgICAgICBpZiAoYWxsb3dlZFJlY2VpdmVySWQgPT09IHJlY2VpdmVySWQgJiZcclxuICAgICAgICAgICAgICAgIGFsbG93ZWRNZXRob2RzLmluY2x1ZGVzKE1VTFRJU0lHX0hBU19NRVRIT0QpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYWxsb3dlZFJlY2VpdmVySWQgPT09IHJlY2VpdmVySWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb25zLmxlbmd0aCAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0QWN0aW9uID0gYWN0aW9uc1swXTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpcnN0QWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIGlmIChmaXJzdEFjdGlvbi50eXBlID09PSBcIkZ1bmN0aW9uQ2FsbFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnVuY3Rpb25DYWxsUGFyYW1zID0gZmlyc3RBY3Rpb24ucGFyYW1zO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKCFmdW5jdGlvbkNhbGxQYXJhbXMuZGVwb3NpdCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbkNhbGxQYXJhbXMuZGVwb3NpdC50b1N0cmluZygpID09PSBcIjBcIikgJiYgLy8gVE9ETzogU2hvdWxkIHN1cHBvcnQgY2hhcmdpbmcgYW1vdW50IHNtYWxsZXIgdGhhbiBhbGxvd2FuY2U/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChhbGxvd2VkTWV0aG9kcy5sZW5ndGggPT09IDAgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93ZWRNZXRob2RzLmluY2x1ZGVzKGZ1bmN0aW9uQ2FsbFBhcmFtcy5tZXRob2ROYW1lKSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgW3sgZnVuY3Rpb25DYWxsIH1dID0gYWN0aW9ucztcclxuICAgICAgICAgICAgICAgIC8vIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAvLyAgIGZ1bmN0aW9uQ2FsbCAmJlxyXG4gICAgICAgICAgICAgICAgLy8gICAoIWZ1bmN0aW9uQ2FsbC5kZXBvc2l0IHx8IGZ1bmN0aW9uQ2FsbC5kZXBvc2l0LnRvU3RyaW5nKCkgPT09IFwiMFwiKSAmJiAvLyBUT0RPOiBTaG91bGQgc3VwcG9ydCBjaGFyZ2luZyBhbW91bnQgc21hbGxlciB0aGFuIGFsbG93YW5jZT9cclxuICAgICAgICAgICAgICAgIC8vICAgKGFsbG93ZWRNZXRob2RzLmxlbmd0aCA9PT0gMCB8fFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGFsbG93ZWRNZXRob2RzLmluY2x1ZGVzKGZ1bmN0aW9uQ2FsbC5tZXRob2ROYW1lKSlcclxuICAgICAgICAgICAgICAgIC8vICk7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBIYW5kbGUgY2FzZXMgd2hlbiBhbGxvd2FuY2UgZG9lc24ndCBoYXZlIGVub3VnaCB0byBwYXkgZm9yIGdhc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRPRE86IFN1cHBvcnQgb3RoZXIgcGVybWlzc2lvbnMgdGhhbiBGdW5jdGlvbkNhbGxcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiByZXR1cm5pbmcgdGhlIGFjY2VzcyBrZXkgKGlmIGl0IGV4aXN0cykgdG8gdGhlIHJlY2VpdmVyIHRoYXQgZ3JhbnRzIHRoZSBkZXNpZ25hdGVkIHBlcm1pc3Npb25cclxuICAgICAqIEBwYXJhbSBsb2NhbEtleSBBIGxvY2FsIHB1YmxpYyBrZXkgcHJvdmlkZWQgdG8gY2hlY2sgZm9yIGFjY2Vzc1xyXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxhbnk+XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGFjY2Vzc0tleUZvclRyYW5zYWN0aW9uKGxvY2FsS2V5KSB7XHJcbiAgICAgICAgY29uc3QgYWNjZXNzS2V5cyA9IGF3YWl0IHRoaXMuZ2V0QWNjZXNzS2V5cygpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiYWNjZXNzS2V5c1wiLCBhY2Nlc3NLZXlzKTtcclxuICAgICAgICBpZiAobG9jYWxLZXkpIHtcclxuICAgICAgICAgICAgY29uc3QgYWNjZXNzS2V5ID0gYWNjZXNzS2V5cy5maW5kKChrZXkpID0+IGtleS5wdWJsaWNfa2V5LnRvU3RyaW5nKCkgPT09IGxvY2FsS2V5LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBpZiAoYWNjZXNzS2V5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjZXNzS2V5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHdhbGxldEtleXMgPSB0aGlzLm1ldGVvcldhbGxldC5fYXV0aERhdGEuYWxsS2V5cztcclxuICAgICAgICBmb3IgKGNvbnN0IGFjY2Vzc0tleSBvZiBhY2Nlc3NLZXlzKSB7XHJcbiAgICAgICAgICAgIGlmICh3YWxsZXRLZXlzLmluZGV4T2YoYWNjZXNzS2V5LnB1YmxpY19rZXkpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY2Vzc0tleTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGFjY2Vzc0tleSBvZiBhY2Nlc3NLZXlzKSB7XHJcbiAgICAgICAgICAgIGlmIChhY2Nlc3NLZXkuYWNjZXNzX2tleS5wZXJtaXNzaW9uID09PSBcIkZ1bGxBY2Nlc3NcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY2Vzc0tleTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLkNvbm5lY3RlZE1ldGVvcldhbGxldEFjY291bnQgPSBDb25uZWN0ZWRNZXRlb3JXYWxsZXRBY2NvdW50O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXRlb3JXYWxsZXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/MeteorWallet.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/MeteorWalletConstants.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/MeteorWalletConstants.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.WALLET_URL_LOCALHOST_BASE = exports.WALLET_URL_PRODUCTION_BASE = exports.WALLET_URL_DEV_BASE = void 0;\r\nexports.WALLET_URL_DEV_BASE = \"https://dev.wallet.meteorwallet.app\";\r\nexports.WALLET_URL_PRODUCTION_BASE = \"https://wallet.meteorwallet.app\";\r\nexports.WALLET_URL_LOCALHOST_BASE = \"https://localhost:3000\";\r\n//# sourceMappingURL=MeteorWalletConstants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3Itc2RrL3NyYy9NZXRlb3JXYWxsZXRDb25zdGFudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUNBQWlDLEdBQUcsa0NBQWtDLEdBQUcsMkJBQTJCO0FBQ3BHLDJCQUEyQjtBQUMzQixrQ0FBa0M7QUFDbEMsaUNBQWlDO0FBQ2pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFya2V0YmFzZW1pbnQvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3Itc2RrL3NyYy9NZXRlb3JXYWxsZXRDb25zdGFudHMuanM/MGIyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLldBTExFVF9VUkxfTE9DQUxIT1NUX0JBU0UgPSBleHBvcnRzLldBTExFVF9VUkxfUFJPRFVDVElPTl9CQVNFID0gZXhwb3J0cy5XQUxMRVRfVVJMX0RFVl9CQVNFID0gdm9pZCAwO1xyXG5leHBvcnRzLldBTExFVF9VUkxfREVWX0JBU0UgPSBcImh0dHBzOi8vZGV2LndhbGxldC5tZXRlb3J3YWxsZXQuYXBwXCI7XHJcbmV4cG9ydHMuV0FMTEVUX1VSTF9QUk9EVUNUSU9OX0JBU0UgPSBcImh0dHBzOi8vd2FsbGV0Lm1ldGVvcndhbGxldC5hcHBcIjtcclxuZXhwb3J0cy5XQUxMRVRfVVJMX0xPQ0FMSE9TVF9CQVNFID0gXCJodHRwczovL2xvY2FsaG9zdDozMDAwXCI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1ldGVvcldhbGxldENvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/MeteorWalletConstants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/envConfig.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/envConfig.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.setEnvConfig = exports.envConfig = void 0;\r\nconst MeteorWalletConstants_1 = __webpack_require__(/*! ./MeteorWalletConstants */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/MeteorWalletConstants.js\");\r\nconst locallySetBaseUrl = typeof window !== \"undefined\"\r\n    ? window.localStorage.getItem(\"DEV__METEOR_WALLET_BASE_URL\")\r\n    : undefined;\r\nexports.envConfig = {\r\n    wallet_base_url: locallySetBaseUrl ?? MeteorWalletConstants_1.WALLET_URL_PRODUCTION_BASE,\r\n};\r\n// console.log(\"Initialized environment\", envConfig);\r\nfunction setEnvConfig(config) {\r\n    Object.assign(exports.envConfig, config);\r\n}\r\nexports.setEnvConfig = setEnvConfig;\r\n//# sourceMappingURL=envConfig.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3Itc2RrL3NyYy9lbnZDb25maWcuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CLEdBQUcsaUJBQWlCO0FBQ3hDLGdDQUFnQyxtQkFBTyxDQUFDLG9IQUF5QjtBQUNqRTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFya2V0YmFzZW1pbnQvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3Itc2RrL3NyYy9lbnZDb25maWcuanM/ODg3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnNldEVudkNvbmZpZyA9IGV4cG9ydHMuZW52Q29uZmlnID0gdm9pZCAwO1xyXG5jb25zdCBNZXRlb3JXYWxsZXRDb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL01ldGVvcldhbGxldENvbnN0YW50c1wiKTtcclxuY29uc3QgbG9jYWxseVNldEJhc2VVcmwgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiXHJcbiAgICA/IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkRFVl9fTUVURU9SX1dBTExFVF9CQVNFX1VSTFwiKVxyXG4gICAgOiB1bmRlZmluZWQ7XHJcbmV4cG9ydHMuZW52Q29uZmlnID0ge1xyXG4gICAgd2FsbGV0X2Jhc2VfdXJsOiBsb2NhbGx5U2V0QmFzZVVybCA/PyBNZXRlb3JXYWxsZXRDb25zdGFudHNfMS5XQUxMRVRfVVJMX1BST0RVQ1RJT05fQkFTRSxcclxufTtcclxuLy8gY29uc29sZS5sb2coXCJJbml0aWFsaXplZCBlbnZpcm9ubWVudFwiLCBlbnZDb25maWcpO1xyXG5mdW5jdGlvbiBzZXRFbnZDb25maWcoY29uZmlnKSB7XHJcbiAgICBPYmplY3QuYXNzaWduKGV4cG9ydHMuZW52Q29uZmlnLCBjb25maWcpO1xyXG59XHJcbmV4cG9ydHMuc2V0RW52Q29uZmlnID0gc2V0RW52Q29uZmlnO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnZDb25maWcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/envConfig.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.setEnvConfig = exports.ENearNetwork = void 0;\r\n__exportStar(__webpack_require__(/*! ./MeteorWallet */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/MeteorWallet.js\"), exports);\r\n__exportStar(__webpack_require__(/*! ./utils/MeteorSdkUtils */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/utils/MeteorSdkUtils.js\"), exports);\r\n__exportStar(__webpack_require__(/*! ./MeteorWalletConstants */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/MeteorWalletConstants.js\"), exports);\r\n__exportStar(__webpack_require__(/*! ../../meteor-common/src/modules_feature/dapp_connect/types_dappConnect */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_feature/dapp_connect/types_dappConnect.js\"), exports);\r\nvar near_basic_types_1 = __webpack_require__(/*! ../../meteor-common/src/modules_external/near/types/near_basic_types */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_external/near/types/near_basic_types.js\");\r\nObject.defineProperty(exports, \"ENearNetwork\", ({ enumerable: true, get: function () { return near_basic_types_1.ENearNetwork; } }));\r\nvar envConfig_1 = __webpack_require__(/*! ./envConfig */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/envConfig.js\");\r\nObject.defineProperty(exports, \"setEnvConfig\", ({ enumerable: true, get: function () { return envConfig_1.setEnvConfig; } }));\r\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3Itc2RrL3NyYy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0IsR0FBRyxvQkFBb0I7QUFDM0MsYUFBYSxtQkFBTyxDQUFDLGtHQUFnQjtBQUNyQyxhQUFhLG1CQUFPLENBQUMsa0hBQXdCO0FBQzdDLGFBQWEsbUJBQU8sQ0FBQyxvSEFBeUI7QUFDOUMsYUFBYSxtQkFBTyxDQUFDLCtMQUF3RTtBQUM3Rix5QkFBeUIsbUJBQU8sQ0FBQywyTEFBc0U7QUFDdkcsZ0RBQStDLEVBQUUscUNBQXFDLDJDQUEyQyxFQUFDO0FBQ2xJLGtCQUFrQixtQkFBTyxDQUFDLDRGQUFhO0FBQ3ZDLGdEQUErQyxFQUFFLHFDQUFxQyxvQ0FBb0MsRUFBQztBQUMzSCIsInNvdXJjZXMiOlsid2VicGFjazovL21hcmtldGJhc2VtaW50Ly4vbm9kZV9tb2R1bGVzL0BtZXRlb3J3YWxsZXQvc2RrL2Rpc3QvbWV0ZW9yLXNkay9zcmMvaW5kZXguanM/MTM1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcclxuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XHJcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSkpO1xyXG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnNldEVudkNvbmZpZyA9IGV4cG9ydHMuRU5lYXJOZXR3b3JrID0gdm9pZCAwO1xyXG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vTWV0ZW9yV2FsbGV0XCIpLCBleHBvcnRzKTtcclxuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3V0aWxzL01ldGVvclNka1V0aWxzXCIpLCBleHBvcnRzKTtcclxuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL01ldGVvcldhbGxldENvbnN0YW50c1wiKSwgZXhwb3J0cyk7XHJcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi4vLi4vbWV0ZW9yLWNvbW1vbi9zcmMvbW9kdWxlc19mZWF0dXJlL2RhcHBfY29ubmVjdC90eXBlc19kYXBwQ29ubmVjdFwiKSwgZXhwb3J0cyk7XHJcbnZhciBuZWFyX2Jhc2ljX3R5cGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vbWV0ZW9yLWNvbW1vbi9zcmMvbW9kdWxlc19leHRlcm5hbC9uZWFyL3R5cGVzL25lYXJfYmFzaWNfdHlwZXNcIik7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkVOZWFyTmV0d29ya1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbmVhcl9iYXNpY190eXBlc18xLkVOZWFyTmV0d29yazsgfSB9KTtcclxudmFyIGVudkNvbmZpZ18xID0gcmVxdWlyZShcIi4vZW52Q29uZmlnXCIpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzZXRFbnZDb25maWdcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVudkNvbmZpZ18xLnNldEVudkNvbmZpZzsgfSB9KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/near-schema/TransactionSchemaV2.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/near-schema/TransactionSchemaV2.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.SCHEMA_V2 = void 0;\r\nconst crypto_1 = __webpack_require__(/*! @near-js/crypto */ \"(ssr)/./node_modules/@near-js/crypto/lib/index.js\");\r\nconst transactions_1 = __webpack_require__(/*! @near-js/transactions */ \"(ssr)/./node_modules/@near-js/transactions/lib/index.js\");\r\nexports.SCHEMA_V2 = new Map([\r\n    [\r\n        transactions_1.Signature,\r\n        {\r\n            kind: \"struct\",\r\n            fields: [\r\n                [\"keyType\", \"u8\"],\r\n                [\"data\", [64]],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        transactions_1.SignedTransaction,\r\n        {\r\n            kind: \"struct\",\r\n            fields: [\r\n                [\"transaction\", transactions_1.Transaction],\r\n                [\"signature\", transactions_1.Signature],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        transactions_1.Transaction,\r\n        {\r\n            kind: \"struct\",\r\n            fields: [\r\n                [\"signerId\", \"string\"],\r\n                [\"publicKey\", crypto_1.PublicKey],\r\n                [\"nonce\", \"u64\"],\r\n                [\"receiverId\", \"string\"],\r\n                [\"blockHash\", [32]],\r\n                [\"actions\", [transactions_1.Action]],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        crypto_1.PublicKey,\r\n        {\r\n            kind: \"struct\",\r\n            fields: [\r\n                [\"keyType\", \"u8\"],\r\n                [\"data\", [32]],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        transactions_1.AccessKey,\r\n        {\r\n            kind: \"struct\",\r\n            fields: [\r\n                [\"nonce\", \"u64\"],\r\n                [\"permission\", transactions_1.AccessKeyPermission],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        transactions_1.AccessKeyPermission,\r\n        {\r\n            kind: \"enum\",\r\n            field: \"enum\",\r\n            values: [\r\n                [\"functionCall\", transactions_1.FunctionCallPermission],\r\n                [\"fullAccess\", transactions_1.FullAccessPermission],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        transactions_1.FunctionCallPermission,\r\n        {\r\n            kind: \"struct\",\r\n            fields: [\r\n                [\"allowance\", { kind: \"option\", type: \"u128\" }],\r\n                [\"receiverId\", \"string\"],\r\n                [\"methodNames\", [\"string\"]],\r\n            ],\r\n        },\r\n    ],\r\n    [transactions_1.FullAccessPermission, { kind: \"struct\", fields: [] }],\r\n    [\r\n        transactions_1.Action,\r\n        {\r\n            kind: \"enum\",\r\n            field: \"enum\",\r\n            values: [\r\n                [\"createAccount\", transactions_1.CreateAccount],\r\n                [\"deployContract\", transactions_1.DeployContract],\r\n                [\"functionCall\", transactions_1.FunctionCall],\r\n                [\"transfer\", transactions_1.Transfer],\r\n                [\"stake\", transactions_1.Stake],\r\n                [\"addKey\", transactions_1.AddKey],\r\n                [\"deleteKey\", transactions_1.DeleteKey],\r\n                [\"deleteAccount\", transactions_1.DeleteAccount],\r\n                [\"signedDelegate\", transactions_1.SignedDelegate],\r\n            ],\r\n        },\r\n    ],\r\n    [transactions_1.CreateAccount, { kind: \"struct\", fields: [] }],\r\n    [transactions_1.DeployContract, { kind: \"struct\", fields: [[\"code\", [\"u8\"]]] }],\r\n    [\r\n        transactions_1.FunctionCall,\r\n        {\r\n            kind: \"struct\",\r\n            fields: [\r\n                [\"methodName\", \"string\"],\r\n                [\"args\", [\"u8\"]],\r\n                [\"gas\", \"u64\"],\r\n                [\"deposit\", \"u128\"],\r\n            ],\r\n        },\r\n    ],\r\n    [transactions_1.Transfer, { kind: \"struct\", fields: [[\"deposit\", \"u128\"]] }],\r\n    [\r\n        transactions_1.Stake,\r\n        {\r\n            kind: \"struct\",\r\n            fields: [\r\n                [\"stake\", \"u128\"],\r\n                [\"publicKey\", crypto_1.PublicKey],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        transactions_1.AddKey,\r\n        {\r\n            kind: \"struct\",\r\n            fields: [\r\n                [\"publicKey\", crypto_1.PublicKey],\r\n                [\"accessKey\", transactions_1.AccessKey],\r\n            ],\r\n        },\r\n    ],\r\n    [transactions_1.DeleteKey, { kind: \"struct\", fields: [[\"publicKey\", crypto_1.PublicKey]] }],\r\n    [transactions_1.DeleteAccount, { kind: \"struct\", fields: [[\"beneficiaryId\", \"string\"]] }],\r\n    [\r\n        transactions_1.DelegateAction,\r\n        {\r\n            kind: \"struct\",\r\n            fields: [\r\n                [\"senderId\", \"string\"],\r\n                [\"receiverId\", \"string\"],\r\n                [\"actions\", [transactions_1.Action]],\r\n                [\"nonce\", \"u64\"],\r\n                [\"maxBlockHeight\", \"u64\"],\r\n                [\"publicKey\", crypto_1.PublicKey],\r\n            ],\r\n        },\r\n    ],\r\n    [\r\n        transactions_1.SignedDelegate,\r\n        {\r\n            kind: \"struct\",\r\n            fields: [\r\n                [\"delegateAction\", transactions_1.DelegateAction],\r\n                [\"signature\", transactions_1.Signature],\r\n            ],\r\n        },\r\n    ],\r\n]);\r\n//# sourceMappingURL=TransactionSchemaV2.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3Itc2RrL3NyYy9uZWFyLXNjaGVtYS9UcmFuc2FjdGlvblNjaGVtYVYyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQixpQkFBaUIsbUJBQU8sQ0FBQywwRUFBaUI7QUFDMUMsdUJBQXVCLG1CQUFPLENBQUMsc0ZBQXVCO0FBQ3RELGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw4QkFBOEI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsNENBQTRDLDRCQUE0QjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHFDQUFxQyw0QkFBNEI7QUFDakUsc0NBQXNDLDRDQUE0QztBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGdDQUFnQywrQ0FBK0M7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxpQ0FBaUMsNkRBQTZEO0FBQzlGLHFDQUFxQyx1REFBdUQ7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXJrZXRiYXNlbWludC8uL25vZGVfbW9kdWxlcy9AbWV0ZW9yd2FsbGV0L3Nkay9kaXN0L21ldGVvci1zZGsvc3JjL25lYXItc2NoZW1hL1RyYW5zYWN0aW9uU2NoZW1hVjIuanM/MDM4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlNDSEVNQV9WMiA9IHZvaWQgMDtcclxuY29uc3QgY3J5cHRvXzEgPSByZXF1aXJlKFwiQG5lYXItanMvY3J5cHRvXCIpO1xyXG5jb25zdCB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCJAbmVhci1qcy90cmFuc2FjdGlvbnNcIik7XHJcbmV4cG9ydHMuU0NIRU1BX1YyID0gbmV3IE1hcChbXHJcbiAgICBbXHJcbiAgICAgICAgdHJhbnNhY3Rpb25zXzEuU2lnbmF0dXJlLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAga2luZDogXCJzdHJ1Y3RcIixcclxuICAgICAgICAgICAgZmllbGRzOiBbXHJcbiAgICAgICAgICAgICAgICBbXCJrZXlUeXBlXCIsIFwidThcIl0sXHJcbiAgICAgICAgICAgICAgICBbXCJkYXRhXCIsIFs2NF1dLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICAgIHRyYW5zYWN0aW9uc18xLlNpZ25lZFRyYW5zYWN0aW9uLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAga2luZDogXCJzdHJ1Y3RcIixcclxuICAgICAgICAgICAgZmllbGRzOiBbXHJcbiAgICAgICAgICAgICAgICBbXCJ0cmFuc2FjdGlvblwiLCB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvbl0sXHJcbiAgICAgICAgICAgICAgICBbXCJzaWduYXR1cmVcIiwgdHJhbnNhY3Rpb25zXzEuU2lnbmF0dXJlXSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgICB0cmFuc2FjdGlvbnNfMS5UcmFuc2FjdGlvbixcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGtpbmQ6IFwic3RydWN0XCIsXHJcbiAgICAgICAgICAgIGZpZWxkczogW1xyXG4gICAgICAgICAgICAgICAgW1wic2lnbmVySWRcIiwgXCJzdHJpbmdcIl0sXHJcbiAgICAgICAgICAgICAgICBbXCJwdWJsaWNLZXlcIiwgY3J5cHRvXzEuUHVibGljS2V5XSxcclxuICAgICAgICAgICAgICAgIFtcIm5vbmNlXCIsIFwidTY0XCJdLFxyXG4gICAgICAgICAgICAgICAgW1wicmVjZWl2ZXJJZFwiLCBcInN0cmluZ1wiXSxcclxuICAgICAgICAgICAgICAgIFtcImJsb2NrSGFzaFwiLCBbMzJdXSxcclxuICAgICAgICAgICAgICAgIFtcImFjdGlvbnNcIiwgW3RyYW5zYWN0aW9uc18xLkFjdGlvbl1dLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICAgIGNyeXB0b18xLlB1YmxpY0tleSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGtpbmQ6IFwic3RydWN0XCIsXHJcbiAgICAgICAgICAgIGZpZWxkczogW1xyXG4gICAgICAgICAgICAgICAgW1wia2V5VHlwZVwiLCBcInU4XCJdLFxyXG4gICAgICAgICAgICAgICAgW1wiZGF0YVwiLCBbMzJdXSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgICB0cmFuc2FjdGlvbnNfMS5BY2Nlc3NLZXksXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBraW5kOiBcInN0cnVjdFwiLFxyXG4gICAgICAgICAgICBmaWVsZHM6IFtcclxuICAgICAgICAgICAgICAgIFtcIm5vbmNlXCIsIFwidTY0XCJdLFxyXG4gICAgICAgICAgICAgICAgW1wicGVybWlzc2lvblwiLCB0cmFuc2FjdGlvbnNfMS5BY2Nlc3NLZXlQZXJtaXNzaW9uXSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgICB0cmFuc2FjdGlvbnNfMS5BY2Nlc3NLZXlQZXJtaXNzaW9uLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAga2luZDogXCJlbnVtXCIsXHJcbiAgICAgICAgICAgIGZpZWxkOiBcImVudW1cIixcclxuICAgICAgICAgICAgdmFsdWVzOiBbXHJcbiAgICAgICAgICAgICAgICBbXCJmdW5jdGlvbkNhbGxcIiwgdHJhbnNhY3Rpb25zXzEuRnVuY3Rpb25DYWxsUGVybWlzc2lvbl0sXHJcbiAgICAgICAgICAgICAgICBbXCJmdWxsQWNjZXNzXCIsIHRyYW5zYWN0aW9uc18xLkZ1bGxBY2Nlc3NQZXJtaXNzaW9uXSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgICB0cmFuc2FjdGlvbnNfMS5GdW5jdGlvbkNhbGxQZXJtaXNzaW9uLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAga2luZDogXCJzdHJ1Y3RcIixcclxuICAgICAgICAgICAgZmllbGRzOiBbXHJcbiAgICAgICAgICAgICAgICBbXCJhbGxvd2FuY2VcIiwgeyBraW5kOiBcIm9wdGlvblwiLCB0eXBlOiBcInUxMjhcIiB9XSxcclxuICAgICAgICAgICAgICAgIFtcInJlY2VpdmVySWRcIiwgXCJzdHJpbmdcIl0sXHJcbiAgICAgICAgICAgICAgICBbXCJtZXRob2ROYW1lc1wiLCBbXCJzdHJpbmdcIl1dLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgW3RyYW5zYWN0aW9uc18xLkZ1bGxBY2Nlc3NQZXJtaXNzaW9uLCB7IGtpbmQ6IFwic3RydWN0XCIsIGZpZWxkczogW10gfV0sXHJcbiAgICBbXHJcbiAgICAgICAgdHJhbnNhY3Rpb25zXzEuQWN0aW9uLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAga2luZDogXCJlbnVtXCIsXHJcbiAgICAgICAgICAgIGZpZWxkOiBcImVudW1cIixcclxuICAgICAgICAgICAgdmFsdWVzOiBbXHJcbiAgICAgICAgICAgICAgICBbXCJjcmVhdGVBY2NvdW50XCIsIHRyYW5zYWN0aW9uc18xLkNyZWF0ZUFjY291bnRdLFxyXG4gICAgICAgICAgICAgICAgW1wiZGVwbG95Q29udHJhY3RcIiwgdHJhbnNhY3Rpb25zXzEuRGVwbG95Q29udHJhY3RdLFxyXG4gICAgICAgICAgICAgICAgW1wiZnVuY3Rpb25DYWxsXCIsIHRyYW5zYWN0aW9uc18xLkZ1bmN0aW9uQ2FsbF0sXHJcbiAgICAgICAgICAgICAgICBbXCJ0cmFuc2ZlclwiLCB0cmFuc2FjdGlvbnNfMS5UcmFuc2Zlcl0sXHJcbiAgICAgICAgICAgICAgICBbXCJzdGFrZVwiLCB0cmFuc2FjdGlvbnNfMS5TdGFrZV0sXHJcbiAgICAgICAgICAgICAgICBbXCJhZGRLZXlcIiwgdHJhbnNhY3Rpb25zXzEuQWRkS2V5XSxcclxuICAgICAgICAgICAgICAgIFtcImRlbGV0ZUtleVwiLCB0cmFuc2FjdGlvbnNfMS5EZWxldGVLZXldLFxyXG4gICAgICAgICAgICAgICAgW1wiZGVsZXRlQWNjb3VudFwiLCB0cmFuc2FjdGlvbnNfMS5EZWxldGVBY2NvdW50XSxcclxuICAgICAgICAgICAgICAgIFtcInNpZ25lZERlbGVnYXRlXCIsIHRyYW5zYWN0aW9uc18xLlNpZ25lZERlbGVnYXRlXSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgXSxcclxuICAgIFt0cmFuc2FjdGlvbnNfMS5DcmVhdGVBY2NvdW50LCB7IGtpbmQ6IFwic3RydWN0XCIsIGZpZWxkczogW10gfV0sXHJcbiAgICBbdHJhbnNhY3Rpb25zXzEuRGVwbG95Q29udHJhY3QsIHsga2luZDogXCJzdHJ1Y3RcIiwgZmllbGRzOiBbW1wiY29kZVwiLCBbXCJ1OFwiXV1dIH1dLFxyXG4gICAgW1xyXG4gICAgICAgIHRyYW5zYWN0aW9uc18xLkZ1bmN0aW9uQ2FsbCxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGtpbmQ6IFwic3RydWN0XCIsXHJcbiAgICAgICAgICAgIGZpZWxkczogW1xyXG4gICAgICAgICAgICAgICAgW1wibWV0aG9kTmFtZVwiLCBcInN0cmluZ1wiXSxcclxuICAgICAgICAgICAgICAgIFtcImFyZ3NcIiwgW1widThcIl1dLFxyXG4gICAgICAgICAgICAgICAgW1wiZ2FzXCIsIFwidTY0XCJdLFxyXG4gICAgICAgICAgICAgICAgW1wiZGVwb3NpdFwiLCBcInUxMjhcIl0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfSxcclxuICAgIF0sXHJcbiAgICBbdHJhbnNhY3Rpb25zXzEuVHJhbnNmZXIsIHsga2luZDogXCJzdHJ1Y3RcIiwgZmllbGRzOiBbW1wiZGVwb3NpdFwiLCBcInUxMjhcIl1dIH1dLFxyXG4gICAgW1xyXG4gICAgICAgIHRyYW5zYWN0aW9uc18xLlN0YWtlLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAga2luZDogXCJzdHJ1Y3RcIixcclxuICAgICAgICAgICAgZmllbGRzOiBbXHJcbiAgICAgICAgICAgICAgICBbXCJzdGFrZVwiLCBcInUxMjhcIl0sXHJcbiAgICAgICAgICAgICAgICBbXCJwdWJsaWNLZXlcIiwgY3J5cHRvXzEuUHVibGljS2V5XSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgICB0cmFuc2FjdGlvbnNfMS5BZGRLZXksXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBraW5kOiBcInN0cnVjdFwiLFxyXG4gICAgICAgICAgICBmaWVsZHM6IFtcclxuICAgICAgICAgICAgICAgIFtcInB1YmxpY0tleVwiLCBjcnlwdG9fMS5QdWJsaWNLZXldLFxyXG4gICAgICAgICAgICAgICAgW1wiYWNjZXNzS2V5XCIsIHRyYW5zYWN0aW9uc18xLkFjY2Vzc0tleV0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfSxcclxuICAgIF0sXHJcbiAgICBbdHJhbnNhY3Rpb25zXzEuRGVsZXRlS2V5LCB7IGtpbmQ6IFwic3RydWN0XCIsIGZpZWxkczogW1tcInB1YmxpY0tleVwiLCBjcnlwdG9fMS5QdWJsaWNLZXldXSB9XSxcclxuICAgIFt0cmFuc2FjdGlvbnNfMS5EZWxldGVBY2NvdW50LCB7IGtpbmQ6IFwic3RydWN0XCIsIGZpZWxkczogW1tcImJlbmVmaWNpYXJ5SWRcIiwgXCJzdHJpbmdcIl1dIH1dLFxyXG4gICAgW1xyXG4gICAgICAgIHRyYW5zYWN0aW9uc18xLkRlbGVnYXRlQWN0aW9uLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAga2luZDogXCJzdHJ1Y3RcIixcclxuICAgICAgICAgICAgZmllbGRzOiBbXHJcbiAgICAgICAgICAgICAgICBbXCJzZW5kZXJJZFwiLCBcInN0cmluZ1wiXSxcclxuICAgICAgICAgICAgICAgIFtcInJlY2VpdmVySWRcIiwgXCJzdHJpbmdcIl0sXHJcbiAgICAgICAgICAgICAgICBbXCJhY3Rpb25zXCIsIFt0cmFuc2FjdGlvbnNfMS5BY3Rpb25dXSxcclxuICAgICAgICAgICAgICAgIFtcIm5vbmNlXCIsIFwidTY0XCJdLFxyXG4gICAgICAgICAgICAgICAgW1wibWF4QmxvY2tIZWlnaHRcIiwgXCJ1NjRcIl0sXHJcbiAgICAgICAgICAgICAgICBbXCJwdWJsaWNLZXlcIiwgY3J5cHRvXzEuUHVibGljS2V5XSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgICB0cmFuc2FjdGlvbnNfMS5TaWduZWREZWxlZ2F0ZSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGtpbmQ6IFwic3RydWN0XCIsXHJcbiAgICAgICAgICAgIGZpZWxkczogW1xyXG4gICAgICAgICAgICAgICAgW1wiZGVsZWdhdGVBY3Rpb25cIiwgdHJhbnNhY3Rpb25zXzEuRGVsZWdhdGVBY3Rpb25dLFxyXG4gICAgICAgICAgICAgICAgW1wic2lnbmF0dXJlXCIsIHRyYW5zYWN0aW9uc18xLlNpZ25hdHVyZV0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfSxcclxuICAgIF0sXHJcbl0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2FjdGlvblNjaGVtYVYyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/near-schema/TransactionSchemaV2.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/postMessage/MeteorPostMessenger.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/postMessage/MeteorPostMessenger.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.getMeteorPostMessenger = void 0;\r\nconst nanoid_1 = __webpack_require__(/*! nanoid */ \"(ssr)/./node_modules/nanoid/index.cjs\");\r\nconst envConfig_1 = __webpack_require__(/*! ../envConfig */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/envConfig.js\");\r\nconst types_dappConnect_1 = __webpack_require__(/*! ../../../meteor-common/src/modules_feature/dapp_connect/types_dappConnect */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_feature/dapp_connect/types_dappConnect.js\");\r\nconst query_string_1 = __webpack_require__(/*! query-string */ \"(ssr)/./node_modules/query-string/index.js\");\r\nconst error_handling_dappConnect_1 = __webpack_require__(/*! ../../../meteor-common/src/modules_feature/dapp_connect/error_handling_dappConnect */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_feature/dapp_connect/error_handling_dappConnect.js\");\r\nconst constants_theme_1 = __webpack_require__(/*! ../../../meteor-common/src/modules_app_core/theme/constants_theme */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-common/src/modules_app_core/theme/constants_theme.js\");\r\nclass ComWindow {\r\n    constructor(connection, listener) {\r\n        const baseWalletUrl = envConfig_1.envConfig.wallet_base_url;\r\n        const url = new URL(baseWalletUrl);\r\n        this.walletOrigin = url.origin;\r\n        if (window.meteorCom == null) {\r\n            this.comType = types_dappConnect_1.EDappActionSource.website_post_message;\r\n            console.log(\"No extension found. Need to connect to web popup for Meteor communication\");\r\n            const queryParams = {\r\n                source: types_dappConnect_1.EDappActionSource.website_post_message,\r\n                connectionUid: connection.uid,\r\n            };\r\n            const w = constants_theme_1.SIGN_POPUP_WIDTH;\r\n            const h = constants_theme_1.SIGN_POPUP_HEIGHT;\r\n            const y = window.top.outerHeight / 2 + window.top.screenY - h / 2;\r\n            const x = window.top.outerWidth / 2 + window.top.screenX - w / 2;\r\n            const newWindow = window.open(`${baseWalletUrl}/connect/${connection.network}/${connection.actionType}?${(0, query_string_1.stringify)(queryParams)}`, \"_blank\", `popup=1,width=${w},height=${h},top=${y},left=${x}`);\r\n            if (newWindow != null) {\r\n                this.websiteWindow = newWindow;\r\n            }\r\n            else {\r\n                throw new types_dappConnect_1.MeteorActionError({\r\n                    message: \"Couldn't open popup window to complete wallet action\",\r\n                    endTags: [error_handling_dappConnect_1.EDappActionErrorTag.POPUP_WINDOW_OPEN_FAILED],\r\n                });\r\n            }\r\n            window.addEventListener(\"message\", (event) => listener(event.data));\r\n            this.wasOpened = false;\r\n        }\r\n        else {\r\n            this.comType = types_dappConnect_1.EDappActionSource.extension_injected;\r\n            this.wasOpened = true;\r\n            // console.log(\"Need to communicate with the extension!\");\r\n            window.meteorCom.addMessageDataListener(listener);\r\n        }\r\n    }\r\n    focus() {\r\n        if (this.comType === types_dappConnect_1.EDappActionSource.website_post_message) {\r\n            this.websiteWindow?.focus();\r\n        }\r\n    }\r\n    sendMessage(data) {\r\n        if (this.comType === types_dappConnect_1.EDappActionSource.website_post_message) {\r\n            this.websiteWindow?.postMessage(data, this.walletOrigin);\r\n        }\r\n        else {\r\n            window.meteorCom?.sendMessageData(data);\r\n        }\r\n    }\r\n    isWindowClosed() {\r\n        if (this.comType === types_dappConnect_1.EDappActionSource.website_post_message) {\r\n            return this.websiteWindow?.closed ?? true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    hasActiveWindow() {\r\n        if (this.comType === types_dappConnect_1.EDappActionSource.website_post_message) {\r\n            return this.websiteWindow != null;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    close() {\r\n        if (this.comType === types_dappConnect_1.EDappActionSource.website_post_message) {\r\n            delete this.websiteWindow;\r\n        }\r\n        else {\r\n        }\r\n    }\r\n}\r\nconst pingInterval = 450;\r\nclass MeteorPostMessenger {\r\n    constructor() {\r\n        this.connections = [];\r\n        // const baseUrl = \"https://dev.wallet.meteorwallet.app\";\r\n        const baseUrl = envConfig_1.envConfig.wallet_base_url;\r\n        const url = new URL(baseUrl);\r\n        this.baseWalletUrl = baseUrl;\r\n        this.walletOrigin = url.origin;\r\n        this.listener = (data) => {\r\n            if (data != null) {\r\n                // const data: TClientPostMessageResponse = event.data;\r\n                // console.log(\"Meteor Post Messenger received event with data: \", data);\r\n                const currentConnection = this.connections.find((con) => con.uid === data.uid);\r\n                if (currentConnection != null) {\r\n                    this.updateConnection(currentConnection.uid, {\r\n                        lastConnection: Date.now(),\r\n                    });\r\n                    if (data.status === types_dappConnect_1.EDappActionConnectionStatus.attempting_reconnect) {\r\n                        this.updateConnection(currentConnection.uid, {\r\n                            status: types_dappConnect_1.EDappActionConnectionStatus.initializing,\r\n                        });\r\n                        this.sendComs();\r\n                    }\r\n                    if (data.status === types_dappConnect_1.EDappActionConnectionStatus.connected &&\r\n                        currentConnection.status ===\r\n                            types_dappConnect_1.EDappActionConnectionStatus.initializing) {\r\n                        this.updateConnection(currentConnection.uid, {\r\n                            status: types_dappConnect_1.EDappActionConnectionStatus.connected,\r\n                        });\r\n                    }\r\n                    if (data.status === types_dappConnect_1.EDappActionConnectionStatus.closed_success) {\r\n                        currentConnection.resolve({\r\n                            success: true,\r\n                            endTags: [],\r\n                            payload: data.payload,\r\n                        });\r\n                        this.updateConnection(currentConnection.uid, {\r\n                            status: types_dappConnect_1.EDappActionConnectionStatus.closed_success,\r\n                        });\r\n                        this.sendComs();\r\n                    }\r\n                    if (data.status === types_dappConnect_1.EDappActionConnectionStatus.closed_fail) {\r\n                        this.updateConnection(currentConnection.uid, {\r\n                            status: types_dappConnect_1.EDappActionConnectionStatus.closed_fail,\r\n                        });\r\n                        this.sendComs();\r\n                        // const error = new MeteorActionError({ endTags: data.endTags });\r\n                        // console.log(\"Ending failure with error\", { ...error });\r\n                        currentConnection.reject(new types_dappConnect_1.MeteorActionError({ endTags: data.endTags }));\r\n                    }\r\n                    if (data.status === types_dappConnect_1.EDappActionConnectionStatus.closed_window) {\r\n                        this.updateConnection(currentConnection.uid, {\r\n                            status: types_dappConnect_1.EDappActionConnectionStatus.closed_window,\r\n                        });\r\n                        currentConnection.reject(new types_dappConnect_1.MeteorActionError({\r\n                            endTags: data.endTags,\r\n                            message: \"User closed the window\",\r\n                        }));\r\n                    }\r\n                    if ([\r\n                        types_dappConnect_1.EDappActionConnectionStatus.disconnected,\r\n                        types_dappConnect_1.EDappActionConnectionStatus.closed_fail,\r\n                        types_dappConnect_1.EDappActionConnectionStatus.closed_window,\r\n                        types_dappConnect_1.EDappActionConnectionStatus.closed_success,\r\n                    ].includes(data.status)) {\r\n                        this.removeConnection(currentConnection.uid);\r\n                    }\r\n                } /* else {\r\n                  console.warn(`Connection data received but no ID found \"${data.uid}\"`, data);\r\n                }*/\r\n            }\r\n        };\r\n        // window.addEventListener(\"message\", this.listener);\r\n    }\r\n    removeConnection(uid) {\r\n        this.connections = this.connections.filter((con) => con.uid !== uid);\r\n        if (this.connections.length === 0) {\r\n            delete this.comWindow;\r\n            clearInterval(this.comInterval);\r\n            delete this.comInterval;\r\n        }\r\n    }\r\n    updateConnection(uid, newConnectionProperties) {\r\n        this.connections = this.connections.map((con) => {\r\n            if (con.uid === uid) {\r\n                return {\r\n                    ...con,\r\n                    ...newConnectionProperties,\r\n                    uid: con.uid,\r\n                };\r\n            }\r\n            return con;\r\n        });\r\n    }\r\n    sendComs() {\r\n        if (this.comWindow?.hasActiveWindow() && this.connections.length > 0) {\r\n            if (this.comInterval == null) {\r\n                this.comInterval = setInterval(() => this.sendComs(), pingInterval);\r\n            }\r\n            if (this.comWindow.isWindowClosed()) {\r\n                if (this.comWindow.wasOpened) {\r\n                    for (const con of this.connections) {\r\n                        con.reject(new types_dappConnect_1.MeteorActionError({\r\n                            message: \"User closed the window before completing the action\",\r\n                            endTags: [\r\n                                error_handling_dappConnect_1.EDappActionErrorTag.INCOMPLETE_ACTION,\r\n                                error_handling_dappConnect_1.EDappActionErrorTag.WINDOW_CLOSED,\r\n                            ],\r\n                        }));\r\n                    }\r\n                    this.connections = [];\r\n                    this.comWindow.close();\r\n                }\r\n                else {\r\n                    console.log(\"Window is closed, need to allow popup\");\r\n                }\r\n            }\r\n            else {\r\n                this.comWindow.wasOpened = true;\r\n                for (const { network, actionType, endTags, status, inputs, uid } of this\r\n                    .connections) {\r\n                    const postMessage = {\r\n                        endTags,\r\n                        actionType: actionType,\r\n                        status,\r\n                        uid,\r\n                        network,\r\n                    };\r\n                    if (status === types_dappConnect_1.EDappActionConnectionStatus.initializing) {\r\n                        postMessage.inputs = inputs;\r\n                    }\r\n                    this.comWindow.sendMessage(postMessage);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            clearInterval(this.comInterval);\r\n            delete this.comInterval;\r\n        }\r\n    }\r\n    addAndStartConnection(connection) {\r\n        if (this.connections.length > 0) {\r\n            for (const con of this.connections) {\r\n                con.status = types_dappConnect_1.EDappActionConnectionStatus.disconnected;\r\n                con.endTags = [error_handling_dappConnect_1.EDappActionErrorTag.NEW_ACTION_STARTED];\r\n            }\r\n        }\r\n        this.connections.push(connection);\r\n        if (this.comWindow == null || !this.comWindow.hasActiveWindow()) {\r\n            this.comWindow = new ComWindow(connection, this.listener);\r\n        }\r\n        else {\r\n            this.comWindow.focus();\r\n        }\r\n        this.sendComs();\r\n    }\r\n    async connectAndWaitForResponse({ actionType, network, inputs, }) {\r\n        let newConnection = {\r\n            uid: (0, nanoid_1.nanoid)(),\r\n            actionType,\r\n            lastAttemptedConnection: 0,\r\n            lastConnection: 0,\r\n            status: types_dappConnect_1.EDappActionConnectionStatus.initializing,\r\n            promise: undefined,\r\n            reject: undefined,\r\n            resolve: undefined,\r\n            currentPayload: {},\r\n            inputs,\r\n            network,\r\n            endTags: [],\r\n        };\r\n        const promise = new Promise((resolve, reject) => {\r\n            newConnection.resolve = resolve;\r\n            newConnection.reject = (error) => {\r\n                this.connections = this.connections.filter((con) => con.uid !== newConnection.uid);\r\n                reject(error);\r\n            };\r\n        });\r\n        newConnection.promise = promise;\r\n        this.addAndStartConnection(newConnection);\r\n        return await promise;\r\n    }\r\n}\r\nlet postMessenger;\r\nfunction getMeteorPostMessenger() {\r\n    if (postMessenger == null) {\r\n        postMessenger = new MeteorPostMessenger();\r\n    }\r\n    return postMessenger;\r\n}\r\nexports.getMeteorPostMessenger = getMeteorPostMessenger;\r\n//# sourceMappingURL=MeteorPostMessenger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3Itc2RrL3NyYy9wb3N0TWVzc2FnZS9NZXRlb3JQb3N0TWVzc2VuZ2VyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhCQUE4QjtBQUM5QixpQkFBaUIsbUJBQU8sQ0FBQyxxREFBUTtBQUNqQyxvQkFBb0IsbUJBQU8sQ0FBQyw2RkFBYztBQUMxQyw0QkFBNEIsbUJBQU8sQ0FBQyxrTUFBMkU7QUFDL0csdUJBQXVCLG1CQUFPLENBQUMsZ0VBQWM7QUFDN0MscUNBQXFDLG1CQUFPLENBQUMsb05BQW9GO0FBQ2pJLDBCQUEwQixtQkFBTyxDQUFDLGtMQUFtRTtBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxjQUFjLFdBQVcsbUJBQW1CLEdBQUcsc0JBQXNCLEdBQUcsMkNBQTJDLDhCQUE4QixFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFO0FBQy9OO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxpRUFBaUUsdUJBQXVCO0FBQ3hGLHNFQUFzRSxVQUFVO0FBQ2hGLDZGQUE2Rix1QkFBdUI7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQiw0RUFBNEUsU0FBUztBQUNyRixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG9EQUFvRDtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsOEJBQThCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXJrZXRiYXNlbWludC8uL25vZGVfbW9kdWxlcy9AbWV0ZW9yd2FsbGV0L3Nkay9kaXN0L21ldGVvci1zZGsvc3JjL3Bvc3RNZXNzYWdlL01ldGVvclBvc3RNZXNzZW5nZXIuanM/ZjdmNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmdldE1ldGVvclBvc3RNZXNzZW5nZXIgPSB2b2lkIDA7XHJcbmNvbnN0IG5hbm9pZF8xID0gcmVxdWlyZShcIm5hbm9pZFwiKTtcclxuY29uc3QgZW52Q29uZmlnXzEgPSByZXF1aXJlKFwiLi4vZW52Q29uZmlnXCIpO1xyXG5jb25zdCB0eXBlc19kYXBwQ29ubmVjdF8xID0gcmVxdWlyZShcIi4uLy4uLy4uL21ldGVvci1jb21tb24vc3JjL21vZHVsZXNfZmVhdHVyZS9kYXBwX2Nvbm5lY3QvdHlwZXNfZGFwcENvbm5lY3RcIik7XHJcbmNvbnN0IHF1ZXJ5X3N0cmluZ18xID0gcmVxdWlyZShcInF1ZXJ5LXN0cmluZ1wiKTtcclxuY29uc3QgZXJyb3JfaGFuZGxpbmdfZGFwcENvbm5lY3RfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9tZXRlb3ItY29tbW9uL3NyYy9tb2R1bGVzX2ZlYXR1cmUvZGFwcF9jb25uZWN0L2Vycm9yX2hhbmRsaW5nX2RhcHBDb25uZWN0XCIpO1xyXG5jb25zdCBjb25zdGFudHNfdGhlbWVfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi9tZXRlb3ItY29tbW9uL3NyYy9tb2R1bGVzX2FwcF9jb3JlL3RoZW1lL2NvbnN0YW50c190aGVtZVwiKTtcclxuY2xhc3MgQ29tV2luZG93IHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbm5lY3Rpb24sIGxpc3RlbmVyKSB7XHJcbiAgICAgICAgY29uc3QgYmFzZVdhbGxldFVybCA9IGVudkNvbmZpZ18xLmVudkNvbmZpZy53YWxsZXRfYmFzZV91cmw7XHJcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChiYXNlV2FsbGV0VXJsKTtcclxuICAgICAgICB0aGlzLndhbGxldE9yaWdpbiA9IHVybC5vcmlnaW47XHJcbiAgICAgICAgaWYgKHdpbmRvdy5tZXRlb3JDb20gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbVR5cGUgPSB0eXBlc19kYXBwQ29ubmVjdF8xLkVEYXBwQWN0aW9uU291cmNlLndlYnNpdGVfcG9zdF9tZXNzYWdlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGV4dGVuc2lvbiBmb3VuZC4gTmVlZCB0byBjb25uZWN0IHRvIHdlYiBwb3B1cCBmb3IgTWV0ZW9yIGNvbW11bmljYXRpb25cIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgc291cmNlOiB0eXBlc19kYXBwQ29ubmVjdF8xLkVEYXBwQWN0aW9uU291cmNlLndlYnNpdGVfcG9zdF9tZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvblVpZDogY29ubmVjdGlvbi51aWQsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IHcgPSBjb25zdGFudHNfdGhlbWVfMS5TSUdOX1BPUFVQX1dJRFRIO1xyXG4gICAgICAgICAgICBjb25zdCBoID0gY29uc3RhbnRzX3RoZW1lXzEuU0lHTl9QT1BVUF9IRUlHSFQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSB3aW5kb3cudG9wLm91dGVySGVpZ2h0IC8gMiArIHdpbmRvdy50b3Auc2NyZWVuWSAtIGggLyAyO1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gd2luZG93LnRvcC5vdXRlcldpZHRoIC8gMiArIHdpbmRvdy50b3Auc2NyZWVuWCAtIHcgLyAyO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdXaW5kb3cgPSB3aW5kb3cub3BlbihgJHtiYXNlV2FsbGV0VXJsfS9jb25uZWN0LyR7Y29ubmVjdGlvbi5uZXR3b3JrfS8ke2Nvbm5lY3Rpb24uYWN0aW9uVHlwZX0/JHsoMCwgcXVlcnlfc3RyaW5nXzEuc3RyaW5naWZ5KShxdWVyeVBhcmFtcyl9YCwgXCJfYmxhbmtcIiwgYHBvcHVwPTEsd2lkdGg9JHt3fSxoZWlnaHQ9JHtofSx0b3A9JHt5fSxsZWZ0PSR7eH1gKTtcclxuICAgICAgICAgICAgaWYgKG5ld1dpbmRvdyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndlYnNpdGVXaW5kb3cgPSBuZXdXaW5kb3c7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgdHlwZXNfZGFwcENvbm5lY3RfMS5NZXRlb3JBY3Rpb25FcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDb3VsZG4ndCBvcGVuIHBvcHVwIHdpbmRvdyB0byBjb21wbGV0ZSB3YWxsZXQgYWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kVGFnczogW2Vycm9yX2hhbmRsaW5nX2RhcHBDb25uZWN0XzEuRURhcHBBY3Rpb25FcnJvclRhZy5QT1BVUF9XSU5ET1dfT1BFTl9GQUlMRURdLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChldmVudCkgPT4gbGlzdGVuZXIoZXZlbnQuZGF0YSkpO1xyXG4gICAgICAgICAgICB0aGlzLndhc09wZW5lZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jb21UeXBlID0gdHlwZXNfZGFwcENvbm5lY3RfMS5FRGFwcEFjdGlvblNvdXJjZS5leHRlbnNpb25faW5qZWN0ZWQ7XHJcbiAgICAgICAgICAgIHRoaXMud2FzT3BlbmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJOZWVkIHRvIGNvbW11bmljYXRlIHdpdGggdGhlIGV4dGVuc2lvbiFcIik7XHJcbiAgICAgICAgICAgIHdpbmRvdy5tZXRlb3JDb20uYWRkTWVzc2FnZURhdGFMaXN0ZW5lcihsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9jdXMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29tVHlwZSA9PT0gdHlwZXNfZGFwcENvbm5lY3RfMS5FRGFwcEFjdGlvblNvdXJjZS53ZWJzaXRlX3Bvc3RfbWVzc2FnZSkge1xyXG4gICAgICAgICAgICB0aGlzLndlYnNpdGVXaW5kb3c/LmZvY3VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2VuZE1lc3NhZ2UoZGF0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbVR5cGUgPT09IHR5cGVzX2RhcHBDb25uZWN0XzEuRURhcHBBY3Rpb25Tb3VyY2Uud2Vic2l0ZV9wb3N0X21lc3NhZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy53ZWJzaXRlV2luZG93Py5wb3N0TWVzc2FnZShkYXRhLCB0aGlzLndhbGxldE9yaWdpbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB3aW5kb3cubWV0ZW9yQ29tPy5zZW5kTWVzc2FnZURhdGEoZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaXNXaW5kb3dDbG9zZWQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29tVHlwZSA9PT0gdHlwZXNfZGFwcENvbm5lY3RfMS5FRGFwcEFjdGlvblNvdXJjZS53ZWJzaXRlX3Bvc3RfbWVzc2FnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy53ZWJzaXRlV2luZG93Py5jbG9zZWQgPz8gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBoYXNBY3RpdmVXaW5kb3coKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29tVHlwZSA9PT0gdHlwZXNfZGFwcENvbm5lY3RfMS5FRGFwcEFjdGlvblNvdXJjZS53ZWJzaXRlX3Bvc3RfbWVzc2FnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy53ZWJzaXRlV2luZG93ICE9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5jb21UeXBlID09PSB0eXBlc19kYXBwQ29ubmVjdF8xLkVEYXBwQWN0aW9uU291cmNlLndlYnNpdGVfcG9zdF9tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLndlYnNpdGVXaW5kb3c7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jb25zdCBwaW5nSW50ZXJ2YWwgPSA0NTA7XHJcbmNsYXNzIE1ldGVvclBvc3RNZXNzZW5nZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9ucyA9IFtdO1xyXG4gICAgICAgIC8vIGNvbnN0IGJhc2VVcmwgPSBcImh0dHBzOi8vZGV2LndhbGxldC5tZXRlb3J3YWxsZXQuYXBwXCI7XHJcbiAgICAgICAgY29uc3QgYmFzZVVybCA9IGVudkNvbmZpZ18xLmVudkNvbmZpZy53YWxsZXRfYmFzZV91cmw7XHJcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChiYXNlVXJsKTtcclxuICAgICAgICB0aGlzLmJhc2VXYWxsZXRVcmwgPSBiYXNlVXJsO1xyXG4gICAgICAgIHRoaXMud2FsbGV0T3JpZ2luID0gdXJsLm9yaWdpbjtcclxuICAgICAgICB0aGlzLmxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgZGF0YTogVENsaWVudFBvc3RNZXNzYWdlUmVzcG9uc2UgPSBldmVudC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJNZXRlb3IgUG9zdCBNZXNzZW5nZXIgcmVjZWl2ZWQgZXZlbnQgd2l0aCBkYXRhOiBcIiwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbnMuZmluZCgoY29uKSA9PiBjb24udWlkID09PSBkYXRhLnVpZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbm5lY3Rpb24gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbihjdXJyZW50Q29ubmVjdGlvbi51aWQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENvbm5lY3Rpb246IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSB0eXBlc19kYXBwQ29ubmVjdF8xLkVEYXBwQWN0aW9uQ29ubmVjdGlvblN0YXR1cy5hdHRlbXB0aW5nX3JlY29ubmVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbm5lY3Rpb24oY3VycmVudENvbm5lY3Rpb24udWlkLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHR5cGVzX2RhcHBDb25uZWN0XzEuRURhcHBBY3Rpb25Db25uZWN0aW9uU3RhdHVzLmluaXRpYWxpemluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZENvbXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSB0eXBlc19kYXBwQ29ubmVjdF8xLkVEYXBwQWN0aW9uQ29ubmVjdGlvblN0YXR1cy5jb25uZWN0ZWQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbm5lY3Rpb24uc3RhdHVzID09PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZXNfZGFwcENvbm5lY3RfMS5FRGFwcEFjdGlvbkNvbm5lY3Rpb25TdGF0dXMuaW5pdGlhbGl6aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbihjdXJyZW50Q29ubmVjdGlvbi51aWQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHlwZXNfZGFwcENvbm5lY3RfMS5FRGFwcEFjdGlvbkNvbm5lY3Rpb25TdGF0dXMuY29ubmVjdGVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSB0eXBlc19kYXBwQ29ubmVjdF8xLkVEYXBwQWN0aW9uQ29ubmVjdGlvblN0YXR1cy5jbG9zZWRfc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29ubmVjdGlvbi5yZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRUYWdzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IGRhdGEucGF5bG9hZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbihjdXJyZW50Q29ubmVjdGlvbi51aWQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHlwZXNfZGFwcENvbm5lY3RfMS5FRGFwcEFjdGlvbkNvbm5lY3Rpb25TdGF0dXMuY2xvc2VkX3N1Y2Nlc3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRDb21zKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gdHlwZXNfZGFwcENvbm5lY3RfMS5FRGFwcEFjdGlvbkNvbm5lY3Rpb25TdGF0dXMuY2xvc2VkX2ZhaWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uKGN1cnJlbnRDb25uZWN0aW9uLnVpZCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0eXBlc19kYXBwQ29ubmVjdF8xLkVEYXBwQWN0aW9uQ29ubmVjdGlvblN0YXR1cy5jbG9zZWRfZmFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZENvbXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZXJyb3IgPSBuZXcgTWV0ZW9yQWN0aW9uRXJyb3IoeyBlbmRUYWdzOiBkYXRhLmVuZFRhZ3MgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiRW5kaW5nIGZhaWx1cmUgd2l0aCBlcnJvclwiLCB7IC4uLmVycm9yIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29ubmVjdGlvbi5yZWplY3QobmV3IHR5cGVzX2RhcHBDb25uZWN0XzEuTWV0ZW9yQWN0aW9uRXJyb3IoeyBlbmRUYWdzOiBkYXRhLmVuZFRhZ3MgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09IHR5cGVzX2RhcHBDb25uZWN0XzEuRURhcHBBY3Rpb25Db25uZWN0aW9uU3RhdHVzLmNsb3NlZF93aW5kb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uKGN1cnJlbnRDb25uZWN0aW9uLnVpZCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0eXBlc19kYXBwQ29ubmVjdF8xLkVEYXBwQWN0aW9uQ29ubmVjdGlvblN0YXR1cy5jbG9zZWRfd2luZG93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbm5lY3Rpb24ucmVqZWN0KG5ldyB0eXBlc19kYXBwQ29ubmVjdF8xLk1ldGVvckFjdGlvbkVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRhZ3M6IGRhdGEuZW5kVGFncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVXNlciBjbG9zZWQgdGhlIHdpbmRvd1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVzX2RhcHBDb25uZWN0XzEuRURhcHBBY3Rpb25Db25uZWN0aW9uU3RhdHVzLmRpc2Nvbm5lY3RlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZXNfZGFwcENvbm5lY3RfMS5FRGFwcEFjdGlvbkNvbm5lY3Rpb25TdGF0dXMuY2xvc2VkX2ZhaWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVzX2RhcHBDb25uZWN0XzEuRURhcHBBY3Rpb25Db25uZWN0aW9uU3RhdHVzLmNsb3NlZF93aW5kb3csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVzX2RhcHBDb25uZWN0XzEuRURhcHBBY3Rpb25Db25uZWN0aW9uU3RhdHVzLmNsb3NlZF9zdWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgIF0uaW5jbHVkZXMoZGF0YS5zdGF0dXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29ubmVjdGlvbihjdXJyZW50Q29ubmVjdGlvbi51aWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gLyogZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ29ubmVjdGlvbiBkYXRhIHJlY2VpdmVkIGJ1dCBubyBJRCBmb3VuZCBcIiR7ZGF0YS51aWR9XCJgLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH0qL1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5saXN0ZW5lcik7XHJcbiAgICB9XHJcbiAgICByZW1vdmVDb25uZWN0aW9uKHVpZCkge1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbnMgPSB0aGlzLmNvbm5lY3Rpb25zLmZpbHRlcigoY29uKSA9PiBjb24udWlkICE9PSB1aWQpO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb21XaW5kb3c7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb21JbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNvbUludGVydmFsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZUNvbm5lY3Rpb24odWlkLCBuZXdDb25uZWN0aW9uUHJvcGVydGllcykge1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbnMgPSB0aGlzLmNvbm5lY3Rpb25zLm1hcCgoY29uKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjb24udWlkID09PSB1aWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4uY29uLFxyXG4gICAgICAgICAgICAgICAgICAgIC4uLm5ld0Nvbm5lY3Rpb25Qcm9wZXJ0aWVzLFxyXG4gICAgICAgICAgICAgICAgICAgIHVpZDogY29uLnVpZCxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbjtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHNlbmRDb21zKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbVdpbmRvdz8uaGFzQWN0aXZlV2luZG93KCkgJiYgdGhpcy5jb25uZWN0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbUludGVydmFsID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnNlbmRDb21zKCksIHBpbmdJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuY29tV2luZG93LmlzV2luZG93Q2xvc2VkKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbVdpbmRvdy53YXNPcGVuZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbiBvZiB0aGlzLmNvbm5lY3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbi5yZWplY3QobmV3IHR5cGVzX2RhcHBDb25uZWN0XzEuTWV0ZW9yQWN0aW9uRXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJVc2VyIGNsb3NlZCB0aGUgd2luZG93IGJlZm9yZSBjb21wbGV0aW5nIHRoZSBhY3Rpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRhZ3M6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl9oYW5kbGluZ19kYXBwQ29ubmVjdF8xLkVEYXBwQWN0aW9uRXJyb3JUYWcuSU5DT01QTEVURV9BQ1RJT04sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfaGFuZGxpbmdfZGFwcENvbm5lY3RfMS5FRGFwcEFjdGlvbkVycm9yVGFnLldJTkRPV19DTE9TRUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbVdpbmRvdy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJXaW5kb3cgaXMgY2xvc2VkLCBuZWVkIHRvIGFsbG93IHBvcHVwXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21XaW5kb3cud2FzT3BlbmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgeyBuZXR3b3JrLCBhY3Rpb25UeXBlLCBlbmRUYWdzLCBzdGF0dXMsIGlucHV0cywgdWlkIH0gb2YgdGhpc1xyXG4gICAgICAgICAgICAgICAgICAgIC5jb25uZWN0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc3RNZXNzYWdlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRUYWdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25UeXBlOiBhY3Rpb25UeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV0d29yayxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IHR5cGVzX2RhcHBDb25uZWN0XzEuRURhcHBBY3Rpb25Db25uZWN0aW9uU3RhdHVzLmluaXRpYWxpemluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZS5pbnB1dHMgPSBpbnB1dHM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tV2luZG93LnNlbmRNZXNzYWdlKHBvc3RNZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNvbUludGVydmFsKTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29tSW50ZXJ2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkQW5kU3RhcnRDb25uZWN0aW9uKGNvbm5lY3Rpb24pIHtcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29uIG9mIHRoaXMuY29ubmVjdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGNvbi5zdGF0dXMgPSB0eXBlc19kYXBwQ29ubmVjdF8xLkVEYXBwQWN0aW9uQ29ubmVjdGlvblN0YXR1cy5kaXNjb25uZWN0ZWQ7XHJcbiAgICAgICAgICAgICAgICBjb24uZW5kVGFncyA9IFtlcnJvcl9oYW5kbGluZ19kYXBwQ29ubmVjdF8xLkVEYXBwQWN0aW9uRXJyb3JUYWcuTkVXX0FDVElPTl9TVEFSVEVEXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLnB1c2goY29ubmVjdGlvbik7XHJcbiAgICAgICAgaWYgKHRoaXMuY29tV2luZG93ID09IG51bGwgfHwgIXRoaXMuY29tV2luZG93Lmhhc0FjdGl2ZVdpbmRvdygpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tV2luZG93ID0gbmV3IENvbVdpbmRvdyhjb25uZWN0aW9uLCB0aGlzLmxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tV2luZG93LmZvY3VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2VuZENvbXMoKTtcclxuICAgIH1cclxuICAgIGFzeW5jIGNvbm5lY3RBbmRXYWl0Rm9yUmVzcG9uc2UoeyBhY3Rpb25UeXBlLCBuZXR3b3JrLCBpbnB1dHMsIH0pIHtcclxuICAgICAgICBsZXQgbmV3Q29ubmVjdGlvbiA9IHtcclxuICAgICAgICAgICAgdWlkOiAoMCwgbmFub2lkXzEubmFub2lkKSgpLFxyXG4gICAgICAgICAgICBhY3Rpb25UeXBlLFxyXG4gICAgICAgICAgICBsYXN0QXR0ZW1wdGVkQ29ubmVjdGlvbjogMCxcclxuICAgICAgICAgICAgbGFzdENvbm5lY3Rpb246IDAsXHJcbiAgICAgICAgICAgIHN0YXR1czogdHlwZXNfZGFwcENvbm5lY3RfMS5FRGFwcEFjdGlvbkNvbm5lY3Rpb25TdGF0dXMuaW5pdGlhbGl6aW5nLFxyXG4gICAgICAgICAgICBwcm9taXNlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIHJlamVjdDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICByZXNvbHZlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIGN1cnJlbnRQYXlsb2FkOiB7fSxcclxuICAgICAgICAgICAgaW5wdXRzLFxyXG4gICAgICAgICAgICBuZXR3b3JrLFxyXG4gICAgICAgICAgICBlbmRUYWdzOiBbXSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIG5ld0Nvbm5lY3Rpb24ucmVzb2x2ZSA9IHJlc29sdmU7XHJcbiAgICAgICAgICAgIG5ld0Nvbm5lY3Rpb24ucmVqZWN0ID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25zID0gdGhpcy5jb25uZWN0aW9ucy5maWx0ZXIoKGNvbikgPT4gY29uLnVpZCAhPT0gbmV3Q29ubmVjdGlvbi51aWQpO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBuZXdDb25uZWN0aW9uLnByb21pc2UgPSBwcm9taXNlO1xyXG4gICAgICAgIHRoaXMuYWRkQW5kU3RhcnRDb25uZWN0aW9uKG5ld0Nvbm5lY3Rpb24pO1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBwcm9taXNlO1xyXG4gICAgfVxyXG59XHJcbmxldCBwb3N0TWVzc2VuZ2VyO1xyXG5mdW5jdGlvbiBnZXRNZXRlb3JQb3N0TWVzc2VuZ2VyKCkge1xyXG4gICAgaWYgKHBvc3RNZXNzZW5nZXIgPT0gbnVsbCkge1xyXG4gICAgICAgIHBvc3RNZXNzZW5nZXIgPSBuZXcgTWV0ZW9yUG9zdE1lc3NlbmdlcigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBvc3RNZXNzZW5nZXI7XHJcbn1cclxuZXhwb3J0cy5nZXRNZXRlb3JQb3N0TWVzc2VuZ2VyID0gZ2V0TWV0ZW9yUG9zdE1lc3NlbmdlcjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWV0ZW9yUG9zdE1lc3Nlbmdlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/postMessage/MeteorPostMessenger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/utils/MeteorSdkUtils.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/utils/MeteorSdkUtils.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.getNetworkPreset = exports.resolveWalletUrl = void 0;\r\nconst envConfig_1 = __webpack_require__(/*! ../envConfig */ \"(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/envConfig.js\");\r\nconst resolveWalletUrl = (network, walletUrl) => {\r\n    if (walletUrl) {\r\n        return walletUrl;\r\n    }\r\n    const base = envConfig_1.envConfig.wallet_base_url;\r\n    switch (network) {\r\n        case \"mainnet\":\r\n            return `${base}/connect/mainnet`;\r\n        case \"testnet\":\r\n            return `${base}/connect/testnet`;\r\n        case \"betanet\":\r\n            return `${base}/connect/betanet`;\r\n        default:\r\n            throw new Error(\"Invalid wallet URL\");\r\n    }\r\n};\r\nexports.resolveWalletUrl = resolveWalletUrl;\r\nconst getNetworkPreset = (networkId) => {\r\n    switch (networkId) {\r\n        case \"mainnet\":\r\n            return {\r\n                networkId,\r\n                nodeUrl: \"https://rpc.mainnet.near.org\",\r\n                helperUrl: \"https://helper.mainnet.near.org\",\r\n                explorerUrl: \"https://explorer.near.org\",\r\n            };\r\n        case \"testnet\":\r\n            return {\r\n                networkId,\r\n                nodeUrl: \"https://rpc.testnet.near.org\",\r\n                helperUrl: \"https://helper.testnet.near.org\",\r\n                explorerUrl: \"https://explorer.testnet.near.org\",\r\n            };\r\n        case \"betanet\":\r\n            return {\r\n                networkId,\r\n                nodeUrl: \"https://rpc.betanet.near.org\",\r\n                helperUrl: \"https://helper.betanet.near.org\",\r\n                explorerUrl: \"https://explorer.betanet.near.org\",\r\n            };\r\n        default:\r\n            throw Error(`Failed to find config for: '${networkId}'`);\r\n    }\r\n};\r\nexports.getNetworkPreset = getNetworkPreset;\r\n//# sourceMappingURL=MeteorSdkUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3Itc2RrL3NyYy91dGlscy9NZXRlb3JTZGtVdGlscy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3QkFBd0IsR0FBRyx3QkFBd0I7QUFDbkQsb0JBQW9CLG1CQUFPLENBQUMsNkZBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsS0FBSztBQUMzQjtBQUNBLHNCQUFzQixLQUFLO0FBQzNCO0FBQ0Esc0JBQXNCLEtBQUs7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELFVBQVU7QUFDakU7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL21hcmtldGJhc2VtaW50Ly4vbm9kZV9tb2R1bGVzL0BtZXRlb3J3YWxsZXQvc2RrL2Rpc3QvbWV0ZW9yLXNkay9zcmMvdXRpbHMvTWV0ZW9yU2RrVXRpbHMuanM/NmI2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmdldE5ldHdvcmtQcmVzZXQgPSBleHBvcnRzLnJlc29sdmVXYWxsZXRVcmwgPSB2b2lkIDA7XHJcbmNvbnN0IGVudkNvbmZpZ18xID0gcmVxdWlyZShcIi4uL2VudkNvbmZpZ1wiKTtcclxuY29uc3QgcmVzb2x2ZVdhbGxldFVybCA9IChuZXR3b3JrLCB3YWxsZXRVcmwpID0+IHtcclxuICAgIGlmICh3YWxsZXRVcmwpIHtcclxuICAgICAgICByZXR1cm4gd2FsbGV0VXJsO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYmFzZSA9IGVudkNvbmZpZ18xLmVudkNvbmZpZy53YWxsZXRfYmFzZV91cmw7XHJcbiAgICBzd2l0Y2ggKG5ldHdvcmspIHtcclxuICAgICAgICBjYXNlIFwibWFpbm5ldFwiOlxyXG4gICAgICAgICAgICByZXR1cm4gYCR7YmFzZX0vY29ubmVjdC9tYWlubmV0YDtcclxuICAgICAgICBjYXNlIFwidGVzdG5ldFwiOlxyXG4gICAgICAgICAgICByZXR1cm4gYCR7YmFzZX0vY29ubmVjdC90ZXN0bmV0YDtcclxuICAgICAgICBjYXNlIFwiYmV0YW5ldFwiOlxyXG4gICAgICAgICAgICByZXR1cm4gYCR7YmFzZX0vY29ubmVjdC9iZXRhbmV0YDtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHdhbGxldCBVUkxcIik7XHJcbiAgICB9XHJcbn07XHJcbmV4cG9ydHMucmVzb2x2ZVdhbGxldFVybCA9IHJlc29sdmVXYWxsZXRVcmw7XHJcbmNvbnN0IGdldE5ldHdvcmtQcmVzZXQgPSAobmV0d29ya0lkKSA9PiB7XHJcbiAgICBzd2l0Y2ggKG5ldHdvcmtJZCkge1xyXG4gICAgICAgIGNhc2UgXCJtYWlubmV0XCI6XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBuZXR3b3JrSWQsXHJcbiAgICAgICAgICAgICAgICBub2RlVXJsOiBcImh0dHBzOi8vcnBjLm1haW5uZXQubmVhci5vcmdcIixcclxuICAgICAgICAgICAgICAgIGhlbHBlclVybDogXCJodHRwczovL2hlbHBlci5tYWlubmV0Lm5lYXIub3JnXCIsXHJcbiAgICAgICAgICAgICAgICBleHBsb3JlclVybDogXCJodHRwczovL2V4cGxvcmVyLm5lYXIub3JnXCIsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgY2FzZSBcInRlc3RuZXRcIjpcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIG5ldHdvcmtJZCxcclxuICAgICAgICAgICAgICAgIG5vZGVVcmw6IFwiaHR0cHM6Ly9ycGMudGVzdG5ldC5uZWFyLm9yZ1wiLFxyXG4gICAgICAgICAgICAgICAgaGVscGVyVXJsOiBcImh0dHBzOi8vaGVscGVyLnRlc3RuZXQubmVhci5vcmdcIixcclxuICAgICAgICAgICAgICAgIGV4cGxvcmVyVXJsOiBcImh0dHBzOi8vZXhwbG9yZXIudGVzdG5ldC5uZWFyLm9yZ1wiLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIGNhc2UgXCJiZXRhbmV0XCI6XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBuZXR3b3JrSWQsXHJcbiAgICAgICAgICAgICAgICBub2RlVXJsOiBcImh0dHBzOi8vcnBjLmJldGFuZXQubmVhci5vcmdcIixcclxuICAgICAgICAgICAgICAgIGhlbHBlclVybDogXCJodHRwczovL2hlbHBlci5iZXRhbmV0Lm5lYXIub3JnXCIsXHJcbiAgICAgICAgICAgICAgICBleHBsb3JlclVybDogXCJodHRwczovL2V4cGxvcmVyLmJldGFuZXQubmVhci5vcmdcIixcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgRmFpbGVkIHRvIGZpbmQgY29uZmlnIGZvcjogJyR7bmV0d29ya0lkfSdgKTtcclxuICAgIH1cclxufTtcclxuZXhwb3J0cy5nZXROZXR3b3JrUHJlc2V0ID0gZ2V0TmV0d29ya1ByZXNldDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWV0ZW9yU2RrVXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/utils/MeteorSdkUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/utils/create-action.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/utils/create-action.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.createAction = exports.parseArgs = void 0;\r\nconst bn_js_1 = __webpack_require__(/*! bn.js */ \"(ssr)/./node_modules/bn.js/lib/bn.js\");\r\nconst transactions_1 = __webpack_require__(/*! @near-js/transactions */ \"(ssr)/./node_modules/@near-js/transactions/lib/index.js\");\r\nconst crypto_1 = __webpack_require__(/*! @near-js/crypto */ \"(ssr)/./node_modules/@near-js/crypto/lib/index.js\");\r\nconst getAccessKey = (permission) => {\r\n    if (permission === \"FullAccess\") {\r\n        return transactions_1.actionCreators.fullAccessKey();\r\n    }\r\n    const { receiverId, methodNames = [] } = permission;\r\n    const allowance = permission.allowance\r\n        ? new bn_js_1.BN(permission.allowance)\r\n        : undefined;\r\n    return transactions_1.actionCreators.functionCallAccessKey(receiverId, methodNames, allowance);\r\n};\r\nconst parseArgs = (data) => {\r\n    if (typeof data === \"string\")\r\n        return Buffer.from(data, \"base64\");\r\n    return data;\r\n};\r\nexports.parseArgs = parseArgs;\r\nconst createAction = (action) => {\r\n    switch (action.type) {\r\n        case \"CreateAccount\":\r\n            return transactions_1.actionCreators.createAccount();\r\n        case \"DeployContract\": {\r\n            const { code } = action.params;\r\n            return transactions_1.actionCreators.deployContract(code);\r\n        }\r\n        case \"FunctionCall\": {\r\n            const { methodName, args, gas, deposit } = action.params;\r\n            return transactions_1.actionCreators.functionCall(methodName, (0, exports.parseArgs)(args), new bn_js_1.BN(gas), new bn_js_1.BN(deposit));\r\n        }\r\n        case \"Transfer\": {\r\n            const { deposit } = action.params;\r\n            return transactions_1.actionCreators.transfer(new bn_js_1.BN(deposit));\r\n        }\r\n        case \"Stake\": {\r\n            const { stake, publicKey } = action.params;\r\n            return transactions_1.actionCreators.stake(new bn_js_1.BN(stake), crypto_1.PublicKey.from(publicKey));\r\n        }\r\n        case \"AddKey\": {\r\n            const { publicKey, accessKey } = action.params;\r\n            return transactions_1.actionCreators.addKey(crypto_1.PublicKey.from(publicKey), // TODO: Use accessKey.nonce? near-api-js seems to think 0 is fine?\r\n            getAccessKey(accessKey.permission));\r\n        }\r\n        case \"DeleteKey\": {\r\n            const { publicKey } = action.params;\r\n            return transactions_1.actionCreators.deleteKey(crypto_1.PublicKey.from(publicKey));\r\n        }\r\n        case \"DeleteAccount\": {\r\n            const { beneficiaryId } = action.params;\r\n            return transactions_1.actionCreators.deleteAccount(beneficiaryId);\r\n        }\r\n        default:\r\n            throw new Error(\"Invalid action type\");\r\n    }\r\n};\r\nexports.createAction = createAction;\r\n//# sourceMappingURL=create-action.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1ldGVvcndhbGxldC9zZGsvZGlzdC9tZXRlb3Itc2RrL3NyYy91dGlscy9jcmVhdGUtYWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQixHQUFHLGlCQUFpQjtBQUN4QyxnQkFBZ0IsbUJBQU8sQ0FBQyxtREFBTztBQUMvQix1QkFBdUIsbUJBQU8sQ0FBQyxzRkFBdUI7QUFDdEQsaUJBQWlCLG1CQUFPLENBQUMsMEVBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrQkFBK0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpQ0FBaUM7QUFDckQ7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXJrZXRiYXNlbWludC8uL25vZGVfbW9kdWxlcy9AbWV0ZW9yd2FsbGV0L3Nkay9kaXN0L21ldGVvci1zZGsvc3JjL3V0aWxzL2NyZWF0ZS1hY3Rpb24uanM/NTY5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmNyZWF0ZUFjdGlvbiA9IGV4cG9ydHMucGFyc2VBcmdzID0gdm9pZCAwO1xyXG5jb25zdCBibl9qc18xID0gcmVxdWlyZShcImJuLmpzXCIpO1xyXG5jb25zdCB0cmFuc2FjdGlvbnNfMSA9IHJlcXVpcmUoXCJAbmVhci1qcy90cmFuc2FjdGlvbnNcIik7XHJcbmNvbnN0IGNyeXB0b18xID0gcmVxdWlyZShcIkBuZWFyLWpzL2NyeXB0b1wiKTtcclxuY29uc3QgZ2V0QWNjZXNzS2V5ID0gKHBlcm1pc3Npb24pID0+IHtcclxuICAgIGlmIChwZXJtaXNzaW9uID09PSBcIkZ1bGxBY2Nlc3NcIikge1xyXG4gICAgICAgIHJldHVybiB0cmFuc2FjdGlvbnNfMS5hY3Rpb25DcmVhdG9ycy5mdWxsQWNjZXNzS2V5KCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IHJlY2VpdmVySWQsIG1ldGhvZE5hbWVzID0gW10gfSA9IHBlcm1pc3Npb247XHJcbiAgICBjb25zdCBhbGxvd2FuY2UgPSBwZXJtaXNzaW9uLmFsbG93YW5jZVxyXG4gICAgICAgID8gbmV3IGJuX2pzXzEuQk4ocGVybWlzc2lvbi5hbGxvd2FuY2UpXHJcbiAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25zXzEuYWN0aW9uQ3JlYXRvcnMuZnVuY3Rpb25DYWxsQWNjZXNzS2V5KHJlY2VpdmVySWQsIG1ldGhvZE5hbWVzLCBhbGxvd2FuY2UpO1xyXG59O1xyXG5jb25zdCBwYXJzZUFyZ3MgPSAoZGF0YSkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKVxyXG4gICAgICAgIHJldHVybiBCdWZmZXIuZnJvbShkYXRhLCBcImJhc2U2NFwiKTtcclxuICAgIHJldHVybiBkYXRhO1xyXG59O1xyXG5leHBvcnRzLnBhcnNlQXJncyA9IHBhcnNlQXJncztcclxuY29uc3QgY3JlYXRlQWN0aW9uID0gKGFjdGlvbikgPT4ge1xyXG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgICAgIGNhc2UgXCJDcmVhdGVBY2NvdW50XCI6XHJcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbnNfMS5hY3Rpb25DcmVhdG9ycy5jcmVhdGVBY2NvdW50KCk7XHJcbiAgICAgICAgY2FzZSBcIkRlcGxveUNvbnRyYWN0XCI6IHtcclxuICAgICAgICAgICAgY29uc3QgeyBjb2RlIH0gPSBhY3Rpb24ucGFyYW1zO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25zXzEuYWN0aW9uQ3JlYXRvcnMuZGVwbG95Q29udHJhY3QoY29kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgXCJGdW5jdGlvbkNhbGxcIjoge1xyXG4gICAgICAgICAgICBjb25zdCB7IG1ldGhvZE5hbWUsIGFyZ3MsIGdhcywgZGVwb3NpdCB9ID0gYWN0aW9uLnBhcmFtcztcclxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uc18xLmFjdGlvbkNyZWF0b3JzLmZ1bmN0aW9uQ2FsbChtZXRob2ROYW1lLCAoMCwgZXhwb3J0cy5wYXJzZUFyZ3MpKGFyZ3MpLCBuZXcgYm5fanNfMS5CTihnYXMpLCBuZXcgYm5fanNfMS5CTihkZXBvc2l0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgXCJUcmFuc2ZlclwiOiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZGVwb3NpdCB9ID0gYWN0aW9uLnBhcmFtcztcclxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uc18xLmFjdGlvbkNyZWF0b3JzLnRyYW5zZmVyKG5ldyBibl9qc18xLkJOKGRlcG9zaXQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBcIlN0YWtlXCI6IHtcclxuICAgICAgICAgICAgY29uc3QgeyBzdGFrZSwgcHVibGljS2V5IH0gPSBhY3Rpb24ucGFyYW1zO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25zXzEuYWN0aW9uQ3JlYXRvcnMuc3Rha2UobmV3IGJuX2pzXzEuQk4oc3Rha2UpLCBjcnlwdG9fMS5QdWJsaWNLZXkuZnJvbShwdWJsaWNLZXkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBcIkFkZEtleVwiOiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgcHVibGljS2V5LCBhY2Nlc3NLZXkgfSA9IGFjdGlvbi5wYXJhbXM7XHJcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbnNfMS5hY3Rpb25DcmVhdG9ycy5hZGRLZXkoY3J5cHRvXzEuUHVibGljS2V5LmZyb20ocHVibGljS2V5KSwgLy8gVE9ETzogVXNlIGFjY2Vzc0tleS5ub25jZT8gbmVhci1hcGktanMgc2VlbXMgdG8gdGhpbmsgMCBpcyBmaW5lP1xyXG4gICAgICAgICAgICBnZXRBY2Nlc3NLZXkoYWNjZXNzS2V5LnBlcm1pc3Npb24pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBcIkRlbGV0ZUtleVwiOiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgcHVibGljS2V5IH0gPSBhY3Rpb24ucGFyYW1zO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25zXzEuYWN0aW9uQ3JlYXRvcnMuZGVsZXRlS2V5KGNyeXB0b18xLlB1YmxpY0tleS5mcm9tKHB1YmxpY0tleSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIFwiRGVsZXRlQWNjb3VudFwiOiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgYmVuZWZpY2lhcnlJZCB9ID0gYWN0aW9uLnBhcmFtcztcclxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uc18xLmFjdGlvbkNyZWF0b3JzLmRlbGV0ZUFjY291bnQoYmVuZWZpY2lhcnlJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYWN0aW9uIHR5cGVcIik7XHJcbiAgICB9XHJcbn07XHJcbmV4cG9ydHMuY3JlYXRlQWN0aW9uID0gY3JlYXRlQWN0aW9uO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGUtYWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@meteorwallet/sdk/dist/meteor-sdk/src/utils/create-action.js\n");

/***/ })

};
;