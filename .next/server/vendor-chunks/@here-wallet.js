"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@here-wallet";
exports.ids = ["vendor-chunks/@here-wallet"];
exports.modules = {

/***/ "(ssr)/./node_modules/@here-wallet/core/build/HereKeyStore.js":
/*!**************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/HereKeyStore.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereKeyStore = void 0;\nconst key_pair_1 = __webpack_require__(/*! near-api-js/lib/utils/key_pair */ \"(ssr)/./node_modules/near-api-js/lib/utils/key_pair.js\");\nconst JSONStorage_1 = __webpack_require__(/*! ./JSONStorage */ \"(ssr)/./node_modules/@here-wallet/core/build/JSONStorage.js\");\nclass HereKeyStore {\n    constructor(storage = new JSONStorage_1.StateStorage()) {\n        this.storage = storage;\n    }\n    setActiveAccount(network, id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(network);\n            state.activeAccount = id;\n            this.storage.setState(network, state);\n        });\n    }\n    setKey(networkId, accountId, keyPair) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(networkId);\n            state.accounts[accountId] = keyPair.toString();\n            this.storage.setState(networkId, state);\n        });\n    }\n    getAccounts(network) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(network);\n            return Object.keys(state.accounts);\n        });\n    }\n    getActiveAccount(network) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(network);\n            return state.activeAccount;\n        });\n    }\n    getKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(networkId);\n            const privateKey = state.accounts[accountId];\n            if (privateKey == null)\n                throw Error(`For ${accountId} in ${networkId} network key not found`);\n            const keyPair = key_pair_1.KeyPair.fromString(privateKey);\n            return keyPair;\n        });\n    }\n    removeKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let state = yield this.storage.getState(networkId);\n            if (state.activeAccount === accountId) {\n                state.activeAccount = null;\n            }\n            delete state.accounts[accountId];\n            this.storage.setState(networkId, state);\n        });\n    }\n    getNetworks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let state = yield this.storage.getFullState();\n            return Object.keys(state.accounts);\n        });\n    }\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.storage.clear();\n        });\n    }\n}\nexports.HereKeyStore = HereKeyStore;\n//# sourceMappingURL=HereKeyStore.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvSGVyZUtleVN0b3JlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0I7QUFDcEIsbUJBQW1CLG1CQUFPLENBQUMsOEZBQWdDO0FBQzNELHNCQUFzQixtQkFBTyxDQUFDLGtGQUFlO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxXQUFXLEtBQUssV0FBVztBQUM5RDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXJrZXRiYXNlbWludC8uL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9IZXJlS2V5U3RvcmUuanM/MDhiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IZXJlS2V5U3RvcmUgPSB2b2lkIDA7XG5jb25zdCBrZXlfcGFpcl8xID0gcmVxdWlyZShcIm5lYXItYXBpLWpzL2xpYi91dGlscy9rZXlfcGFpclwiKTtcbmNvbnN0IEpTT05TdG9yYWdlXzEgPSByZXF1aXJlKFwiLi9KU09OU3RvcmFnZVwiKTtcbmNsYXNzIEhlcmVLZXlTdG9yZSB7XG4gICAgY29uc3RydWN0b3Ioc3RvcmFnZSA9IG5ldyBKU09OU3RvcmFnZV8xLlN0YXRlU3RvcmFnZSgpKSB7XG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XG4gICAgfVxuICAgIHNldEFjdGl2ZUFjY291bnQobmV0d29yaywgaWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0geWllbGQgdGhpcy5zdG9yYWdlLmdldFN0YXRlKG5ldHdvcmspO1xuICAgICAgICAgICAgc3RhdGUuYWN0aXZlQWNjb3VudCA9IGlkO1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldFN0YXRlKG5ldHdvcmssIHN0YXRlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldEtleShuZXR3b3JrSWQsIGFjY291bnRJZCwga2V5UGFpcikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB5aWVsZCB0aGlzLnN0b3JhZ2UuZ2V0U3RhdGUobmV0d29ya0lkKTtcbiAgICAgICAgICAgIHN0YXRlLmFjY291bnRzW2FjY291bnRJZF0gPSBrZXlQYWlyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0U3RhdGUobmV0d29ya0lkLCBzdGF0ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRBY2NvdW50cyhuZXR3b3JrKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHlpZWxkIHRoaXMuc3RvcmFnZS5nZXRTdGF0ZShuZXR3b3JrKTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhzdGF0ZS5hY2NvdW50cyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRBY3RpdmVBY2NvdW50KG5ldHdvcmspIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0geWllbGQgdGhpcy5zdG9yYWdlLmdldFN0YXRlKG5ldHdvcmspO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmFjdGl2ZUFjY291bnQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRLZXkobmV0d29ya0lkLCBhY2NvdW50SWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0geWllbGQgdGhpcy5zdG9yYWdlLmdldFN0YXRlKG5ldHdvcmtJZCk7XG4gICAgICAgICAgICBjb25zdCBwcml2YXRlS2V5ID0gc3RhdGUuYWNjb3VudHNbYWNjb3VudElkXTtcbiAgICAgICAgICAgIGlmIChwcml2YXRlS2V5ID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYEZvciAke2FjY291bnRJZH0gaW4gJHtuZXR3b3JrSWR9IG5ldHdvcmsga2V5IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgY29uc3Qga2V5UGFpciA9IGtleV9wYWlyXzEuS2V5UGFpci5mcm9tU3RyaW5nKHByaXZhdGVLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIGtleVBhaXI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVLZXkobmV0d29ya0lkLCBhY2NvdW50SWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBzdGF0ZSA9IHlpZWxkIHRoaXMuc3RvcmFnZS5nZXRTdGF0ZShuZXR3b3JrSWQpO1xuICAgICAgICAgICAgaWYgKHN0YXRlLmFjdGl2ZUFjY291bnQgPT09IGFjY291bnRJZCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUFjY291bnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHN0YXRlLmFjY291bnRzW2FjY291bnRJZF07XG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0U3RhdGUobmV0d29ya0lkLCBzdGF0ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXROZXR3b3JrcygpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBzdGF0ZSA9IHlpZWxkIHRoaXMuc3RvcmFnZS5nZXRGdWxsU3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhzdGF0ZS5hY2NvdW50cyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuc3RvcmFnZS5jbGVhcigpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLkhlcmVLZXlTdG9yZSA9IEhlcmVLZXlTdG9yZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhlcmVLZXlTdG9yZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/HereKeyStore.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/JSONStorage.js":
/*!*************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/JSONStorage.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StateStorage = void 0;\nclass StateStorage {\n    constructor() {\n        this.dataKey = `herewallet:keystore`;\n    }\n    setState(network, state) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = yield this.getFullState();\n            data[network] = state;\n            window.localStorage.setItem(this.dataKey, JSON.stringify(data));\n        });\n    }\n    getFullState() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                return JSON.parse(window.localStorage.getItem(this.dataKey)) || {};\n            }\n            catch (_a) {\n                return {};\n            }\n        });\n    }\n    getState(network) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const json = yield this.getFullState();\n            return json[network] || { activeAccount: null, accounts: {} };\n        });\n    }\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            window.localStorage.removeItem(this.dataKey);\n        });\n    }\n}\nexports.StateStorage = StateStorage;\n//# sourceMappingURL=JSONStorage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvSlNPTlN0b3JhZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFya2V0YmFzZW1pbnQvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvSlNPTlN0b3JhZ2UuanM/ZGQ2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdGF0ZVN0b3JhZ2UgPSB2b2lkIDA7XG5jbGFzcyBTdGF0ZVN0b3JhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRhdGFLZXkgPSBgaGVyZXdhbGxldDprZXlzdG9yZWA7XG4gICAgfVxuICAgIHNldFN0YXRlKG5ldHdvcmssIHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgdGhpcy5nZXRGdWxsU3RhdGUoKTtcbiAgICAgICAgICAgIGRhdGFbbmV0d29ya10gPSBzdGF0ZTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmRhdGFLZXksIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEZ1bGxTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuZGF0YUtleSkpIHx8IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0U3RhdGUobmV0d29yaykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QganNvbiA9IHlpZWxkIHRoaXMuZ2V0RnVsbFN0YXRlKCk7XG4gICAgICAgICAgICByZXR1cm4ganNvbltuZXR3b3JrXSB8fCB7IGFjdGl2ZUFjY291bnQ6IG51bGwsIGFjY291bnRzOiB7fSB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5kYXRhS2V5KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5TdGF0ZVN0b3JhZ2UgPSBTdGF0ZVN0b3JhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1KU09OU3RvcmFnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/JSONStorage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/WidgetStrategy.js":
/*!****************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/WidgetStrategy.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WidgetStrategy = exports.defaultUrl = void 0;\nconst createIframe = (widget) => {\n    const connector = document.createElement(\"iframe\");\n    connector.src = widget;\n    connector.style.border = \"none\";\n    connector.style.zIndex = \"10000\";\n    connector.style.position = \"fixed\";\n    connector.style.display = \"none\";\n    connector.style.top = \"0\";\n    connector.style.left = \"0\";\n    connector.style.width = \"100%\";\n    connector.style.height = \"100%\";\n    document.body.appendChild(connector);\n    return connector;\n};\nexports.defaultUrl = \"https://my.herewallet.app/connector/index.html\";\nclass WidgetStrategy {\n    constructor(options = { widget: exports.defaultUrl, lazy: false }) {\n        this.options = {\n            lazy: typeof options === \"object\" ? options.lazy || false : false,\n            widget: typeof options === \"string\" ? options : options.widget || exports.defaultUrl,\n        };\n        if (!this.options.lazy) {\n            this.initIframe();\n        }\n    }\n    initIframe() {\n        if (WidgetStrategy.connector == null) {\n            WidgetStrategy.connector = createIframe(this.options.widget);\n            WidgetStrategy.connector.addEventListener(\"load\", () => {\n                WidgetStrategy.isLoaded = true;\n            });\n        }\n        return WidgetStrategy.connector;\n    }\n    onRequested(id, request, reject) {\n        const iframe = this.initIframe();\n        iframe.style.display = \"block\";\n        const loadHandler = () => {\n            var _a, _b, _c;\n            (_a = WidgetStrategy.connector) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"load\", loadHandler);\n            (_c = (_b = WidgetStrategy.connector) === null || _b === void 0 ? void 0 : _b.contentWindow) === null || _c === void 0 ? void 0 : _c.postMessage(JSON.stringify({ type: \"request\", payload: { id, request } }), new URL(this.options.widget).origin);\n        };\n        if (WidgetStrategy.isLoaded)\n            loadHandler();\n        else\n            iframe.addEventListener(\"load\", loadHandler);\n        this.messageHandler = (event) => {\n            try {\n                if (event.origin !== new URL(this.options.widget).origin)\n                    return;\n                if (JSON.parse(event.data).type === \"reject\")\n                    reject();\n            }\n            catch (_a) { }\n        };\n        window.addEventListener(\"message\", this.messageHandler);\n    }\n    postMessage(data) {\n        var _a;\n        const iframe = this.initIframe();\n        const args = JSON.stringify(data);\n        const origin = new URL(this.options.widget).origin;\n        (_a = iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.postMessage(args, origin);\n    }\n    onApproving() {\n        this.postMessage({ type: \"approving\" });\n    }\n    onSuccess(request) {\n        console.log(request);\n        this.postMessage({ type: \"result\", payload: { request } });\n        this.close();\n    }\n    onFailed(request) {\n        this.postMessage({ type: \"result\", payload: { request } });\n        this.close();\n    }\n    close() {\n        if (this.messageHandler) {\n            window.removeEventListener(\"message\", this.messageHandler);\n            this.messageHandler = undefined;\n        }\n        if (WidgetStrategy.connector) {\n            WidgetStrategy.connector.style.display = \"none\";\n        }\n    }\n}\nexports.WidgetStrategy = WidgetStrategy;\nWidgetStrategy.isLoaded = false;\n//# sourceMappingURL=WidgetStrategy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvV2lkZ2V0U3RyYXRlZ3kuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCLEdBQUcsa0JBQWtCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSw0QkFBNEIseUNBQXlDO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhLQUE4Syw0QkFBNEIsZUFBZTtBQUN6TjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsbUJBQW1CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwyQkFBMkIsV0FBVztBQUNqRTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCLFdBQVc7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXJrZXRiYXNlbWludC8uL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9XaWRnZXRTdHJhdGVneS5qcz8xZjQ1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XaWRnZXRTdHJhdGVneSA9IGV4cG9ydHMuZGVmYXVsdFVybCA9IHZvaWQgMDtcbmNvbnN0IGNyZWF0ZUlmcmFtZSA9ICh3aWRnZXQpID0+IHtcbiAgICBjb25zdCBjb25uZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuICAgIGNvbm5lY3Rvci5zcmMgPSB3aWRnZXQ7XG4gICAgY29ubmVjdG9yLnN0eWxlLmJvcmRlciA9IFwibm9uZVwiO1xuICAgIGNvbm5lY3Rvci5zdHlsZS56SW5kZXggPSBcIjEwMDAwXCI7XG4gICAgY29ubmVjdG9yLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICAgIGNvbm5lY3Rvci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgY29ubmVjdG9yLnN0eWxlLnRvcCA9IFwiMFwiO1xuICAgIGNvbm5lY3Rvci5zdHlsZS5sZWZ0ID0gXCIwXCI7XG4gICAgY29ubmVjdG9yLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgY29ubmVjdG9yLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29ubmVjdG9yKTtcbiAgICByZXR1cm4gY29ubmVjdG9yO1xufTtcbmV4cG9ydHMuZGVmYXVsdFVybCA9IFwiaHR0cHM6Ly9teS5oZXJld2FsbGV0LmFwcC9jb25uZWN0b3IvaW5kZXguaHRtbFwiO1xuY2xhc3MgV2lkZ2V0U3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7IHdpZGdldDogZXhwb3J0cy5kZWZhdWx0VXJsLCBsYXp5OiBmYWxzZSB9KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGxhenk6IHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5sYXp5IHx8IGZhbHNlIDogZmFsc2UsXG4gICAgICAgICAgICB3aWRnZXQ6IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID8gb3B0aW9ucyA6IG9wdGlvbnMud2lkZ2V0IHx8IGV4cG9ydHMuZGVmYXVsdFVybCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMubGF6eSkge1xuICAgICAgICAgICAgdGhpcy5pbml0SWZyYW1lKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdElmcmFtZSgpIHtcbiAgICAgICAgaWYgKFdpZGdldFN0cmF0ZWd5LmNvbm5lY3RvciA9PSBudWxsKSB7XG4gICAgICAgICAgICBXaWRnZXRTdHJhdGVneS5jb25uZWN0b3IgPSBjcmVhdGVJZnJhbWUodGhpcy5vcHRpb25zLndpZGdldCk7XG4gICAgICAgICAgICBXaWRnZXRTdHJhdGVneS5jb25uZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIFdpZGdldFN0cmF0ZWd5LmlzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBXaWRnZXRTdHJhdGVneS5jb25uZWN0b3I7XG4gICAgfVxuICAgIG9uUmVxdWVzdGVkKGlkLCByZXF1ZXN0LCByZWplY3QpIHtcbiAgICAgICAgY29uc3QgaWZyYW1lID0gdGhpcy5pbml0SWZyYW1lKCk7XG4gICAgICAgIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICBjb25zdCBsb2FkSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgKF9hID0gV2lkZ2V0U3RyYXRlZ3kuY29ubmVjdG9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgbG9hZEhhbmRsZXIpO1xuICAgICAgICAgICAgKF9jID0gKF9iID0gV2lkZ2V0U3RyYXRlZ3kuY29ubmVjdG9yKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY29udGVudFdpbmRvdykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJyZXF1ZXN0XCIsIHBheWxvYWQ6IHsgaWQsIHJlcXVlc3QgfSB9KSwgbmV3IFVSTCh0aGlzLm9wdGlvbnMud2lkZ2V0KS5vcmlnaW4pO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoV2lkZ2V0U3RyYXRlZ3kuaXNMb2FkZWQpXG4gICAgICAgICAgICBsb2FkSGFuZGxlcigpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgbG9hZEhhbmRsZXIpO1xuICAgICAgICB0aGlzLm1lc3NhZ2VIYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5vcmlnaW4gIT09IG5ldyBVUkwodGhpcy5vcHRpb25zLndpZGdldCkub3JpZ2luKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKEpTT04ucGFyc2UoZXZlbnQuZGF0YSkudHlwZSA9PT0gXCJyZWplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2EpIHsgfVxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5tZXNzYWdlSGFuZGxlcik7XG4gICAgfVxuICAgIHBvc3RNZXNzYWdlKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBpZnJhbWUgPSB0aGlzLmluaXRJZnJhbWUoKTtcbiAgICAgICAgY29uc3QgYXJncyA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICBjb25zdCBvcmlnaW4gPSBuZXcgVVJMKHRoaXMub3B0aW9ucy53aWRnZXQpLm9yaWdpbjtcbiAgICAgICAgKF9hID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wb3N0TWVzc2FnZShhcmdzLCBvcmlnaW4pO1xuICAgIH1cbiAgICBvbkFwcHJvdmluZygpIHtcbiAgICAgICAgdGhpcy5wb3N0TWVzc2FnZSh7IHR5cGU6IFwiYXBwcm92aW5nXCIgfSk7XG4gICAgfVxuICAgIG9uU3VjY2VzcyhyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcXVlc3QpO1xuICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHsgdHlwZTogXCJyZXN1bHRcIiwgcGF5bG9hZDogeyByZXF1ZXN0IH0gfSk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gICAgb25GYWlsZWQocmVxdWVzdCkge1xuICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHsgdHlwZTogXCJyZXN1bHRcIiwgcGF5bG9hZDogeyByZXF1ZXN0IH0gfSk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLm1lc3NhZ2VIYW5kbGVyKSB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5tZXNzYWdlSGFuZGxlcik7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VIYW5kbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChXaWRnZXRTdHJhdGVneS5jb25uZWN0b3IpIHtcbiAgICAgICAgICAgIFdpZGdldFN0cmF0ZWd5LmNvbm5lY3Rvci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLldpZGdldFN0cmF0ZWd5ID0gV2lkZ2V0U3RyYXRlZ3k7XG5XaWRnZXRTdHJhdGVneS5pc0xvYWRlZCA9IGZhbHNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2lkZ2V0U3RyYXRlZ3kuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/WidgetStrategy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/WindowStrategy.js":
/*!****************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/WindowStrategy.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WindowStrategy = void 0;\nclass WindowStrategy {\n    constructor(endpoint = \"https://my.herewallet.app\") {\n        this.endpoint = endpoint;\n        this.signWindow = null;\n        this.onFailed = () => this.close();\n        this.onSuccess = () => this.close();\n    }\n    onInitialized() {\n        if (this.signWindow)\n            return;\n        const left = window.innerWidth / 2 - 420 / 2;\n        const top = window.innerHeight / 2 - 700 / 2;\n        this.signWindow = window.open(`${this.endpoint}/loading`, \"_blank\", `popup=1,width=420,height=700,top=${top},left=${left}`);\n    }\n    onRequested(id, request, reject) {\n        if (this.signWindow == null)\n            return;\n        this.unloadHandler = () => { var _a; return (_a = this.signWindow) === null || _a === void 0 ? void 0 : _a.close(); };\n        window.addEventListener(\"beforeunload\", this.unloadHandler);\n        this.signWindow.location = `${this.endpoint}/request/${id}`;\n        this.timerHandler = setInterval(() => {\n            var _a;\n            if ((_a = this.signWindow) === null || _a === void 0 ? void 0 : _a.closed)\n                reject(\"CLOSED\");\n        }, 1000);\n    }\n    close() {\n        var _a;\n        clearInterval(this.timerHandler);\n        (_a = this.signWindow) === null || _a === void 0 ? void 0 : _a.close();\n        this.signWindow = null;\n        if (this.unloadHandler) {\n            window.removeEventListener(\"beforeunload\", this.unloadHandler);\n        }\n    }\n}\nexports.WindowStrategy = WindowStrategy;\n//# sourceMappingURL=WindowStrategy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvV2luZG93U3RyYXRlZ3kuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxjQUFjLHlEQUF5RCxJQUFJLFFBQVEsS0FBSztBQUNqSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxRQUFRO0FBQzdDO0FBQ0Esc0NBQXNDLGNBQWMsV0FBVyxHQUFHO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXJrZXRiYXNlbWludC8uL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9XaW5kb3dTdHJhdGVneS5qcz9kZmY1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XaW5kb3dTdHJhdGVneSA9IHZvaWQgMDtcbmNsYXNzIFdpbmRvd1N0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3RvcihlbmRwb2ludCA9IFwiaHR0cHM6Ly9teS5oZXJld2FsbGV0LmFwcFwiKSB7XG4gICAgICAgIHRoaXMuZW5kcG9pbnQgPSBlbmRwb2ludDtcbiAgICAgICAgdGhpcy5zaWduV2luZG93ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkZhaWxlZCA9ICgpID0+IHRoaXMuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5vblN1Y2Nlc3MgPSAoKSA9PiB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICAgIG9uSW5pdGlhbGl6ZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLnNpZ25XaW5kb3cpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGxlZnQgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgLSA0MjAgLyAyO1xuICAgICAgICBjb25zdCB0b3AgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyIC0gNzAwIC8gMjtcbiAgICAgICAgdGhpcy5zaWduV2luZG93ID0gd2luZG93Lm9wZW4oYCR7dGhpcy5lbmRwb2ludH0vbG9hZGluZ2AsIFwiX2JsYW5rXCIsIGBwb3B1cD0xLHdpZHRoPTQyMCxoZWlnaHQ9NzAwLHRvcD0ke3RvcH0sbGVmdD0ke2xlZnR9YCk7XG4gICAgfVxuICAgIG9uUmVxdWVzdGVkKGlkLCByZXF1ZXN0LCByZWplY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuc2lnbldpbmRvdyA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnVubG9hZEhhbmRsZXIgPSAoKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHRoaXMuc2lnbldpbmRvdykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3NlKCk7IH07XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIHRoaXMudW5sb2FkSGFuZGxlcik7XG4gICAgICAgIHRoaXMuc2lnbldpbmRvdy5sb2NhdGlvbiA9IGAke3RoaXMuZW5kcG9pbnR9L3JlcXVlc3QvJHtpZH1gO1xuICAgICAgICB0aGlzLnRpbWVySGFuZGxlciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmICgoX2EgPSB0aGlzLnNpZ25XaW5kb3cpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZWQpXG4gICAgICAgICAgICAgICAgcmVqZWN0KFwiQ0xPU0VEXCIpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVySGFuZGxlcik7XG4gICAgICAgIChfYSA9IHRoaXMuc2lnbldpbmRvdykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuc2lnbldpbmRvdyA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLnVubG9hZEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIHRoaXMudW5sb2FkSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLldpbmRvd1N0cmF0ZWd5ID0gV2luZG93U3RyYXRlZ3k7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XaW5kb3dTdHJhdGVneS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/WindowStrategy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/actions/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/actions/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createAction = exports.parseArgs = void 0;\nconst bn_js_1 = __webpack_require__(/*! bn.js */ \"(ssr)/./node_modules/bn.js/lib/bn.js\");\nconst near_api_js_1 = __webpack_require__(/*! near-api-js */ \"(ssr)/./node_modules/near-api-js/lib/index.js\");\nconst getAccessKey = (permission) => {\n    if (permission === \"FullAccess\") {\n        return near_api_js_1.transactions.fullAccessKey();\n    }\n    const { receiverId, methodNames = [] } = permission;\n    const allowance = permission.allowance ? new bn_js_1.BN(permission.allowance) : undefined;\n    return near_api_js_1.transactions.functionCallAccessKey(receiverId, methodNames, allowance);\n};\nconst parseArgs = (data) => {\n    if (typeof data === \"string\")\n        return Buffer.from(data, \"base64\");\n    return data;\n};\nexports.parseArgs = parseArgs;\nconst createAction = (action) => {\n    switch (action.type) {\n        case \"CreateAccount\":\n            return near_api_js_1.transactions.createAccount();\n        case \"DeployContract\": {\n            const { code } = action.params;\n            return near_api_js_1.transactions.deployContract(code);\n        }\n        case \"FunctionCall\": {\n            const { methodName, args, gas, deposit } = action.params;\n            return near_api_js_1.transactions.functionCall(methodName, (0, exports.parseArgs)(args), new bn_js_1.BN(gas), new bn_js_1.BN(deposit));\n        }\n        case \"Transfer\": {\n            const { deposit } = action.params;\n            return near_api_js_1.transactions.transfer(new bn_js_1.BN(deposit));\n        }\n        case \"Stake\": {\n            const { stake, publicKey } = action.params;\n            return near_api_js_1.transactions.stake(new bn_js_1.BN(stake), near_api_js_1.utils.PublicKey.from(publicKey));\n        }\n        case \"AddKey\": {\n            const { publicKey, accessKey } = action.params;\n            return near_api_js_1.transactions.addKey(near_api_js_1.utils.PublicKey.from(publicKey), // TODO: Use accessKey.nonce? near-api-js seems to think 0 is fine?\n            getAccessKey(accessKey.permission));\n        }\n        case \"DeleteKey\": {\n            const { publicKey } = action.params;\n            return near_api_js_1.transactions.deleteKey(near_api_js_1.utils.PublicKey.from(publicKey));\n        }\n        case \"DeleteAccount\": {\n            const { beneficiaryId } = action.params;\n            return near_api_js_1.transactions.deleteAccount(beneficiaryId);\n        }\n        default:\n            throw new Error(\"Invalid action type\");\n    }\n};\nexports.createAction = createAction;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvYWN0aW9ucy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0IsR0FBRyxpQkFBaUI7QUFDeEMsZ0JBQWdCLG1CQUFPLENBQUMsbURBQU87QUFDL0Isc0JBQXNCLG1CQUFPLENBQUMsa0VBQWE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtCQUErQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUNBQWlDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFya2V0YmFzZW1pbnQvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvYWN0aW9ucy9pbmRleC5qcz9jNGUxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVBY3Rpb24gPSBleHBvcnRzLnBhcnNlQXJncyA9IHZvaWQgMDtcbmNvbnN0IGJuX2pzXzEgPSByZXF1aXJlKFwiYm4uanNcIik7XG5jb25zdCBuZWFyX2FwaV9qc18xID0gcmVxdWlyZShcIm5lYXItYXBpLWpzXCIpO1xuY29uc3QgZ2V0QWNjZXNzS2V5ID0gKHBlcm1pc3Npb24pID0+IHtcbiAgICBpZiAocGVybWlzc2lvbiA9PT0gXCJGdWxsQWNjZXNzXCIpIHtcbiAgICAgICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLmZ1bGxBY2Nlc3NLZXkoKTtcbiAgICB9XG4gICAgY29uc3QgeyByZWNlaXZlcklkLCBtZXRob2ROYW1lcyA9IFtdIH0gPSBwZXJtaXNzaW9uO1xuICAgIGNvbnN0IGFsbG93YW5jZSA9IHBlcm1pc3Npb24uYWxsb3dhbmNlID8gbmV3IGJuX2pzXzEuQk4ocGVybWlzc2lvbi5hbGxvd2FuY2UpIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy5mdW5jdGlvbkNhbGxBY2Nlc3NLZXkocmVjZWl2ZXJJZCwgbWV0aG9kTmFtZXMsIGFsbG93YW5jZSk7XG59O1xuY29uc3QgcGFyc2VBcmdzID0gKGRhdGEpID0+IHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBCdWZmZXIuZnJvbShkYXRhLCBcImJhc2U2NFwiKTtcbiAgICByZXR1cm4gZGF0YTtcbn07XG5leHBvcnRzLnBhcnNlQXJncyA9IHBhcnNlQXJncztcbmNvbnN0IGNyZWF0ZUFjdGlvbiA9IChhY3Rpb24pID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJDcmVhdGVBY2NvdW50XCI6XG4gICAgICAgICAgICByZXR1cm4gbmVhcl9hcGlfanNfMS50cmFuc2FjdGlvbnMuY3JlYXRlQWNjb3VudCgpO1xuICAgICAgICBjYXNlIFwiRGVwbG95Q29udHJhY3RcIjoge1xuICAgICAgICAgICAgY29uc3QgeyBjb2RlIH0gPSBhY3Rpb24ucGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLmRlcGxveUNvbnRyYWN0KGNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJGdW5jdGlvbkNhbGxcIjoge1xuICAgICAgICAgICAgY29uc3QgeyBtZXRob2ROYW1lLCBhcmdzLCBnYXMsIGRlcG9zaXQgfSA9IGFjdGlvbi5wYXJhbXM7XG4gICAgICAgICAgICByZXR1cm4gbmVhcl9hcGlfanNfMS50cmFuc2FjdGlvbnMuZnVuY3Rpb25DYWxsKG1ldGhvZE5hbWUsICgwLCBleHBvcnRzLnBhcnNlQXJncykoYXJncyksIG5ldyBibl9qc18xLkJOKGdhcyksIG5ldyBibl9qc18xLkJOKGRlcG9zaXQpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiVHJhbnNmZXJcIjoge1xuICAgICAgICAgICAgY29uc3QgeyBkZXBvc2l0IH0gPSBhY3Rpb24ucGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLnRyYW5zZmVyKG5ldyBibl9qc18xLkJOKGRlcG9zaXQpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiU3Rha2VcIjoge1xuICAgICAgICAgICAgY29uc3QgeyBzdGFrZSwgcHVibGljS2V5IH0gPSBhY3Rpb24ucGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLnN0YWtlKG5ldyBibl9qc18xLkJOKHN0YWtlKSwgbmVhcl9hcGlfanNfMS51dGlscy5QdWJsaWNLZXkuZnJvbShwdWJsaWNLZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiQWRkS2V5XCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgcHVibGljS2V5LCBhY2Nlc3NLZXkgfSA9IGFjdGlvbi5wYXJhbXM7XG4gICAgICAgICAgICByZXR1cm4gbmVhcl9hcGlfanNfMS50cmFuc2FjdGlvbnMuYWRkS2V5KG5lYXJfYXBpX2pzXzEudXRpbHMuUHVibGljS2V5LmZyb20ocHVibGljS2V5KSwgLy8gVE9ETzogVXNlIGFjY2Vzc0tleS5ub25jZT8gbmVhci1hcGktanMgc2VlbXMgdG8gdGhpbmsgMCBpcyBmaW5lP1xuICAgICAgICAgICAgZ2V0QWNjZXNzS2V5KGFjY2Vzc0tleS5wZXJtaXNzaW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIkRlbGV0ZUtleVwiOiB7XG4gICAgICAgICAgICBjb25zdCB7IHB1YmxpY0tleSB9ID0gYWN0aW9uLnBhcmFtcztcbiAgICAgICAgICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy5kZWxldGVLZXkobmVhcl9hcGlfanNfMS51dGlscy5QdWJsaWNLZXkuZnJvbShwdWJsaWNLZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiRGVsZXRlQWNjb3VudFwiOiB7XG4gICAgICAgICAgICBjb25zdCB7IGJlbmVmaWNpYXJ5SWQgfSA9IGFjdGlvbi5wYXJhbXM7XG4gICAgICAgICAgICByZXR1cm4gbmVhcl9hcGlfanNfMS50cmFuc2FjdGlvbnMuZGVsZXRlQWNjb3VudChiZW5lZmljaWFyeUlkKTtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhY3Rpb24gdHlwZVwiKTtcbiAgICB9XG59O1xuZXhwb3J0cy5jcmVhdGVBY3Rpb24gPSBjcmVhdGVBY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/actions/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/actions/types.js":
/*!***************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/actions/types.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvYWN0aW9ucy90eXBlcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCIsInNvdXJjZXMiOlsid2VicGFjazovL21hcmtldGJhc2VtaW50Ly4vbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2FjdGlvbnMvdHlwZXMuanM/ODI5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/actions/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/here-provider/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/here-provider/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.proxyProvider = exports.getRequest = exports.proxyApi = exports.deleteRequest = exports.getResponse = exports.createRequest = void 0;\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(ssr)/./node_modules/@here-wallet/core/build/utils.js\");\nconst provider_1 = __webpack_require__(/*! ../provider */ \"(ssr)/./node_modules/@here-wallet/core/build/provider.js\");\nconst methods_1 = __webpack_require__(/*! ./methods */ \"(ssr)/./node_modules/@here-wallet/core/build/here-provider/methods.js\");\nObject.defineProperty(exports, \"createRequest\", ({ enumerable: true, get: function () { return methods_1.createRequest; } }));\nObject.defineProperty(exports, \"getResponse\", ({ enumerable: true, get: function () { return methods_1.getResponse; } }));\nObject.defineProperty(exports, \"deleteRequest\", ({ enumerable: true, get: function () { return methods_1.deleteRequest; } }));\nObject.defineProperty(exports, \"proxyApi\", ({ enumerable: true, get: function () { return methods_1.proxyApi; } }));\nObject.defineProperty(exports, \"getRequest\", ({ enumerable: true, get: function () { return methods_1.getRequest; } }));\nconst proxyProvider = (conf) => __awaiter(void 0, void 0, void 0, function* () {\n    let { strategy, request, disableCleanupRequest, id, signal } = conf, delegate = __rest(conf, [\"strategy\", \"request\", \"disableCleanupRequest\", \"id\", \"signal\"]);\n    if (id != null)\n        request = yield (0, methods_1.getRequest)(id, signal);\n    else\n        id = yield (0, methods_1.createRequest)(request, signal);\n    return new Promise((resolve, reject) => {\n        var _a, _b;\n        const socketApi = methods_1.proxyApi.replace(\"https\", \"wss\");\n        let fallbackHttpTimer = null;\n        let socket = null;\n        const clear = () => __awaiter(void 0, void 0, void 0, function* () {\n            fallbackHttpTimer = -1;\n            clearInterval(fallbackHttpTimer);\n            socket === null || socket === void 0 ? void 0 : socket.close();\n            if (disableCleanupRequest !== true) {\n                yield (0, methods_1.deleteRequest)(id);\n            }\n        });\n        const processApprove = (data) => {\n            var _a, _b, _c, _d, _e, _f;\n            switch (data.status) {\n                case provider_1.HereProviderStatus.APPROVING:\n                    (_a = delegate.onApproving) === null || _a === void 0 ? void 0 : _a.call(delegate, data);\n                    (_b = strategy === null || strategy === void 0 ? void 0 : strategy.onApproving) === null || _b === void 0 ? void 0 : _b.call(strategy, data);\n                    return;\n                case provider_1.HereProviderStatus.FAILED:\n                    clear();\n                    reject(new provider_1.HereProviderError(data.payload));\n                    (_c = delegate.onFailed) === null || _c === void 0 ? void 0 : _c.call(delegate, data);\n                    (_d = strategy === null || strategy === void 0 ? void 0 : strategy.onFailed) === null || _d === void 0 ? void 0 : _d.call(strategy, data);\n                    return;\n                case provider_1.HereProviderStatus.SUCCESS:\n                    clear();\n                    resolve(data);\n                    (_e = delegate.onSuccess) === null || _e === void 0 ? void 0 : _e.call(delegate, data);\n                    (_f = strategy === null || strategy === void 0 ? void 0 : strategy.onSuccess) === null || _f === void 0 ? void 0 : _f.call(strategy, data);\n                    return;\n            }\n        };\n        const rejectAction = (payload) => {\n            processApprove({ status: provider_1.HereProviderStatus.FAILED, payload });\n        };\n        (_a = delegate.onRequested) === null || _a === void 0 ? void 0 : _a.call(delegate, id, request, rejectAction);\n        (_b = strategy === null || strategy === void 0 ? void 0 : strategy.onRequested) === null || _b === void 0 ? void 0 : _b.call(strategy, id, request, rejectAction);\n        signal === null || signal === void 0 ? void 0 : signal.addEventListener(\"abort\", () => rejectAction());\n        const setupTimer = () => {\n            if (fallbackHttpTimer === -1) {\n                return;\n            }\n            fallbackHttpTimer = setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {\n                var _a, _b;\n                try {\n                    const data = yield (0, methods_1.getResponse)(id);\n                    if (fallbackHttpTimer === -1)\n                        return;\n                    processApprove(data);\n                    setupTimer();\n                }\n                catch (e) {\n                    const status = provider_1.HereProviderStatus.FAILED;\n                    const error = e instanceof Error ? e : undefined;\n                    const payload = error === null || error === void 0 ? void 0 : error.message;\n                    clear();\n                    reject(new provider_1.HereProviderError(payload, error));\n                    (_a = delegate.onFailed) === null || _a === void 0 ? void 0 : _a.call(delegate, { status, payload });\n                    (_b = strategy === null || strategy === void 0 ? void 0 : strategy.onFailed) === null || _b === void 0 ? void 0 : _b.call(strategy, { status, payload });\n                }\n            }), 3000);\n        };\n        setupTimer();\n        // Mobile flow doesn't support cross tabs socket background process\n        if ((0, utils_1.isMobile)() === false) {\n            const endpoint = `${socketApi}/ws/${id}`;\n            socket = new WebSocket(endpoint);\n            socket.onmessage = (e) => {\n                if (e.data == null)\n                    return;\n                try {\n                    const data = JSON.parse(e.data);\n                    processApprove(data);\n                }\n                catch (_a) {\n                    // nope\n                }\n            };\n        }\n    });\n});\nexports.proxyProvider = proxyProvider;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvaGVyZS1wcm92aWRlci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGNBQWM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUIsR0FBRyxrQkFBa0IsR0FBRyxnQkFBZ0IsR0FBRyxxQkFBcUIsR0FBRyxtQkFBbUIsR0FBRyxxQkFBcUI7QUFDbkksZ0JBQWdCLG1CQUFPLENBQUMsdUVBQVU7QUFDbEMsbUJBQW1CLG1CQUFPLENBQUMsNkVBQWE7QUFDeEMsa0JBQWtCLG1CQUFPLENBQUMsd0ZBQVc7QUFDckMsaURBQWdELEVBQUUscUNBQXFDLG1DQUFtQyxFQUFDO0FBQzNILCtDQUE4QyxFQUFFLHFDQUFxQyxpQ0FBaUMsRUFBQztBQUN2SCxpREFBZ0QsRUFBRSxxQ0FBcUMsbUNBQW1DLEVBQUM7QUFDM0gsNENBQTJDLEVBQUUscUNBQXFDLDhCQUE4QixFQUFDO0FBQ2pILDhDQUE2QyxFQUFFLHFDQUFxQyxnQ0FBZ0MsRUFBQztBQUNySDtBQUNBLFVBQVUsdURBQXVEO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0dBQXNHLGlCQUFpQjtBQUN2SCwwSkFBMEosaUJBQWlCO0FBQzNLO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFVBQVUsTUFBTSxHQUFHO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRCxxQkFBcUI7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXJrZXRiYXNlbWludC8uL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9oZXJlLXByb3ZpZGVyL2luZGV4LmpzP2MwOWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucHJveHlQcm92aWRlciA9IGV4cG9ydHMuZ2V0UmVxdWVzdCA9IGV4cG9ydHMucHJveHlBcGkgPSBleHBvcnRzLmRlbGV0ZVJlcXVlc3QgPSBleHBvcnRzLmdldFJlc3BvbnNlID0gZXhwb3J0cy5jcmVhdGVSZXF1ZXN0ID0gdm9pZCAwO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcbmNvbnN0IHByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi4vcHJvdmlkZXJcIik7XG5jb25zdCBtZXRob2RzXzEgPSByZXF1aXJlKFwiLi9tZXRob2RzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlUmVxdWVzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWV0aG9kc18xLmNyZWF0ZVJlcXVlc3Q7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRSZXNwb25zZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWV0aG9kc18xLmdldFJlc3BvbnNlOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZGVsZXRlUmVxdWVzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWV0aG9kc18xLmRlbGV0ZVJlcXVlc3Q7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwcm94eUFwaVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWV0aG9kc18xLnByb3h5QXBpOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0UmVxdWVzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWV0aG9kc18xLmdldFJlcXVlc3Q7IH0gfSk7XG5jb25zdCBwcm94eVByb3ZpZGVyID0gKGNvbmYpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGxldCB7IHN0cmF0ZWd5LCByZXF1ZXN0LCBkaXNhYmxlQ2xlYW51cFJlcXVlc3QsIGlkLCBzaWduYWwgfSA9IGNvbmYsIGRlbGVnYXRlID0gX19yZXN0KGNvbmYsIFtcInN0cmF0ZWd5XCIsIFwicmVxdWVzdFwiLCBcImRpc2FibGVDbGVhbnVwUmVxdWVzdFwiLCBcImlkXCIsIFwic2lnbmFsXCJdKTtcbiAgICBpZiAoaWQgIT0gbnVsbClcbiAgICAgICAgcmVxdWVzdCA9IHlpZWxkICgwLCBtZXRob2RzXzEuZ2V0UmVxdWVzdCkoaWQsIHNpZ25hbCk7XG4gICAgZWxzZVxuICAgICAgICBpZCA9IHlpZWxkICgwLCBtZXRob2RzXzEuY3JlYXRlUmVxdWVzdCkocmVxdWVzdCwgc2lnbmFsKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBzb2NrZXRBcGkgPSBtZXRob2RzXzEucHJveHlBcGkucmVwbGFjZShcImh0dHBzXCIsIFwid3NzXCIpO1xuICAgICAgICBsZXQgZmFsbGJhY2tIdHRwVGltZXIgPSBudWxsO1xuICAgICAgICBsZXQgc29ja2V0ID0gbnVsbDtcbiAgICAgICAgY29uc3QgY2xlYXIgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGZhbGxiYWNrSHR0cFRpbWVyID0gLTE7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGZhbGxiYWNrSHR0cFRpbWVyKTtcbiAgICAgICAgICAgIHNvY2tldCA9PT0gbnVsbCB8fCBzb2NrZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgaWYgKGRpc2FibGVDbGVhbnVwUmVxdWVzdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHlpZWxkICgwLCBtZXRob2RzXzEuZGVsZXRlUmVxdWVzdCkoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcHJvY2Vzc0FwcHJvdmUgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgICAgICBzd2l0Y2ggKGRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBwcm92aWRlcl8xLkhlcmVQcm92aWRlclN0YXR1cy5BUFBST1ZJTkc6XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGRlbGVnYXRlLm9uQXBwcm92aW5nKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChkZWxlZ2F0ZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIChfYiA9IHN0cmF0ZWd5ID09PSBudWxsIHx8IHN0cmF0ZWd5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHJhdGVneS5vbkFwcHJvdmluZykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoc3RyYXRlZ3ksIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY2FzZSBwcm92aWRlcl8xLkhlcmVQcm92aWRlclN0YXR1cy5GQUlMRUQ6XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJFcnJvcihkYXRhLnBheWxvYWQpKTtcbiAgICAgICAgICAgICAgICAgICAgKF9jID0gZGVsZWdhdGUub25GYWlsZWQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKGRlbGVnYXRlLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgKF9kID0gc3RyYXRlZ3kgPT09IG51bGwgfHwgc3RyYXRlZ3kgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0cmF0ZWd5Lm9uRmFpbGVkKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbChzdHJhdGVneSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYXNlIHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyU3RhdHVzLlNVQ0NFU1M6XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIChfZSA9IGRlbGVnYXRlLm9uU3VjY2VzcykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmNhbGwoZGVsZWdhdGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAoX2YgPSBzdHJhdGVneSA9PT0gbnVsbCB8fCBzdHJhdGVneSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RyYXRlZ3kub25TdWNjZXNzKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY2FsbChzdHJhdGVneSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVqZWN0QWN0aW9uID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIHByb2Nlc3NBcHByb3ZlKHsgc3RhdHVzOiBwcm92aWRlcl8xLkhlcmVQcm92aWRlclN0YXR1cy5GQUlMRUQsIHBheWxvYWQgfSk7XG4gICAgICAgIH07XG4gICAgICAgIChfYSA9IGRlbGVnYXRlLm9uUmVxdWVzdGVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChkZWxlZ2F0ZSwgaWQsIHJlcXVlc3QsIHJlamVjdEFjdGlvbik7XG4gICAgICAgIChfYiA9IHN0cmF0ZWd5ID09PSBudWxsIHx8IHN0cmF0ZWd5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHJhdGVneS5vblJlcXVlc3RlZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoc3RyYXRlZ3ksIGlkLCByZXF1ZXN0LCByZWplY3RBY3Rpb24pO1xuICAgICAgICBzaWduYWwgPT09IG51bGwgfHwgc2lnbmFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHJlamVjdEFjdGlvbigpKTtcbiAgICAgICAgY29uc3Qgc2V0dXBUaW1lciA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChmYWxsYmFja0h0dHBUaW1lciA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmYWxsYmFja0h0dHBUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgKDAsIG1ldGhvZHNfMS5nZXRSZXNwb25zZSkoaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmFsbGJhY2tIdHRwVGltZXIgPT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQXBwcm92ZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0dXBUaW1lcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBwcm92aWRlcl8xLkhlcmVQcm92aWRlclN0YXR1cy5GQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZSBpbnN0YW5jZW9mIEVycm9yID8gZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGVycm9yID09PSBudWxsIHx8IGVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICBjbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyRXJyb3IocGF5bG9hZCwgZXJyb3IpKTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gZGVsZWdhdGUub25GYWlsZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGRlbGVnYXRlLCB7IHN0YXR1cywgcGF5bG9hZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgKF9iID0gc3RyYXRlZ3kgPT09IG51bGwgfHwgc3RyYXRlZ3kgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0cmF0ZWd5Lm9uRmFpbGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChzdHJhdGVneSwgeyBzdGF0dXMsIHBheWxvYWQgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIDMwMDApO1xuICAgICAgICB9O1xuICAgICAgICBzZXR1cFRpbWVyKCk7XG4gICAgICAgIC8vIE1vYmlsZSBmbG93IGRvZXNuJ3Qgc3VwcG9ydCBjcm9zcyB0YWJzIHNvY2tldCBiYWNrZ3JvdW5kIHByb2Nlc3NcbiAgICAgICAgaWYgKCgwLCB1dGlsc18xLmlzTW9iaWxlKSgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHtzb2NrZXRBcGl9L3dzLyR7aWR9YDtcbiAgICAgICAgICAgIHNvY2tldCA9IG5ldyBXZWJTb2NrZXQoZW5kcG9pbnQpO1xuICAgICAgICAgICAgc29ja2V0Lm9ubWVzc2FnZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUuZGF0YSA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0FwcHJvdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBub3BlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5leHBvcnRzLnByb3h5UHJvdmlkZXIgPSBwcm94eVByb3ZpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/here-provider/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/here-provider/methods.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/here-provider/methods.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createRequest = exports.deleteRequest = exports.getResponse = exports.getRequest = exports.proxyApi = void 0;\nconst sha1_1 = __importDefault(__webpack_require__(/*! sha1 */ \"(ssr)/./node_modules/sha1/sha1.js\"));\nconst uuid4_1 = __importDefault(__webpack_require__(/*! uuid4 */ \"(ssr)/./node_modules/uuid4/index.mjs\"));\nconst serialize_1 = __webpack_require__(/*! near-api-js/lib/utils/serialize */ \"(ssr)/./node_modules/near-api-js/lib/utils/serialize.js\");\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(ssr)/./node_modules/@here-wallet/core/build/utils.js\");\nexports.proxyApi = \"https://h4n.app\";\nconst getRequest = (id, signal) => __awaiter(void 0, void 0, void 0, function* () {\n    const res = yield fetch(`${exports.proxyApi}/${id}/request`, {\n        signal,\n        headers: { \"content-type\": \"application/json\" },\n        method: \"GET\",\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n    const { data } = yield res.json();\n    return JSON.parse((0, serialize_1.base_decode)(data).toString(\"utf8\"));\n});\nexports.getRequest = getRequest;\nconst getResponse = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    var _a, _b, _c, _d;\n    const res = yield fetch(`${exports.proxyApi}/${id}/response`, {\n        headers: { \"content-type\": \"application/json\" },\n        method: \"GET\",\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n    const { data } = yield res.json();\n    const result = (_a = JSON.parse(data)) !== null && _a !== void 0 ? _a : {};\n    return {\n        account_id: (_b = result.account_id) !== null && _b !== void 0 ? _b : \"\",\n        payload: (_c = result.payload) !== null && _c !== void 0 ? _c : \"\",\n        status: (_d = result.status) !== null && _d !== void 0 ? _d : -1,\n        topic: result.topic,\n    };\n});\nexports.getResponse = getResponse;\nconst deleteRequest = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    const res = yield fetch(`${exports.proxyApi}/${id}`, {\n        headers: { \"content-type\": \"application/json\" },\n        method: \"DELETE\",\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n});\nexports.deleteRequest = deleteRequest;\nconst createRequest = (request, signal) => __awaiter(void 0, void 0, void 0, function* () {\n    const query = (0, serialize_1.base_encode)(JSON.stringify(Object.assign(Object.assign({}, request), { _id: (0, uuid4_1.default)() })));\n    const hashsum = (0, sha1_1.default)(query);\n    const id = Buffer.from(hashsum, \"hex\").toString(\"base64\");\n    const urlsafe = id.replaceAll(\"/\", \"_\").replaceAll(\"-\", \"+\").slice(0, 13);\n    const res = yield fetch(`${exports.proxyApi}/${urlsafe}/request`, {\n        method: \"POST\",\n        signal,\n        body: JSON.stringify({\n            topic_id: (0, utils_1.getDeviceId)(),\n            data: query,\n        }),\n        headers: {\n            \"content-type\": \"application/json\",\n        },\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n    return urlsafe;\n});\nexports.createRequest = createRequest;\n//# sourceMappingURL=methods.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvaGVyZS1wcm92aWRlci9tZXRob2RzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQixHQUFHLHFCQUFxQixHQUFHLG1CQUFtQixHQUFHLGtCQUFrQixHQUFHLGdCQUFnQjtBQUMzRywrQkFBK0IsbUJBQU8sQ0FBQywrQ0FBTTtBQUM3QyxnQ0FBZ0MsbUJBQU8sQ0FBQyxtREFBTztBQUMvQyxvQkFBb0IsbUJBQU8sQ0FBQyxnR0FBaUM7QUFDN0QsZ0JBQWdCLG1CQUFPLENBQUMsdUVBQVU7QUFDbEMsZ0JBQWdCO0FBQ2hCO0FBQ0EsK0JBQStCLGlCQUFpQixHQUFHLEdBQUc7QUFDdEQ7QUFDQSxtQkFBbUIsb0NBQW9DO0FBQ3ZEO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBLENBQUM7QUFDRCxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLCtCQUErQixpQkFBaUIsR0FBRyxHQUFHO0FBQ3RELG1CQUFtQixvQ0FBb0M7QUFDdkQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELG1CQUFtQjtBQUNuQjtBQUNBLCtCQUErQixpQkFBaUIsR0FBRyxHQUFHO0FBQ3RELG1CQUFtQixvQ0FBb0M7QUFDdkQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHFCQUFxQjtBQUNyQjtBQUNBLDRGQUE0RixjQUFjLDZCQUE2QjtBQUN2STtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaUJBQWlCLEdBQUcsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHFCQUFxQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL21hcmtldGJhc2VtaW50Ly4vbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2hlcmUtcHJvdmlkZXIvbWV0aG9kcy5qcz8wOGE3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZVJlcXVlc3QgPSBleHBvcnRzLmRlbGV0ZVJlcXVlc3QgPSBleHBvcnRzLmdldFJlc3BvbnNlID0gZXhwb3J0cy5nZXRSZXF1ZXN0ID0gZXhwb3J0cy5wcm94eUFwaSA9IHZvaWQgMDtcbmNvbnN0IHNoYTFfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwic2hhMVwiKSk7XG5jb25zdCB1dWlkNF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJ1dWlkNFwiKSk7XG5jb25zdCBzZXJpYWxpemVfMSA9IHJlcXVpcmUoXCJuZWFyLWFwaS1qcy9saWIvdXRpbHMvc2VyaWFsaXplXCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcbmV4cG9ydHMucHJveHlBcGkgPSBcImh0dHBzOi8vaDRuLmFwcFwiO1xuY29uc3QgZ2V0UmVxdWVzdCA9IChpZCwgc2lnbmFsKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCByZXMgPSB5aWVsZCBmZXRjaChgJHtleHBvcnRzLnByb3h5QXBpfS8ke2lkfS9yZXF1ZXN0YCwge1xuICAgICAgICBzaWduYWwsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIH0pO1xuICAgIGlmIChyZXMub2sgPT09IGZhbHNlKSB7XG4gICAgICAgIHRocm93IEVycm9yKHlpZWxkIHJlcy50ZXh0KCkpO1xuICAgIH1cbiAgICBjb25zdCB7IGRhdGEgfSA9IHlpZWxkIHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoKDAsIHNlcmlhbGl6ZV8xLmJhc2VfZGVjb2RlKShkYXRhKS50b1N0cmluZyhcInV0ZjhcIikpO1xufSk7XG5leHBvcnRzLmdldFJlcXVlc3QgPSBnZXRSZXF1ZXN0O1xuY29uc3QgZ2V0UmVzcG9uc2UgPSAoaWQpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjb25zdCByZXMgPSB5aWVsZCBmZXRjaChgJHtleHBvcnRzLnByb3h5QXBpfS8ke2lkfS9yZXNwb25zZWAsIHtcbiAgICAgICAgaGVhZGVyczogeyBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgfSk7XG4gICAgaWYgKHJlcy5vayA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoeWllbGQgcmVzLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IHsgZGF0YSB9ID0geWllbGQgcmVzLmpzb24oKTtcbiAgICBjb25zdCByZXN1bHQgPSAoX2EgPSBKU09OLnBhcnNlKGRhdGEpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhY2NvdW50X2lkOiAoX2IgPSByZXN1bHQuYWNjb3VudF9pZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogXCJcIixcbiAgICAgICAgcGF5bG9hZDogKF9jID0gcmVzdWx0LnBheWxvYWQpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFwiXCIsXG4gICAgICAgIHN0YXR1czogKF9kID0gcmVzdWx0LnN0YXR1cykgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogLTEsXG4gICAgICAgIHRvcGljOiByZXN1bHQudG9waWMsXG4gICAgfTtcbn0pO1xuZXhwb3J0cy5nZXRSZXNwb25zZSA9IGdldFJlc3BvbnNlO1xuY29uc3QgZGVsZXRlUmVxdWVzdCA9IChpZCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgcmVzID0geWllbGQgZmV0Y2goYCR7ZXhwb3J0cy5wcm94eUFwaX0vJHtpZH1gLCB7XG4gICAgICAgIGhlYWRlcnM6IHsgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgIH0pO1xuICAgIGlmIChyZXMub2sgPT09IGZhbHNlKSB7XG4gICAgICAgIHRocm93IEVycm9yKHlpZWxkIHJlcy50ZXh0KCkpO1xuICAgIH1cbn0pO1xuZXhwb3J0cy5kZWxldGVSZXF1ZXN0ID0gZGVsZXRlUmVxdWVzdDtcbmNvbnN0IGNyZWF0ZVJlcXVlc3QgPSAocmVxdWVzdCwgc2lnbmFsKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBxdWVyeSA9ICgwLCBzZXJpYWxpemVfMS5iYXNlX2VuY29kZSkoSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXF1ZXN0KSwgeyBfaWQ6ICgwLCB1dWlkNF8xLmRlZmF1bHQpKCkgfSkpKTtcbiAgICBjb25zdCBoYXNoc3VtID0gKDAsIHNoYTFfMS5kZWZhdWx0KShxdWVyeSk7XG4gICAgY29uc3QgaWQgPSBCdWZmZXIuZnJvbShoYXNoc3VtLCBcImhleFwiKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICBjb25zdCB1cmxzYWZlID0gaWQucmVwbGFjZUFsbChcIi9cIiwgXCJfXCIpLnJlcGxhY2VBbGwoXCItXCIsIFwiK1wiKS5zbGljZSgwLCAxMyk7XG4gICAgY29uc3QgcmVzID0geWllbGQgZmV0Y2goYCR7ZXhwb3J0cy5wcm94eUFwaX0vJHt1cmxzYWZlfS9yZXF1ZXN0YCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBzaWduYWwsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHRvcGljX2lkOiAoMCwgdXRpbHNfMS5nZXREZXZpY2VJZCkoKSxcbiAgICAgICAgICAgIGRhdGE6IHF1ZXJ5LFxuICAgICAgICB9KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgaWYgKHJlcy5vayA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoeWllbGQgcmVzLnRleHQoKSk7XG4gICAgfVxuICAgIHJldHVybiB1cmxzYWZlO1xufSk7XG5leHBvcnRzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWV0aG9kcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/here-provider/methods.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/index.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereWallet = void 0;\nvar wallet_1 = __webpack_require__(/*! ./wallet */ \"(ssr)/./node_modules/@here-wallet/core/build/wallet.js\");\nObject.defineProperty(exports, \"HereWallet\", ({ enumerable: true, get: function () { return wallet_1.HereWallet; } }));\n__exportStar(__webpack_require__(/*! ./actions */ \"(ssr)/./node_modules/@here-wallet/core/build/actions/index.js\"), exports);\n__exportStar(__webpack_require__(/*! ./HereKeyStore */ \"(ssr)/./node_modules/@here-wallet/core/build/HereKeyStore.js\"), exports);\n__exportStar(__webpack_require__(/*! ./JSONStorage */ \"(ssr)/./node_modules/@here-wallet/core/build/JSONStorage.js\"), exports);\n__exportStar(__webpack_require__(/*! ./actions/types */ \"(ssr)/./node_modules/@here-wallet/core/build/actions/types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./WidgetStrategy */ \"(ssr)/./node_modules/@here-wallet/core/build/WidgetStrategy.js\"), exports);\n__exportStar(__webpack_require__(/*! ./WindowStrategy */ \"(ssr)/./node_modules/@here-wallet/core/build/WindowStrategy.js\"), exports);\n__exportStar(__webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/@here-wallet/core/build/provider.js\"), exports);\n__exportStar(__webpack_require__(/*! ./types */ \"(ssr)/./node_modules/@here-wallet/core/build/types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@here-wallet/core/build/utils.js\"), exports);\n__exportStar(__webpack_require__(/*! ./here-provider */ \"(ssr)/./node_modules/@here-wallet/core/build/here-provider/index.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0EsbUNBQW1DLG9DQUFvQyxnQkFBZ0I7QUFDdkYsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQixlQUFlLG1CQUFPLENBQUMsd0VBQVU7QUFDakMsOENBQTZDLEVBQUUscUNBQXFDLCtCQUErQixFQUFDO0FBQ3BILGFBQWEsbUJBQU8sQ0FBQyxnRkFBVztBQUNoQyxhQUFhLG1CQUFPLENBQUMsb0ZBQWdCO0FBQ3JDLGFBQWEsbUJBQU8sQ0FBQyxrRkFBZTtBQUNwQyxhQUFhLG1CQUFPLENBQUMsc0ZBQWlCO0FBQ3RDLGFBQWEsbUJBQU8sQ0FBQyx3RkFBa0I7QUFDdkMsYUFBYSxtQkFBTyxDQUFDLHdGQUFrQjtBQUN2QyxhQUFhLG1CQUFPLENBQUMsNEVBQVk7QUFDakMsYUFBYSxtQkFBTyxDQUFDLHNFQUFTO0FBQzlCLGFBQWEsbUJBQU8sQ0FBQyxzRUFBUztBQUM5QixhQUFhLG1CQUFPLENBQUMsNEZBQWlCO0FBQ3RDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFya2V0YmFzZW1pbnQvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvaW5kZXguanM/MDY5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IZXJlV2FsbGV0ID0gdm9pZCAwO1xudmFyIHdhbGxldF8xID0gcmVxdWlyZShcIi4vd2FsbGV0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiSGVyZVdhbGxldFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gd2FsbGV0XzEuSGVyZVdhbGxldDsgfSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9hY3Rpb25zXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9IZXJlS2V5U3RvcmVcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0pTT05TdG9yYWdlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9hY3Rpb25zL3R5cGVzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9XaWRnZXRTdHJhdGVneVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vV2luZG93U3RyYXRlZ3lcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3Byb3ZpZGVyXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi90eXBlc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXRpbHNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2hlcmUtcHJvdmlkZXJcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/nep0314.js":
/*!*********************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/nep0314.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.verifySignature = exports.authPayloadSchema = exports.AuthPayload = void 0;\nconst borsh = __importStar(__webpack_require__(/*! borsh */ \"(ssr)/./node_modules/borsh/lib/index.js\"));\nconst js_sha256_1 = __importDefault(__webpack_require__(/*! js-sha256 */ \"(ssr)/./node_modules/js-sha256/src/sha256.js\"));\nconst utils_1 = __webpack_require__(/*! near-api-js/lib/utils */ \"(ssr)/./node_modules/near-api-js/lib/utils/index.js\");\nclass AuthPayload {\n    constructor({ message, nonce, recipient, callbackUrl }) {\n        this.tag = 2147484061;\n        this.message = message;\n        this.nonce = nonce;\n        this.recipient = recipient;\n        if (callbackUrl) {\n            this.callbackUrl = callbackUrl;\n        }\n    }\n}\nexports.AuthPayload = AuthPayload;\nexports.authPayloadSchema = new Map([\n    [\n        AuthPayload,\n        {\n            kind: \"struct\",\n            fields: [\n                [\"tag\", \"u32\"],\n                [\"message\", \"string\"],\n                [\"nonce\", [32]],\n                [\"recipient\", \"string\"],\n                [\"callbackUrl\", { kind: \"option\", type: \"string\" }],\n            ],\n        },\n    ],\n]);\nfunction verifySignature(request, result) {\n    // Reconstruct the payload that was **actually signed**\n    const payload = new AuthPayload(request);\n    const borsh_payload = borsh.serialize(exports.authPayloadSchema, payload);\n    const to_sign = Uint8Array.from(js_sha256_1.default.sha256.array(borsh_payload));\n    // Reconstruct the signature from the parameter given in the URL\n    let real_signature = new Uint8Array(Buffer.from(result.signature, \"base64\"));\n    // Use the public Key to verify that the private-counterpart signed the message\n    const myPK = utils_1.PublicKey.from(result.publicKey);\n    return myPK.verify(to_sign, real_signature);\n}\nexports.verifySignature = verifySignature;\n//# sourceMappingURL=nep0314.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvbmVwMDMxNC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQSxtQ0FBbUMsb0NBQW9DLGdCQUFnQjtBQUN2RixDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDBDQUEwQyw0QkFBNEI7QUFDdEUsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLEdBQUcseUJBQXlCLEdBQUcsbUJBQW1CO0FBQ3pFLDJCQUEyQixtQkFBTyxDQUFDLHNEQUFPO0FBQzFDLG9DQUFvQyxtQkFBTyxDQUFDLCtEQUFXO0FBQ3ZELGdCQUFnQixtQkFBTyxDQUFDLGtGQUF1QjtBQUMvQztBQUNBLGtCQUFrQix3Q0FBd0M7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsZ0NBQWdDO0FBQ2xFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFya2V0YmFzZW1pbnQvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvbmVwMDMxNC5qcz80YmU1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnZlcmlmeVNpZ25hdHVyZSA9IGV4cG9ydHMuYXV0aFBheWxvYWRTY2hlbWEgPSBleHBvcnRzLkF1dGhQYXlsb2FkID0gdm9pZCAwO1xuY29uc3QgYm9yc2ggPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcImJvcnNoXCIpKTtcbmNvbnN0IGpzX3NoYTI1Nl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJqcy1zaGEyNTZcIikpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCJuZWFyLWFwaS1qcy9saWIvdXRpbHNcIik7XG5jbGFzcyBBdXRoUGF5bG9hZCB7XG4gICAgY29uc3RydWN0b3IoeyBtZXNzYWdlLCBub25jZSwgcmVjaXBpZW50LCBjYWxsYmFja1VybCB9KSB7XG4gICAgICAgIHRoaXMudGFnID0gMjE0NzQ4NDA2MTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgdGhpcy5ub25jZSA9IG5vbmNlO1xuICAgICAgICB0aGlzLnJlY2lwaWVudCA9IHJlY2lwaWVudDtcbiAgICAgICAgaWYgKGNhbGxiYWNrVXJsKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrVXJsID0gY2FsbGJhY2tVcmw7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkF1dGhQYXlsb2FkID0gQXV0aFBheWxvYWQ7XG5leHBvcnRzLmF1dGhQYXlsb2FkU2NoZW1hID0gbmV3IE1hcChbXG4gICAgW1xuICAgICAgICBBdXRoUGF5bG9hZCxcbiAgICAgICAge1xuICAgICAgICAgICAga2luZDogXCJzdHJ1Y3RcIixcbiAgICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgICAgIFtcInRhZ1wiLCBcInUzMlwiXSxcbiAgICAgICAgICAgICAgICBbXCJtZXNzYWdlXCIsIFwic3RyaW5nXCJdLFxuICAgICAgICAgICAgICAgIFtcIm5vbmNlXCIsIFszMl1dLFxuICAgICAgICAgICAgICAgIFtcInJlY2lwaWVudFwiLCBcInN0cmluZ1wiXSxcbiAgICAgICAgICAgICAgICBbXCJjYWxsYmFja1VybFwiLCB7IGtpbmQ6IFwib3B0aW9uXCIsIHR5cGU6IFwic3RyaW5nXCIgfV0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgIF0sXG5dKTtcbmZ1bmN0aW9uIHZlcmlmeVNpZ25hdHVyZShyZXF1ZXN0LCByZXN1bHQpIHtcbiAgICAvLyBSZWNvbnN0cnVjdCB0aGUgcGF5bG9hZCB0aGF0IHdhcyAqKmFjdHVhbGx5IHNpZ25lZCoqXG4gICAgY29uc3QgcGF5bG9hZCA9IG5ldyBBdXRoUGF5bG9hZChyZXF1ZXN0KTtcbiAgICBjb25zdCBib3JzaF9wYXlsb2FkID0gYm9yc2guc2VyaWFsaXplKGV4cG9ydHMuYXV0aFBheWxvYWRTY2hlbWEsIHBheWxvYWQpO1xuICAgIGNvbnN0IHRvX3NpZ24gPSBVaW50OEFycmF5LmZyb20oanNfc2hhMjU2XzEuZGVmYXVsdC5zaGEyNTYuYXJyYXkoYm9yc2hfcGF5bG9hZCkpO1xuICAgIC8vIFJlY29uc3RydWN0IHRoZSBzaWduYXR1cmUgZnJvbSB0aGUgcGFyYW1ldGVyIGdpdmVuIGluIHRoZSBVUkxcbiAgICBsZXQgcmVhbF9zaWduYXR1cmUgPSBuZXcgVWludDhBcnJheShCdWZmZXIuZnJvbShyZXN1bHQuc2lnbmF0dXJlLCBcImJhc2U2NFwiKSk7XG4gICAgLy8gVXNlIHRoZSBwdWJsaWMgS2V5IHRvIHZlcmlmeSB0aGF0IHRoZSBwcml2YXRlLWNvdW50ZXJwYXJ0IHNpZ25lZCB0aGUgbWVzc2FnZVxuICAgIGNvbnN0IG15UEsgPSB1dGlsc18xLlB1YmxpY0tleS5mcm9tKHJlc3VsdC5wdWJsaWNLZXkpO1xuICAgIHJldHVybiBteVBLLnZlcmlmeSh0b19zaWduLCByZWFsX3NpZ25hdHVyZSk7XG59XG5leHBvcnRzLnZlcmlmeVNpZ25hdHVyZSA9IHZlcmlmeVNpZ25hdHVyZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5lcDAzMTQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/nep0314.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/provider.js":
/*!**********************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/provider.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereProviderError = exports.HereProviderStatus = void 0;\nvar HereProviderStatus;\n(function (HereProviderStatus) {\n    HereProviderStatus[HereProviderStatus[\"APPROVING\"] = 1] = \"APPROVING\";\n    HereProviderStatus[HereProviderStatus[\"FAILED\"] = 2] = \"FAILED\";\n    HereProviderStatus[HereProviderStatus[\"SUCCESS\"] = 3] = \"SUCCESS\";\n})(HereProviderStatus = exports.HereProviderStatus || (exports.HereProviderStatus = {}));\nclass HereProviderError extends Error {\n    constructor(payload, parentError) {\n        super(payload !== null && payload !== void 0 ? payload : parentError === null || parentError === void 0 ? void 0 : parentError.message);\n        this.payload = payload;\n        this.parentError = parentError;\n    }\n}\nexports.HereProviderError = HereProviderError;\n//# sourceMappingURL=provider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvcHJvdmlkZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCLEdBQUcsMEJBQTBCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHNEQUFzRCwwQkFBMEIsS0FBSztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL21hcmtldGJhc2VtaW50Ly4vbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL3Byb3ZpZGVyLmpzPzQ1YjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkhlcmVQcm92aWRlckVycm9yID0gZXhwb3J0cy5IZXJlUHJvdmlkZXJTdGF0dXMgPSB2b2lkIDA7XG52YXIgSGVyZVByb3ZpZGVyU3RhdHVzO1xuKGZ1bmN0aW9uIChIZXJlUHJvdmlkZXJTdGF0dXMpIHtcbiAgICBIZXJlUHJvdmlkZXJTdGF0dXNbSGVyZVByb3ZpZGVyU3RhdHVzW1wiQVBQUk9WSU5HXCJdID0gMV0gPSBcIkFQUFJPVklOR1wiO1xuICAgIEhlcmVQcm92aWRlclN0YXR1c1tIZXJlUHJvdmlkZXJTdGF0dXNbXCJGQUlMRURcIl0gPSAyXSA9IFwiRkFJTEVEXCI7XG4gICAgSGVyZVByb3ZpZGVyU3RhdHVzW0hlcmVQcm92aWRlclN0YXR1c1tcIlNVQ0NFU1NcIl0gPSAzXSA9IFwiU1VDQ0VTU1wiO1xufSkoSGVyZVByb3ZpZGVyU3RhdHVzID0gZXhwb3J0cy5IZXJlUHJvdmlkZXJTdGF0dXMgfHwgKGV4cG9ydHMuSGVyZVByb3ZpZGVyU3RhdHVzID0ge30pKTtcbmNsYXNzIEhlcmVQcm92aWRlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHBheWxvYWQsIHBhcmVudEVycm9yKSB7XG4gICAgICAgIHN1cGVyKHBheWxvYWQgIT09IG51bGwgJiYgcGF5bG9hZCAhPT0gdm9pZCAwID8gcGF5bG9hZCA6IHBhcmVudEVycm9yID09PSBudWxsIHx8IHBhcmVudEVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnRFcnJvci5tZXNzYWdlKTtcbiAgICAgICAgdGhpcy5wYXlsb2FkID0gcGF5bG9hZDtcbiAgICAgICAgdGhpcy5wYXJlbnRFcnJvciA9IHBhcmVudEVycm9yO1xuICAgIH1cbn1cbmV4cG9ydHMuSGVyZVByb3ZpZGVyRXJyb3IgPSBIZXJlUHJvdmlkZXJFcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb3ZpZGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/types.js":
/*!*******************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/types.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvdHlwZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXJrZXRiYXNlbWludC8uL25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC90eXBlcy5qcz9iYzcyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/utils.js":
/*!*******************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/utils.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isValidAccessKey = exports.internalThrow = exports.getPublicKeys = exports.serializeActions = exports.isMobile = exports.getDeviceId = void 0;\nconst uuid4_1 = __importDefault(__webpack_require__(/*! uuid4 */ \"(ssr)/./node_modules/uuid4/index.mjs\"));\nconst provider_1 = __webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/@here-wallet/core/build/provider.js\");\nconst getDeviceId = () => {\n    const topicId = window.localStorage.getItem(\"herewallet-topic\") || (0, uuid4_1.default)();\n    window.localStorage.setItem(\"herewallet-topic\", topicId);\n    return topicId;\n};\nexports.getDeviceId = getDeviceId;\nconst isMobile = () => {\n    return window.matchMedia(\"(any-pointer:coarse)\").matches;\n};\nexports.isMobile = isMobile;\nconst serializeActions = (actions) => {\n    return actions.map((act) => {\n        if (act.type !== \"FunctionCall\")\n            return act;\n        let { args, deposit, gas, methodName } = act.params;\n        if (ArrayBuffer.isView(args)) {\n            args = Buffer.from(args.buffer, args.byteOffset, args.byteLength);\n        }\n        if (args instanceof Buffer) {\n            args = args.toString(\"base64\");\n        }\n        return {\n            type: act.type,\n            params: { args, deposit, gas, methodName },\n        };\n    });\n};\nexports.serializeActions = serializeActions;\nconst getPublicKeys = (rpc, accountId) => __awaiter(void 0, void 0, void 0, function* () {\n    const res = yield fetch(rpc, {\n        method: \"POST\",\n        body: JSON.stringify({\n            jsonrpc: \"2.0\",\n            id: \"dontcare\",\n            method: \"query\",\n            params: {\n                request_type: \"view_access_key_list\",\n                finality: \"final\",\n                account_id: accountId,\n            },\n        }),\n        headers: {\n            \"content-type\": \"application/json\",\n        },\n    });\n    if (res.ok === false) {\n        return [];\n    }\n    const data = yield res.json();\n    return data.result.keys;\n});\nexports.getPublicKeys = getPublicKeys;\nconst internalThrow = (error, delegate) => {\n    var _a, _b, _c;\n    if (error instanceof provider_1.HereProviderError) {\n        throw error;\n    }\n    const result = {\n        payload: error instanceof Error ? error.message : \"UNKNOWN\",\n        status: provider_1.HereProviderStatus.FAILED,\n        account_id: \"\",\n    };\n    (_a = delegate.onFailed) === null || _a === void 0 ? void 0 : _a.call(delegate, result);\n    (_c = (_b = delegate === null || delegate === void 0 ? void 0 : delegate.strategy) === null || _b === void 0 ? void 0 : _b.onFailed) === null || _c === void 0 ? void 0 : _c.call(_b, result);\n    throw error;\n};\nexports.internalThrow = internalThrow;\nconst isValidAccessKey = (accountId, accessKey, call) => {\n    const { permission } = accessKey.access_key;\n    if (permission === \"FullAccess\") {\n        return true;\n    }\n    if (permission.FunctionCall) {\n        const { receiver_id: allowedReceiverId, method_names: allowedMethods } = permission.FunctionCall;\n        /********************************\n        Accept multisig access keys and let wallets attempt to signAndSendTransaction\n        If an access key has itself as receiverId and method permission add_request_and_confirm, then it is being used in a wallet with multisig contract: https://github.com/near/core-contracts/blob/671c05f09abecabe7a7e58efe942550a35fc3292/multisig/src/lib.rs#L149-L153\n        ********************************/\n        if (allowedReceiverId === accountId && allowedMethods.includes(\"add_request_and_confirm\")) {\n            return true;\n        }\n        if (allowedReceiverId === call.receiverId) {\n            if (call.actions.length !== 1)\n                return false;\n            return call.actions.every((action) => {\n                if (action.type !== \"FunctionCall\")\n                    return false;\n                return ((!action.params.deposit || action.params.deposit.toString() === \"0\") &&\n                    (allowedMethods.length === 0 || allowedMethods.includes(action.params.methodName)));\n            });\n        }\n    }\n    return false;\n};\nexports.isValidAccessKey = isValidAccessKey;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCLEdBQUcscUJBQXFCLEdBQUcscUJBQXFCLEdBQUcsd0JBQXdCLEdBQUcsZ0JBQWdCLEdBQUcsbUJBQW1CO0FBQzVJLGdDQUFnQyxtQkFBTyxDQUFDLG1EQUFPO0FBQy9DLG1CQUFtQixtQkFBTyxDQUFDLDRFQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxpQ0FBaUM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnQ0FBZ0M7QUFDdEQ7QUFDQSxLQUFLO0FBQ0w7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLFlBQVksYUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwrREFBK0Q7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFya2V0YmFzZW1pbnQvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvdXRpbHMuanM/ZWE5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc1ZhbGlkQWNjZXNzS2V5ID0gZXhwb3J0cy5pbnRlcm5hbFRocm93ID0gZXhwb3J0cy5nZXRQdWJsaWNLZXlzID0gZXhwb3J0cy5zZXJpYWxpemVBY3Rpb25zID0gZXhwb3J0cy5pc01vYmlsZSA9IGV4cG9ydHMuZ2V0RGV2aWNlSWQgPSB2b2lkIDA7XG5jb25zdCB1dWlkNF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJ1dWlkNFwiKSk7XG5jb25zdCBwcm92aWRlcl8xID0gcmVxdWlyZShcIi4vcHJvdmlkZXJcIik7XG5jb25zdCBnZXREZXZpY2VJZCA9ICgpID0+IHtcbiAgICBjb25zdCB0b3BpY0lkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaGVyZXdhbGxldC10b3BpY1wiKSB8fCAoMCwgdXVpZDRfMS5kZWZhdWx0KSgpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImhlcmV3YWxsZXQtdG9waWNcIiwgdG9waWNJZCk7XG4gICAgcmV0dXJuIHRvcGljSWQ7XG59O1xuZXhwb3J0cy5nZXREZXZpY2VJZCA9IGdldERldmljZUlkO1xuY29uc3QgaXNNb2JpbGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKFwiKGFueS1wb2ludGVyOmNvYXJzZSlcIikubWF0Y2hlcztcbn07XG5leHBvcnRzLmlzTW9iaWxlID0gaXNNb2JpbGU7XG5jb25zdCBzZXJpYWxpemVBY3Rpb25zID0gKGFjdGlvbnMpID0+IHtcbiAgICByZXR1cm4gYWN0aW9ucy5tYXAoKGFjdCkgPT4ge1xuICAgICAgICBpZiAoYWN0LnR5cGUgIT09IFwiRnVuY3Rpb25DYWxsXCIpXG4gICAgICAgICAgICByZXR1cm4gYWN0O1xuICAgICAgICBsZXQgeyBhcmdzLCBkZXBvc2l0LCBnYXMsIG1ldGhvZE5hbWUgfSA9IGFjdC5wYXJhbXM7XG4gICAgICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoYXJncykpIHtcbiAgICAgICAgICAgIGFyZ3MgPSBCdWZmZXIuZnJvbShhcmdzLmJ1ZmZlciwgYXJncy5ieXRlT2Zmc2V0LCBhcmdzLmJ5dGVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmdzIGluc3RhbmNlb2YgQnVmZmVyKSB7XG4gICAgICAgICAgICBhcmdzID0gYXJncy50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogYWN0LnR5cGUsXG4gICAgICAgICAgICBwYXJhbXM6IHsgYXJncywgZGVwb3NpdCwgZ2FzLCBtZXRob2ROYW1lIH0sXG4gICAgICAgIH07XG4gICAgfSk7XG59O1xuZXhwb3J0cy5zZXJpYWxpemVBY3Rpb25zID0gc2VyaWFsaXplQWN0aW9ucztcbmNvbnN0IGdldFB1YmxpY0tleXMgPSAocnBjLCBhY2NvdW50SWQpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHJlcyA9IHlpZWxkIGZldGNoKHJwYywge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICAgICAgaWQ6IFwiZG9udGNhcmVcIixcbiAgICAgICAgICAgIG1ldGhvZDogXCJxdWVyeVwiLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdF90eXBlOiBcInZpZXdfYWNjZXNzX2tleV9saXN0XCIsXG4gICAgICAgICAgICAgICAgZmluYWxpdHk6IFwiZmluYWxcIixcbiAgICAgICAgICAgICAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgaWYgKHJlcy5vayA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0geWllbGQgcmVzLmpzb24oKTtcbiAgICByZXR1cm4gZGF0YS5yZXN1bHQua2V5cztcbn0pO1xuZXhwb3J0cy5nZXRQdWJsaWNLZXlzID0gZ2V0UHVibGljS2V5cztcbmNvbnN0IGludGVybmFsVGhyb3cgPSAoZXJyb3IsIGRlbGVnYXRlKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJFcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBwYXlsb2FkOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVU5LTk9XTlwiLFxuICAgICAgICBzdGF0dXM6IHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyU3RhdHVzLkZBSUxFRCxcbiAgICAgICAgYWNjb3VudF9pZDogXCJcIixcbiAgICB9O1xuICAgIChfYSA9IGRlbGVnYXRlLm9uRmFpbGVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChkZWxlZ2F0ZSwgcmVzdWx0KTtcbiAgICAoX2MgPSAoX2IgPSBkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuc3RyYXRlZ3kpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5vbkZhaWxlZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IsIHJlc3VsdCk7XG4gICAgdGhyb3cgZXJyb3I7XG59O1xuZXhwb3J0cy5pbnRlcm5hbFRocm93ID0gaW50ZXJuYWxUaHJvdztcbmNvbnN0IGlzVmFsaWRBY2Nlc3NLZXkgPSAoYWNjb3VudElkLCBhY2Nlc3NLZXksIGNhbGwpID0+IHtcbiAgICBjb25zdCB7IHBlcm1pc3Npb24gfSA9IGFjY2Vzc0tleS5hY2Nlc3Nfa2V5O1xuICAgIGlmIChwZXJtaXNzaW9uID09PSBcIkZ1bGxBY2Nlc3NcIikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHBlcm1pc3Npb24uRnVuY3Rpb25DYWxsKSB7XG4gICAgICAgIGNvbnN0IHsgcmVjZWl2ZXJfaWQ6IGFsbG93ZWRSZWNlaXZlcklkLCBtZXRob2RfbmFtZXM6IGFsbG93ZWRNZXRob2RzIH0gPSBwZXJtaXNzaW9uLkZ1bmN0aW9uQ2FsbDtcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIEFjY2VwdCBtdWx0aXNpZyBhY2Nlc3Mga2V5cyBhbmQgbGV0IHdhbGxldHMgYXR0ZW1wdCB0byBzaWduQW5kU2VuZFRyYW5zYWN0aW9uXG4gICAgICAgIElmIGFuIGFjY2VzcyBrZXkgaGFzIGl0c2VsZiBhcyByZWNlaXZlcklkIGFuZCBtZXRob2QgcGVybWlzc2lvbiBhZGRfcmVxdWVzdF9hbmRfY29uZmlybSwgdGhlbiBpdCBpcyBiZWluZyB1c2VkIGluIGEgd2FsbGV0IHdpdGggbXVsdGlzaWcgY29udHJhY3Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9uZWFyL2NvcmUtY29udHJhY3RzL2Jsb2IvNjcxYzA1ZjA5YWJlY2FiZTdhN2U1OGVmZTk0MjU1MGEzNWZjMzI5Mi9tdWx0aXNpZy9zcmMvbGliLnJzI0wxNDktTDE1M1xuICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAgICAgaWYgKGFsbG93ZWRSZWNlaXZlcklkID09PSBhY2NvdW50SWQgJiYgYWxsb3dlZE1ldGhvZHMuaW5jbHVkZXMoXCJhZGRfcmVxdWVzdF9hbmRfY29uZmlybVwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsbG93ZWRSZWNlaXZlcklkID09PSBjYWxsLnJlY2VpdmVySWQpIHtcbiAgICAgICAgICAgIGlmIChjYWxsLmFjdGlvbnMubGVuZ3RoICE9PSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBjYWxsLmFjdGlvbnMuZXZlcnkoKGFjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24udHlwZSAhPT0gXCJGdW5jdGlvbkNhbGxcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiAoKCFhY3Rpb24ucGFyYW1zLmRlcG9zaXQgfHwgYWN0aW9uLnBhcmFtcy5kZXBvc2l0LnRvU3RyaW5nKCkgPT09IFwiMFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAoYWxsb3dlZE1ldGhvZHMubGVuZ3RoID09PSAwIHx8IGFsbG93ZWRNZXRob2RzLmluY2x1ZGVzKGFjdGlvbi5wYXJhbXMubWV0aG9kTmFtZSkpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5leHBvcnRzLmlzVmFsaWRBY2Nlc3NLZXkgPSBpc1ZhbGlkQWNjZXNzS2V5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@here-wallet/core/build/wallet.js":
/*!********************************************************!*\
  !*** ./node_modules/@here-wallet/core/build/wallet.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereWallet = void 0;\nconst near_api_js_1 = __webpack_require__(/*! near-api-js */ \"(ssr)/./node_modules/near-api-js/lib/index.js\");\nconst providers_1 = __webpack_require__(/*! near-api-js/lib/providers */ \"(ssr)/./node_modules/near-api-js/lib/providers/index.js\");\nconst key_pair_1 = __webpack_require__(/*! near-api-js/lib/utils/key_pair */ \"(ssr)/./node_modules/near-api-js/lib/utils/key_pair.js\");\nconst js_sha256_1 = __webpack_require__(/*! js-sha256 */ \"(ssr)/./node_modules/js-sha256/src/sha256.js\");\nconst crypto_1 = __webpack_require__(/*! crypto */ \"crypto\");\nconst bn_js_1 = __importDefault(__webpack_require__(/*! bn.js */ \"(ssr)/./node_modules/bn.js/lib/bn.js\"));\nconst HereKeyStore_1 = __webpack_require__(/*! ./HereKeyStore */ \"(ssr)/./node_modules/@here-wallet/core/build/HereKeyStore.js\");\nconst provider_1 = __webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/@here-wallet/core/build/provider.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@here-wallet/core/build/utils.js\");\nconst here_provider_1 = __webpack_require__(/*! ./here-provider */ \"(ssr)/./node_modules/@here-wallet/core/build/here-provider/index.js\");\nconst actions_1 = __webpack_require__(/*! ./actions */ \"(ssr)/./node_modules/@here-wallet/core/build/actions/index.js\");\nconst WidgetStrategy_1 = __webpack_require__(/*! ./WidgetStrategy */ \"(ssr)/./node_modules/@here-wallet/core/build/WidgetStrategy.js\");\nconst nep0314_1 = __webpack_require__(/*! ./nep0314 */ \"(ssr)/./node_modules/@here-wallet/core/build/nep0314.js\");\nclass AccessDenied extends Error {\n}\nclass HereWallet {\n    constructor({ nodeUrl, networkId = \"mainnet\", authStorage = new HereKeyStore_1.HereKeyStore(), defaultStrategy = () => new WidgetStrategy_1.WidgetStrategy(), defaultProvider = here_provider_1.proxyProvider, } = {}) {\n        this.authStorage = authStorage;\n        this.defaultProvider = defaultProvider;\n        this.defaultStrategy = defaultStrategy;\n        const signer = new near_api_js_1.InMemorySigner(this.authStorage);\n        const rpc = new providers_1.JsonRpcProvider({ url: nodeUrl !== null && nodeUrl !== void 0 ? nodeUrl : `https://rpc.${networkId}.near.org` });\n        this.connection = near_api_js_1.Connection.fromConfig({\n            jsvmAccountId: `jsvm.${networkId}`,\n            provider: rpc,\n            networkId,\n            signer,\n        });\n    }\n    get rpc() {\n        return this.connection.provider;\n    }\n    get signer() {\n        return this.connection.signer;\n    }\n    get networkId() {\n        return this.connection.networkId;\n    }\n    account(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accountId = id !== null && id !== void 0 ? id : (yield this.authStorage.getActiveAccount(this.networkId));\n            if (accountId == null)\n                throw new AccessDenied(\"Wallet not signed in\");\n            return new near_api_js_1.Account(this.connection, accountId);\n        });\n    }\n    isSignedIn() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const id = yield this.authStorage.getActiveAccount(this.networkId);\n            return id != null;\n        });\n    }\n    signOut() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accountId = yield this.authStorage.getActiveAccount(this.networkId);\n            if (accountId == null)\n                throw new AccessDenied(\"Wallet not signed in\");\n            const key = yield this.authStorage.getKey(this.networkId, accountId);\n            if (key != null) {\n                const publicKey = key.getPublicKey().toString();\n                yield this.silentSignAndSendTransaction({\n                    receiverId: accountId,\n                    actions: [{ type: \"DeleteKey\", params: { publicKey } }],\n                }).catch(() => { });\n            }\n            yield this.authStorage.removeKey(this.networkId, accountId);\n        });\n    }\n    getHereBalance(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const account = yield this.account(id);\n            const contractId = this.networkId === \"mainnet\" ? \"here.storage.near\" : \"here.storage.testnet\";\n            const hereCoins = yield account\n                .viewFunction({\n                args: { account_id: account.accountId },\n                methodName: \"ft_balance_of\",\n                contractId,\n            })\n                .catch(() => \"0\");\n            return new bn_js_1.default(hereCoins);\n        });\n    }\n    getAvailableBalance(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const account = yield this.account(id);\n            const result = yield account.getAccountBalance();\n            const hereBalance = yield this.getHereBalance();\n            return new bn_js_1.default(result.available).add(new bn_js_1.default(hereBalance));\n        });\n    }\n    getAccounts() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.authStorage.getAccounts(this.networkId);\n        });\n    }\n    getAccountId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accountId = yield this.authStorage.getActiveAccount(this.networkId);\n            if (accountId == null)\n                throw new AccessDenied(\"Wallet not signed in\");\n            return accountId;\n        });\n    }\n    switchAccount(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const key = yield this.authStorage.getKey(this.networkId, id);\n            if (key == null)\n                throw new Error(`Account ${id} not signed in`);\n            yield this.authStorage.setActiveAccount(this.networkId, id);\n        });\n    }\n    signIn(_a = {}) {\n        var _b, _c, _d, _e, _f;\n        var { contractId, allowance, methodNames = [] } = _a, delegate = __rest(_a, [\"contractId\", \"allowance\", \"methodNames\"]);\n        return __awaiter(this, void 0, void 0, function* () {\n            if (contractId == null) {\n                const { accountId } = yield this.authenticate(delegate);\n                // Generate random keypair\n                yield this.authStorage.setKey(this.networkId, accountId, key_pair_1.KeyPairEd25519.fromRandom());\n                yield this.authStorage.setActiveAccount(this.networkId, accountId);\n                return accountId;\n            }\n            delegate.strategy = (_b = delegate.strategy) !== null && _b !== void 0 ? _b : this.defaultStrategy();\n            delegate.provider = (_c = delegate.provider) !== null && _c !== void 0 ? _c : this.defaultProvider;\n            (_d = delegate.onInitialized) === null || _d === void 0 ? void 0 : _d.call(delegate);\n            (_f = (_e = delegate.strategy) === null || _e === void 0 ? void 0 : _e.onInitialized) === null || _f === void 0 ? void 0 : _f.call(_e);\n            try {\n                const accessKey = near_api_js_1.KeyPair.fromRandom(\"ed25519\");\n                const permission = { receiverId: contractId, methodNames, allowance };\n                const data = yield delegate.provider(Object.assign(Object.assign({}, delegate), { request: {\n                        type: \"call\",\n                        network: this.networkId,\n                        transactions: [\n                            {\n                                actions: [\n                                    {\n                                        type: \"AddKey\",\n                                        params: {\n                                            publicKey: accessKey.getPublicKey().toString(),\n                                            accessKey: { permission },\n                                        },\n                                    },\n                                ],\n                            },\n                        ],\n                    } }));\n                if (data.account_id == null) {\n                    throw Error(\"Transaction is failed\");\n                }\n                yield this.authStorage.setKey(this.networkId, data.account_id, accessKey);\n                yield this.authStorage.setActiveAccount(this.networkId, data.account_id);\n                return data.account_id;\n            }\n            catch (error) {\n                (0, utils_1.internalThrow)(error, delegate);\n                throw error;\n            }\n        });\n    }\n    silentSignAndSendTransaction({ actions, receiverId, signerId }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const account = yield this.account(signerId);\n            const localKey = yield this.authStorage.getKey(this.networkId, account.accountId);\n            if (localKey == null)\n                throw new AccessDenied();\n            const publicKey = localKey.getPublicKey();\n            const accessKeys = yield account.getAccessKeys();\n            const call = { receiverId, actions };\n            const isValid = accessKeys.some((v) => {\n                if (v.public_key !== publicKey.toString())\n                    return false;\n                return (0, utils_1.isValidAccessKey)(account.accountId, v, call);\n            });\n            if (isValid === false)\n                throw new AccessDenied();\n            return yield account.signAndSendTransaction({\n                actions: actions.map((a) => (0, actions_1.createAction)(a)),\n                receiverId: receiverId !== null && receiverId !== void 0 ? receiverId : account.accountId,\n            });\n        });\n    }\n    signAndSendTransaction(opts) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { signerId, receiverId, actions } = opts, args = __rest(opts, [\"signerId\", \"receiverId\", \"actions\"]);\n            const delegate = args;\n            delegate.strategy = (_a = delegate.strategy) !== null && _a !== void 0 ? _a : this.defaultStrategy();\n            delegate.provider = (_b = delegate.provider) !== null && _b !== void 0 ? _b : this.defaultProvider;\n            (_c = delegate.onInitialized) === null || _c === void 0 ? void 0 : _c.call(delegate);\n            (_e = (_d = delegate.strategy) === null || _d === void 0 ? void 0 : _d.onInitialized) === null || _e === void 0 ? void 0 : _e.call(_d);\n            try {\n                const result = yield this.silentSignAndSendTransaction({ receiverId, actions, signerId });\n                const success = { status: provider_1.HereProviderStatus.SUCCESS, payload: result === null || result === void 0 ? void 0 : result.transaction_outcome.id };\n                (_f = delegate.onSuccess) === null || _f === void 0 ? void 0 : _f.call(delegate, success);\n                (_h = (_g = delegate.strategy) === null || _g === void 0 ? void 0 : _g.onSuccess) === null || _h === void 0 ? void 0 : _h.call(_g, success);\n                return result;\n            }\n            catch (e) {\n                try {\n                    // If silent sign return AccessDenied or NotEnoughAllowance we request mobile wallet\n                    // OR its just transaction error\n                    if (!(e instanceof AccessDenied) && (e === null || e === void 0 ? void 0 : e.type) !== \"NotEnoughAllowance\") {\n                        (0, utils_1.internalThrow)(e, delegate);\n                        throw e;\n                    }\n                    const data = yield delegate.provider(Object.assign(Object.assign({}, delegate), { request: {\n                            type: \"call\",\n                            transactions: [{ actions: (0, utils_1.serializeActions)(actions), receiverId, signerId }],\n                            network: this.networkId,\n                        } }));\n                    if (data.payload == null || data.account_id == null) {\n                        throw Error(\"Transaction not found, but maybe executed\");\n                    }\n                    return yield this.rpc.txStatus(data.payload, data.account_id);\n                }\n                catch (error) {\n                    (0, utils_1.internalThrow)(error, delegate);\n                    throw error;\n                }\n            }\n        });\n    }\n    verifyMessageNEP0413(request, result) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const isSignatureValid = (0, nep0314_1.verifySignature)(request, result);\n            if (!isSignatureValid)\n                throw Error(\"Incorrect signature\");\n            const account = yield this.account(result.accountId);\n            const keys = yield account.getAccessKeys();\n            const isFullAccess = keys.some((k) => {\n                if (k.public_key !== result.publicKey)\n                    return false;\n                if (k.access_key.permission !== \"FullAccess\")\n                    return false;\n                return true;\n            });\n            if (!isFullAccess)\n                throw Error(\"Signer public key is not full access\");\n            return true;\n        });\n    }\n    authenticate(options = {}) {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            const signRequest = {\n                nonce: (_a = options.nonce) !== null && _a !== void 0 ? _a : (0, crypto_1.randomBytes)(32),\n                recipient: (_b = options.recipient) !== null && _b !== void 0 ? _b : window.location.host,\n                message: (_c = options.message) !== null && _c !== void 0 ? _c : \"Authenticate\",\n            };\n            const signed = yield this.signMessage(Object.assign(Object.assign({}, signRequest), options));\n            yield this.verifyMessageNEP0413(signRequest, signed);\n            return signed;\n        });\n    }\n    signMessage(options) {\n        var _a, _b, _c, _d, _e;\n        return __awaiter(this, void 0, void 0, function* () {\n            options.strategy = (_a = options.strategy) !== null && _a !== void 0 ? _a : this.defaultStrategy();\n            options.provider = (_b = options.provider) !== null && _b !== void 0 ? _b : this.defaultProvider;\n            (_c = options.onInitialized) === null || _c === void 0 ? void 0 : _c.call(options);\n            (_e = (_d = options.strategy) === null || _d === void 0 ? void 0 : _d.onInitialized) === null || _e === void 0 ? void 0 : _e.call(_d);\n            // Legacy format with receiver property, does not correspond to the current version of the standard\n            if (\"receiver\" in options)\n                return yield this.legacySignMessage(options);\n            const data = yield options.provider(Object.assign(Object.assign({}, options), { request: {\n                    type: \"sign\",\n                    message: options.message,\n                    recipient: options.recipient,\n                    nonce: Array.from(options.nonce),\n                    network: this.networkId,\n                } }));\n            if ((data === null || data === void 0 ? void 0 : data.payload) == null)\n                throw Error(\"Signature not found\");\n            const { publicKey, signature, accountId } = JSON.parse(data.payload);\n            return { publicKey, signature, accountId };\n        });\n    }\n    legacySignMessage(_a) {\n        var _b;\n        var { message, receiver, nonce } = _a, delegate = __rest(_a, [\"message\", \"receiver\", \"nonce\"]);\n        return __awaiter(this, void 0, void 0, function* () {\n            if (nonce == null) {\n                let nonceArray = new Uint8Array(32);\n                nonce = [...crypto.getRandomValues(nonceArray)];\n            }\n            const data = yield ((_b = delegate.provider) === null || _b === void 0 ? void 0 : _b.call(delegate, Object.assign(Object.assign({}, delegate), { request: { type: \"sign\", message, receiver, nonce, network: this.networkId } })));\n            if ((data === null || data === void 0 ? void 0 : data.payload) == null) {\n                throw Error(\"Signature not found\");\n            }\n            try {\n                const { publicKey, signature, accountId } = JSON.parse(data.payload);\n                const sign = new Uint8Array(Buffer.from(signature, \"base64\"));\n                const json = JSON.stringify({ message, receiver, nonce });\n                const msg = new Uint8Array(js_sha256_1.sha256.digest(`NEP0413:` + json));\n                const isVerify = key_pair_1.PublicKey.from(publicKey).verify(msg, sign);\n                if (isVerify === false)\n                    throw Error();\n                const account = yield this.account(accountId);\n                const keys = yield account.getAccessKeys();\n                const pb = publicKey.toString();\n                const isValid = keys.some((k) => {\n                    if (k.public_key !== pb)\n                        return false;\n                    if (k.access_key.permission !== \"FullAccess\")\n                        return false;\n                    return true;\n                });\n                if (isValid === false)\n                    throw Error();\n                return {\n                    signature: new Uint8Array(Buffer.from(signature, \"base64\")),\n                    publicKey: key_pair_1.PublicKey.from(publicKey),\n                    message: `NEP0413:` + json,\n                    receiver,\n                    accountId,\n                    nonce,\n                };\n            }\n            catch (_c) {\n                throw Error(\"Signature not correct\");\n            }\n        });\n    }\n    signAndSendTransactions(_a) {\n        var _b, _c, _d, _e, _f, _g, _h, _j;\n        var { transactions } = _a, delegate = __rest(_a, [\"transactions\"]);\n        return __awaiter(this, void 0, void 0, function* () {\n            delegate.strategy = (_b = delegate.strategy) !== null && _b !== void 0 ? _b : this.defaultStrategy();\n            delegate.provider = (_c = delegate.provider) !== null && _c !== void 0 ? _c : this.defaultProvider;\n            (_d = delegate.onInitialized) === null || _d === void 0 ? void 0 : _d.call(delegate);\n            (_f = (_e = delegate.strategy) === null || _e === void 0 ? void 0 : _e.onInitialized) === null || _f === void 0 ? void 0 : _f.call(_e);\n            let results = [];\n            try {\n                for (const call of transactions) {\n                    const r = yield this.silentSignAndSendTransaction(call);\n                    results.push(r);\n                }\n                const payload = results.map((result) => result.transaction_outcome.id).join(\",\");\n                const success = { status: provider_1.HereProviderStatus.SUCCESS, payload };\n                (_g = delegate.onSuccess) === null || _g === void 0 ? void 0 : _g.call(delegate, success);\n                (_j = (_h = delegate.strategy) === null || _h === void 0 ? void 0 : _h.onSuccess) === null || _j === void 0 ? void 0 : _j.call(_h, success);\n                return results;\n            }\n            catch (e) {\n                try {\n                    // If silent sign return access denied or not enough balance we request mobile wallet\n                    // OR its just transaction error\n                    if (!(e instanceof AccessDenied) && (e === null || e === void 0 ? void 0 : e.type) !== \"NotEnoughAllowance\") {\n                        (0, utils_1.internalThrow)(e, delegate);\n                        throw e;\n                    }\n                    const uncompleted = transactions.slice(results.length);\n                    const data = yield delegate.provider(Object.assign(Object.assign({}, delegate), { request: {\n                            type: \"call\",\n                            transactions: uncompleted.map((trx) => (Object.assign(Object.assign({}, trx), { actions: (0, utils_1.serializeActions)(trx.actions) }))),\n                            network: this.networkId,\n                        } }));\n                    if (data.payload == null || data.account_id == null) {\n                        throw Error(\"Transaction not found, but maybe executed\");\n                    }\n                    const promises = data.payload.split(\",\").map((id) => this.rpc.txStatus(id, data.account_id));\n                    return yield Promise.all(promises);\n                }\n                catch (error) {\n                    (0, utils_1.internalThrow)(error, delegate);\n                    throw error;\n                }\n            }\n        });\n    }\n}\nexports.HereWallet = HereWallet;\n//# sourceMappingURL=wallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvd2FsbGV0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsY0FBYztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsa0JBQWtCO0FBQ2xCLHNCQUFzQixtQkFBTyxDQUFDLGtFQUFhO0FBQzNDLG9CQUFvQixtQkFBTyxDQUFDLDBGQUEyQjtBQUN2RCxtQkFBbUIsbUJBQU8sQ0FBQyw4RkFBZ0M7QUFDM0Qsb0JBQW9CLG1CQUFPLENBQUMsK0RBQVc7QUFDdkMsaUJBQWlCLG1CQUFPLENBQUMsc0JBQVE7QUFDakMsZ0NBQWdDLG1CQUFPLENBQUMsbURBQU87QUFDL0MsdUJBQXVCLG1CQUFPLENBQUMsb0ZBQWdCO0FBQy9DLG1CQUFtQixtQkFBTyxDQUFDLDRFQUFZO0FBQ3ZDLGdCQUFnQixtQkFBTyxDQUFDLHNFQUFTO0FBQ2pDLHdCQUF3QixtQkFBTyxDQUFDLDRGQUFpQjtBQUNqRCxrQkFBa0IsbUJBQU8sQ0FBQyxnRkFBVztBQUNyQyx5QkFBeUIsbUJBQU8sQ0FBQyx3RkFBa0I7QUFDbkQsa0JBQWtCLG1CQUFPLENBQUMsMEVBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1NQUFtTSxJQUFJO0FBQ3pOO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHVFQUF1RSxVQUFVLFlBQVk7QUFDbko7QUFDQSxtQ0FBbUMsVUFBVTtBQUM3QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDZCQUE2QixhQUFhO0FBQzFFLGlCQUFpQixpQkFBaUI7QUFDbEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwrQkFBK0I7QUFDdkQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsSUFBSTtBQUMvQztBQUNBLFNBQVM7QUFDVDtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLGNBQWMsMENBQTBDO0FBQ3hEO0FBQ0E7QUFDQSx3QkFBd0IsWUFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLG1GQUFtRixlQUFlO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxZQUFZO0FBQ3JFLHlDQUF5QztBQUN6QyxxQ0FBcUM7QUFDckM7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLG1DQUFtQywrQkFBK0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0NBQWdDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSwrQkFBK0I7QUFDeEcsa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVGQUF1RixlQUFlO0FBQ3RHO0FBQ0EsNkNBQTZDLHVFQUF1RTtBQUNwSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRjtBQUNoRjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsY0FBYztBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQSxvQkFBb0Isa0NBQWtDO0FBQ3RELHFCQUFxQjtBQUNyQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsY0FBYywyQkFBMkI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhJQUE4SSxlQUFlLFdBQVcsbUVBQW1FO0FBQzNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtDQUFrQztBQUMxRDtBQUNBLDhDQUE4QywwQkFBMEI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxjQUFjLGVBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGLGVBQWU7QUFDdEc7QUFDQSxrR0FBa0csVUFBVSxxREFBcUQ7QUFDaks7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFya2V0YmFzZW1pbnQvLi9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvd2FsbGV0LmpzP2ZlZTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSGVyZVdhbGxldCA9IHZvaWQgMDtcbmNvbnN0IG5lYXJfYXBpX2pzXzEgPSByZXF1aXJlKFwibmVhci1hcGktanNcIik7XG5jb25zdCBwcm92aWRlcnNfMSA9IHJlcXVpcmUoXCJuZWFyLWFwaS1qcy9saWIvcHJvdmlkZXJzXCIpO1xuY29uc3Qga2V5X3BhaXJfMSA9IHJlcXVpcmUoXCJuZWFyLWFwaS1qcy9saWIvdXRpbHMva2V5X3BhaXJcIik7XG5jb25zdCBqc19zaGEyNTZfMSA9IHJlcXVpcmUoXCJqcy1zaGEyNTZcIik7XG5jb25zdCBjcnlwdG9fMSA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5jb25zdCBibl9qc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJibi5qc1wiKSk7XG5jb25zdCBIZXJlS2V5U3RvcmVfMSA9IHJlcXVpcmUoXCIuL0hlcmVLZXlTdG9yZVwiKTtcbmNvbnN0IHByb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9wcm92aWRlclwiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbmNvbnN0IGhlcmVfcHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL2hlcmUtcHJvdmlkZXJcIik7XG5jb25zdCBhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi9hY3Rpb25zXCIpO1xuY29uc3QgV2lkZ2V0U3RyYXRlZ3lfMSA9IHJlcXVpcmUoXCIuL1dpZGdldFN0cmF0ZWd5XCIpO1xuY29uc3QgbmVwMDMxNF8xID0gcmVxdWlyZShcIi4vbmVwMDMxNFwiKTtcbmNsYXNzIEFjY2Vzc0RlbmllZCBleHRlbmRzIEVycm9yIHtcbn1cbmNsYXNzIEhlcmVXYWxsZXQge1xuICAgIGNvbnN0cnVjdG9yKHsgbm9kZVVybCwgbmV0d29ya0lkID0gXCJtYWlubmV0XCIsIGF1dGhTdG9yYWdlID0gbmV3IEhlcmVLZXlTdG9yZV8xLkhlcmVLZXlTdG9yZSgpLCBkZWZhdWx0U3RyYXRlZ3kgPSAoKSA9PiBuZXcgV2lkZ2V0U3RyYXRlZ3lfMS5XaWRnZXRTdHJhdGVneSgpLCBkZWZhdWx0UHJvdmlkZXIgPSBoZXJlX3Byb3ZpZGVyXzEucHJveHlQcm92aWRlciwgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMuYXV0aFN0b3JhZ2UgPSBhdXRoU3RvcmFnZTtcbiAgICAgICAgdGhpcy5kZWZhdWx0UHJvdmlkZXIgPSBkZWZhdWx0UHJvdmlkZXI7XG4gICAgICAgIHRoaXMuZGVmYXVsdFN0cmF0ZWd5ID0gZGVmYXVsdFN0cmF0ZWd5O1xuICAgICAgICBjb25zdCBzaWduZXIgPSBuZXcgbmVhcl9hcGlfanNfMS5Jbk1lbW9yeVNpZ25lcih0aGlzLmF1dGhTdG9yYWdlKTtcbiAgICAgICAgY29uc3QgcnBjID0gbmV3IHByb3ZpZGVyc18xLkpzb25ScGNQcm92aWRlcih7IHVybDogbm9kZVVybCAhPT0gbnVsbCAmJiBub2RlVXJsICE9PSB2b2lkIDAgPyBub2RlVXJsIDogYGh0dHBzOi8vcnBjLiR7bmV0d29ya0lkfS5uZWFyLm9yZ2AgfSk7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG5lYXJfYXBpX2pzXzEuQ29ubmVjdGlvbi5mcm9tQ29uZmlnKHtcbiAgICAgICAgICAgIGpzdm1BY2NvdW50SWQ6IGBqc3ZtLiR7bmV0d29ya0lkfWAsXG4gICAgICAgICAgICBwcm92aWRlcjogcnBjLFxuICAgICAgICAgICAgbmV0d29ya0lkLFxuICAgICAgICAgICAgc2lnbmVyLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IHJwYygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5wcm92aWRlcjtcbiAgICB9XG4gICAgZ2V0IHNpZ25lcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5zaWduZXI7XG4gICAgfVxuICAgIGdldCBuZXR3b3JrSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24ubmV0d29ya0lkO1xuICAgIH1cbiAgICBhY2NvdW50KGlkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50SWQgPSBpZCAhPT0gbnVsbCAmJiBpZCAhPT0gdm9pZCAwID8gaWQgOiAoeWllbGQgdGhpcy5hdXRoU3RvcmFnZS5nZXRBY3RpdmVBY2NvdW50KHRoaXMubmV0d29ya0lkKSk7XG4gICAgICAgICAgICBpZiAoYWNjb3VudElkID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFjY2Vzc0RlbmllZChcIldhbGxldCBub3Qgc2lnbmVkIGluXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBuZWFyX2FwaV9qc18xLkFjY291bnQodGhpcy5jb25uZWN0aW9uLCBhY2NvdW50SWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaXNTaWduZWRJbigpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0geWllbGQgdGhpcy5hdXRoU3RvcmFnZS5nZXRBY3RpdmVBY2NvdW50KHRoaXMubmV0d29ya0lkKTtcbiAgICAgICAgICAgIHJldHVybiBpZCAhPSBudWxsO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2lnbk91dCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnRJZCA9IHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2UuZ2V0QWN0aXZlQWNjb3VudCh0aGlzLm5ldHdvcmtJZCk7XG4gICAgICAgICAgICBpZiAoYWNjb3VudElkID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFjY2Vzc0RlbmllZChcIldhbGxldCBub3Qgc2lnbmVkIGluXCIpO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0geWllbGQgdGhpcy5hdXRoU3RvcmFnZS5nZXRLZXkodGhpcy5uZXR3b3JrSWQsIGFjY291bnRJZCk7XG4gICAgICAgICAgICBpZiAoa2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwdWJsaWNLZXkgPSBrZXkuZ2V0UHVibGljS2V5KCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLnNpbGVudFNpZ25BbmRTZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICByZWNlaXZlcklkOiBhY2NvdW50SWQsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFt7IHR5cGU6IFwiRGVsZXRlS2V5XCIsIHBhcmFtczogeyBwdWJsaWNLZXkgfSB9XSxcbiAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeWllbGQgdGhpcy5hdXRoU3RvcmFnZS5yZW1vdmVLZXkodGhpcy5uZXR3b3JrSWQsIGFjY291bnRJZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRIZXJlQmFsYW5jZShpZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IHlpZWxkIHRoaXMuYWNjb3VudChpZCk7XG4gICAgICAgICAgICBjb25zdCBjb250cmFjdElkID0gdGhpcy5uZXR3b3JrSWQgPT09IFwibWFpbm5ldFwiID8gXCJoZXJlLnN0b3JhZ2UubmVhclwiIDogXCJoZXJlLnN0b3JhZ2UudGVzdG5ldFwiO1xuICAgICAgICAgICAgY29uc3QgaGVyZUNvaW5zID0geWllbGQgYWNjb3VudFxuICAgICAgICAgICAgICAgIC52aWV3RnVuY3Rpb24oe1xuICAgICAgICAgICAgICAgIGFyZ3M6IHsgYWNjb3VudF9pZDogYWNjb3VudC5hY2NvdW50SWQgfSxcbiAgICAgICAgICAgICAgICBtZXRob2ROYW1lOiBcImZ0X2JhbGFuY2Vfb2ZcIixcbiAgICAgICAgICAgICAgICBjb250cmFjdElkLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4gXCIwXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBibl9qc18xLmRlZmF1bHQoaGVyZUNvaW5zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEF2YWlsYWJsZUJhbGFuY2UoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSB5aWVsZCB0aGlzLmFjY291bnQoaWQpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geWllbGQgYWNjb3VudC5nZXRBY2NvdW50QmFsYW5jZSgpO1xuICAgICAgICAgICAgY29uc3QgaGVyZUJhbGFuY2UgPSB5aWVsZCB0aGlzLmdldEhlcmVCYWxhbmNlKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGJuX2pzXzEuZGVmYXVsdChyZXN1bHQuYXZhaWxhYmxlKS5hZGQobmV3IGJuX2pzXzEuZGVmYXVsdChoZXJlQmFsYW5jZSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0QWNjb3VudHMoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4geWllbGQgdGhpcy5hdXRoU3RvcmFnZS5nZXRBY2NvdW50cyh0aGlzLm5ldHdvcmtJZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRBY2NvdW50SWQoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50SWQgPSB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLmdldEFjdGl2ZUFjY291bnQodGhpcy5uZXR3b3JrSWQpO1xuICAgICAgICAgICAgaWYgKGFjY291bnRJZCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBY2Nlc3NEZW5pZWQoXCJXYWxsZXQgbm90IHNpZ25lZCBpblwiKTtcbiAgICAgICAgICAgIHJldHVybiBhY2NvdW50SWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzd2l0Y2hBY2NvdW50KGlkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLmdldEtleSh0aGlzLm5ldHdvcmtJZCwgaWQpO1xuICAgICAgICAgICAgaWYgKGtleSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWNjb3VudCAke2lkfSBub3Qgc2lnbmVkIGluYCk7XG4gICAgICAgICAgICB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLnNldEFjdGl2ZUFjY291bnQodGhpcy5uZXR3b3JrSWQsIGlkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpZ25JbihfYSA9IHt9KSB7XG4gICAgICAgIHZhciBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIHZhciB7IGNvbnRyYWN0SWQsIGFsbG93YW5jZSwgbWV0aG9kTmFtZXMgPSBbXSB9ID0gX2EsIGRlbGVnYXRlID0gX19yZXN0KF9hLCBbXCJjb250cmFjdElkXCIsIFwiYWxsb3dhbmNlXCIsIFwibWV0aG9kTmFtZXNcIl0pO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKGNvbnRyYWN0SWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYWNjb3VudElkIH0gPSB5aWVsZCB0aGlzLmF1dGhlbnRpY2F0ZShkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgcmFuZG9tIGtleXBhaXJcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLnNldEtleSh0aGlzLm5ldHdvcmtJZCwgYWNjb3VudElkLCBrZXlfcGFpcl8xLktleVBhaXJFZDI1NTE5LmZyb21SYW5kb20oKSk7XG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5hdXRoU3RvcmFnZS5zZXRBY3RpdmVBY2NvdW50KHRoaXMubmV0d29ya0lkLCBhY2NvdW50SWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2NvdW50SWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxlZ2F0ZS5zdHJhdGVneSA9IChfYiA9IGRlbGVnYXRlLnN0cmF0ZWd5KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmRlZmF1bHRTdHJhdGVneSgpO1xuICAgICAgICAgICAgZGVsZWdhdGUucHJvdmlkZXIgPSAoX2MgPSBkZWxlZ2F0ZS5wcm92aWRlcikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdGhpcy5kZWZhdWx0UHJvdmlkZXI7XG4gICAgICAgICAgICAoX2QgPSBkZWxlZ2F0ZS5vbkluaXRpYWxpemVkKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbChkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAoX2YgPSAoX2UgPSBkZWxlZ2F0ZS5zdHJhdGVneSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLm9uSW5pdGlhbGl6ZWQpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKF9lKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjZXNzS2V5ID0gbmVhcl9hcGlfanNfMS5LZXlQYWlyLmZyb21SYW5kb20oXCJlZDI1NTE5XCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBlcm1pc3Npb24gPSB7IHJlY2VpdmVySWQ6IGNvbnRyYWN0SWQsIG1ldGhvZE5hbWVzLCBhbGxvd2FuY2UgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgZGVsZWdhdGUucHJvdmlkZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWxlZ2F0ZSksIHsgcmVxdWVzdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiB0aGlzLm5ldHdvcmtJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiQWRkS2V5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1YmxpY0tleTogYWNjZXNzS2V5LmdldFB1YmxpY0tleSgpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc0tleTogeyBwZXJtaXNzaW9uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIH0gfSkpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmFjY291bnRfaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRyYW5zYWN0aW9uIGlzIGZhaWxlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5hdXRoU3RvcmFnZS5zZXRLZXkodGhpcy5uZXR3b3JrSWQsIGRhdGEuYWNjb3VudF9pZCwgYWNjZXNzS2V5KTtcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLnNldEFjdGl2ZUFjY291bnQodGhpcy5uZXR3b3JrSWQsIGRhdGEuYWNjb3VudF9pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuYWNjb3VudF9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICgwLCB1dGlsc18xLmludGVybmFsVGhyb3cpKGVycm9yLCBkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaWxlbnRTaWduQW5kU2VuZFRyYW5zYWN0aW9uKHsgYWN0aW9ucywgcmVjZWl2ZXJJZCwgc2lnbmVySWQgfSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IHlpZWxkIHRoaXMuYWNjb3VudChzaWduZXJJZCk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbEtleSA9IHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2UuZ2V0S2V5KHRoaXMubmV0d29ya0lkLCBhY2NvdW50LmFjY291bnRJZCk7XG4gICAgICAgICAgICBpZiAobG9jYWxLZXkgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQWNjZXNzRGVuaWVkKCk7XG4gICAgICAgICAgICBjb25zdCBwdWJsaWNLZXkgPSBsb2NhbEtleS5nZXRQdWJsaWNLZXkoKTtcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc0tleXMgPSB5aWVsZCBhY2NvdW50LmdldEFjY2Vzc0tleXMoKTtcbiAgICAgICAgICAgIGNvbnN0IGNhbGwgPSB7IHJlY2VpdmVySWQsIGFjdGlvbnMgfTtcbiAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSBhY2Nlc3NLZXlzLnNvbWUoKHYpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodi5wdWJsaWNfa2V5ICE9PSBwdWJsaWNLZXkudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfMS5pc1ZhbGlkQWNjZXNzS2V5KShhY2NvdW50LmFjY291bnRJZCwgdiwgY2FsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQWNjZXNzRGVuaWVkKCk7XG4gICAgICAgICAgICByZXR1cm4geWllbGQgYWNjb3VudC5zaWduQW5kU2VuZFRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiBhY3Rpb25zLm1hcCgoYSkgPT4gKDAsIGFjdGlvbnNfMS5jcmVhdGVBY3Rpb24pKGEpKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlcklkOiByZWNlaXZlcklkICE9PSBudWxsICYmIHJlY2VpdmVySWQgIT09IHZvaWQgMCA/IHJlY2VpdmVySWQgOiBhY2NvdW50LmFjY291bnRJZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2lnbkFuZFNlbmRUcmFuc2FjdGlvbihvcHRzKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2g7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHNpZ25lcklkLCByZWNlaXZlcklkLCBhY3Rpb25zIH0gPSBvcHRzLCBhcmdzID0gX19yZXN0KG9wdHMsIFtcInNpZ25lcklkXCIsIFwicmVjZWl2ZXJJZFwiLCBcImFjdGlvbnNcIl0pO1xuICAgICAgICAgICAgY29uc3QgZGVsZWdhdGUgPSBhcmdzO1xuICAgICAgICAgICAgZGVsZWdhdGUuc3RyYXRlZ3kgPSAoX2EgPSBkZWxlZ2F0ZS5zdHJhdGVneSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5kZWZhdWx0U3RyYXRlZ3koKTtcbiAgICAgICAgICAgIGRlbGVnYXRlLnByb3ZpZGVyID0gKF9iID0gZGVsZWdhdGUucHJvdmlkZXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuZGVmYXVsdFByb3ZpZGVyO1xuICAgICAgICAgICAgKF9jID0gZGVsZWdhdGUub25Jbml0aWFsaXplZCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoZGVsZWdhdGUpO1xuICAgICAgICAgICAgKF9lID0gKF9kID0gZGVsZWdhdGUuc3RyYXRlZ3kpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5vbkluaXRpYWxpemVkKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChfZCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHlpZWxkIHRoaXMuc2lsZW50U2lnbkFuZFNlbmRUcmFuc2FjdGlvbih7IHJlY2VpdmVySWQsIGFjdGlvbnMsIHNpZ25lcklkIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSB7IHN0YXR1czogcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJTdGF0dXMuU1VDQ0VTUywgcGF5bG9hZDogcmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0LnRyYW5zYWN0aW9uX291dGNvbWUuaWQgfTtcbiAgICAgICAgICAgICAgICAoX2YgPSBkZWxlZ2F0ZS5vblN1Y2Nlc3MpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKGRlbGVnYXRlLCBzdWNjZXNzKTtcbiAgICAgICAgICAgICAgICAoX2ggPSAoX2cgPSBkZWxlZ2F0ZS5zdHJhdGVneSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLm9uU3VjY2VzcykgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLmNhbGwoX2csIHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHNpbGVudCBzaWduIHJldHVybiBBY2Nlc3NEZW5pZWQgb3IgTm90RW5vdWdoQWxsb3dhbmNlIHdlIHJlcXVlc3QgbW9iaWxlIHdhbGxldFxuICAgICAgICAgICAgICAgICAgICAvLyBPUiBpdHMganVzdCB0cmFuc2FjdGlvbiBlcnJvclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgQWNjZXNzRGVuaWVkKSAmJiAoZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLnR5cGUpICE9PSBcIk5vdEVub3VnaEFsbG93YW5jZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgdXRpbHNfMS5pbnRlcm5hbFRocm93KShlLCBkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBkZWxlZ2F0ZS5wcm92aWRlcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlbGVnYXRlKSwgeyByZXF1ZXN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiBbeyBhY3Rpb25zOiAoMCwgdXRpbHNfMS5zZXJpYWxpemVBY3Rpb25zKShhY3Rpb25zKSwgcmVjZWl2ZXJJZCwgc2lnbmVySWQgfV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV0d29yazogdGhpcy5uZXR3b3JrSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucGF5bG9hZCA9PSBudWxsIHx8IGRhdGEuYWNjb3VudF9pZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRyYW5zYWN0aW9uIG5vdCBmb3VuZCwgYnV0IG1heWJlIGV4ZWN1dGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCB0aGlzLnJwYy50eFN0YXR1cyhkYXRhLnBheWxvYWQsIGRhdGEuYWNjb3VudF9pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAoMCwgdXRpbHNfMS5pbnRlcm5hbFRocm93KShlcnJvciwgZGVsZWdhdGUpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2ZXJpZnlNZXNzYWdlTkVQMDQxMyhyZXF1ZXN0LCByZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzU2lnbmF0dXJlVmFsaWQgPSAoMCwgbmVwMDMxNF8xLnZlcmlmeVNpZ25hdHVyZSkocmVxdWVzdCwgcmVzdWx0KTtcbiAgICAgICAgICAgIGlmICghaXNTaWduYXR1cmVWYWxpZClcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkluY29ycmVjdCBzaWduYXR1cmVcIik7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50ID0geWllbGQgdGhpcy5hY2NvdW50KHJlc3VsdC5hY2NvdW50SWQpO1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IHlpZWxkIGFjY291bnQuZ2V0QWNjZXNzS2V5cygpO1xuICAgICAgICAgICAgY29uc3QgaXNGdWxsQWNjZXNzID0ga2V5cy5zb21lKChrKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGsucHVibGljX2tleSAhPT0gcmVzdWx0LnB1YmxpY0tleSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChrLmFjY2Vzc19rZXkucGVybWlzc2lvbiAhPT0gXCJGdWxsQWNjZXNzXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFpc0Z1bGxBY2Nlc3MpXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTaWduZXIgcHVibGljIGtleSBpcyBub3QgZnVsbCBhY2Nlc3NcIik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGF1dGhlbnRpY2F0ZShvcHRpb25zID0ge30pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBzaWduUmVxdWVzdCA9IHtcbiAgICAgICAgICAgICAgICBub25jZTogKF9hID0gb3B0aW9ucy5ub25jZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKDAsIGNyeXB0b18xLnJhbmRvbUJ5dGVzKSgzMiksXG4gICAgICAgICAgICAgICAgcmVjaXBpZW50OiAoX2IgPSBvcHRpb25zLnJlY2lwaWVudCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogd2luZG93LmxvY2F0aW9uLmhvc3QsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogKF9jID0gb3B0aW9ucy5tZXNzYWdlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBcIkF1dGhlbnRpY2F0ZVwiLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHNpZ25lZCA9IHlpZWxkIHRoaXMuc2lnbk1lc3NhZ2UoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzaWduUmVxdWVzdCksIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIHlpZWxkIHRoaXMudmVyaWZ5TWVzc2FnZU5FUDA0MTMoc2lnblJlcXVlc3QsIHNpZ25lZCk7XG4gICAgICAgICAgICByZXR1cm4gc2lnbmVkO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2lnbk1lc3NhZ2Uob3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgb3B0aW9ucy5zdHJhdGVneSA9IChfYSA9IG9wdGlvbnMuc3RyYXRlZ3kpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuZGVmYXVsdFN0cmF0ZWd5KCk7XG4gICAgICAgICAgICBvcHRpb25zLnByb3ZpZGVyID0gKF9iID0gb3B0aW9ucy5wcm92aWRlcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5kZWZhdWx0UHJvdmlkZXI7XG4gICAgICAgICAgICAoX2MgPSBvcHRpb25zLm9uSW5pdGlhbGl6ZWQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKG9wdGlvbnMpO1xuICAgICAgICAgICAgKF9lID0gKF9kID0gb3B0aW9ucy5zdHJhdGVneSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLm9uSW5pdGlhbGl6ZWQpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5jYWxsKF9kKTtcbiAgICAgICAgICAgIC8vIExlZ2FjeSBmb3JtYXQgd2l0aCByZWNlaXZlciBwcm9wZXJ0eSwgZG9lcyBub3QgY29ycmVzcG9uZCB0byB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIHRoZSBzdGFuZGFyZFxuICAgICAgICAgICAgaWYgKFwicmVjZWl2ZXJcIiBpbiBvcHRpb25zKVxuICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCB0aGlzLmxlZ2FjeVNpZ25NZXNzYWdlKG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIG9wdGlvbnMucHJvdmlkZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyByZXF1ZXN0OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2lnblwiLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHJlY2lwaWVudDogb3B0aW9ucy5yZWNpcGllbnQsXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlOiBBcnJheS5mcm9tKG9wdGlvbnMubm9uY2UpLFxuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiB0aGlzLm5ldHdvcmtJZCxcbiAgICAgICAgICAgICAgICB9IH0pKTtcbiAgICAgICAgICAgIGlmICgoZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnBheWxvYWQpID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTaWduYXR1cmUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgY29uc3QgeyBwdWJsaWNLZXksIHNpZ25hdHVyZSwgYWNjb3VudElkIH0gPSBKU09OLnBhcnNlKGRhdGEucGF5bG9hZCk7XG4gICAgICAgICAgICByZXR1cm4geyBwdWJsaWNLZXksIHNpZ25hdHVyZSwgYWNjb3VudElkIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZWdhY3lTaWduTWVzc2FnZShfYSkge1xuICAgICAgICB2YXIgX2I7XG4gICAgICAgIHZhciB7IG1lc3NhZ2UsIHJlY2VpdmVyLCBub25jZSB9ID0gX2EsIGRlbGVnYXRlID0gX19yZXN0KF9hLCBbXCJtZXNzYWdlXCIsIFwicmVjZWl2ZXJcIiwgXCJub25jZVwiXSk7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAobm9uY2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCBub25jZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICAgICAgICAgICAgICAgIG5vbmNlID0gWy4uLmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobm9uY2VBcnJheSldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkICgoX2IgPSBkZWxlZ2F0ZS5wcm92aWRlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoZGVsZWdhdGUsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVsZWdhdGUpLCB7IHJlcXVlc3Q6IHsgdHlwZTogXCJzaWduXCIsIG1lc3NhZ2UsIHJlY2VpdmVyLCBub25jZSwgbmV0d29yazogdGhpcy5uZXR3b3JrSWQgfSB9KSkpO1xuICAgICAgICAgICAgaWYgKChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEucGF5bG9hZCkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiU2lnbmF0dXJlIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwdWJsaWNLZXksIHNpZ25hdHVyZSwgYWNjb3VudElkIH0gPSBKU09OLnBhcnNlKGRhdGEucGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbiA9IG5ldyBVaW50OEFycmF5KEJ1ZmZlci5mcm9tKHNpZ25hdHVyZSwgXCJiYXNlNjRcIikpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2UsIHJlY2VpdmVyLCBub25jZSB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSBuZXcgVWludDhBcnJheShqc19zaGEyNTZfMS5zaGEyNTYuZGlnZXN0KGBORVAwNDEzOmAgKyBqc29uKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNWZXJpZnkgPSBrZXlfcGFpcl8xLlB1YmxpY0tleS5mcm9tKHB1YmxpY0tleSkudmVyaWZ5KG1zZywgc2lnbik7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmVyaWZ5ID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2NvdW50ID0geWllbGQgdGhpcy5hY2NvdW50KGFjY291bnRJZCk7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IHlpZWxkIGFjY291bnQuZ2V0QWNjZXNzS2V5cygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBiID0gcHVibGljS2V5LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IGtleXMuc29tZSgoaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoay5wdWJsaWNfa2V5ICE9PSBwYilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGsuYWNjZXNzX2tleS5wZXJtaXNzaW9uICE9PSBcIkZ1bGxBY2Nlc3NcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogbmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmZyb20oc2lnbmF0dXJlLCBcImJhc2U2NFwiKSksXG4gICAgICAgICAgICAgICAgICAgIHB1YmxpY0tleToga2V5X3BhaXJfMS5QdWJsaWNLZXkuZnJvbShwdWJsaWNLZXkpLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgTkVQMDQxMzpgICsganNvbixcbiAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXIsXG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRJZCxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYykge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiU2lnbmF0dXJlIG5vdCBjb3JyZWN0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2lnbkFuZFNlbmRUcmFuc2FjdGlvbnMoX2EpIHtcbiAgICAgICAgdmFyIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfajtcbiAgICAgICAgdmFyIHsgdHJhbnNhY3Rpb25zIH0gPSBfYSwgZGVsZWdhdGUgPSBfX3Jlc3QoX2EsIFtcInRyYW5zYWN0aW9uc1wiXSk7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5zdHJhdGVneSA9IChfYiA9IGRlbGVnYXRlLnN0cmF0ZWd5KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmRlZmF1bHRTdHJhdGVneSgpO1xuICAgICAgICAgICAgZGVsZWdhdGUucHJvdmlkZXIgPSAoX2MgPSBkZWxlZ2F0ZS5wcm92aWRlcikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdGhpcy5kZWZhdWx0UHJvdmlkZXI7XG4gICAgICAgICAgICAoX2QgPSBkZWxlZ2F0ZS5vbkluaXRpYWxpemVkKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbChkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAoX2YgPSAoX2UgPSBkZWxlZ2F0ZS5zdHJhdGVneSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLm9uSW5pdGlhbGl6ZWQpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKF9lKTtcbiAgICAgICAgICAgIGxldCByZXN1bHRzID0gW107XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiB0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IHlpZWxkIHRoaXMuc2lsZW50U2lnbkFuZFNlbmRUcmFuc2FjdGlvbihjYWxsKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gcmVzdWx0LnRyYW5zYWN0aW9uX291dGNvbWUuaWQpLmpvaW4oXCIsXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSB7IHN0YXR1czogcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJTdGF0dXMuU1VDQ0VTUywgcGF5bG9hZCB9O1xuICAgICAgICAgICAgICAgIChfZyA9IGRlbGVnYXRlLm9uU3VjY2VzcykgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLmNhbGwoZGVsZWdhdGUsIHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIChfaiA9IChfaCA9IGRlbGVnYXRlLnN0cmF0ZWd5KSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2gub25TdWNjZXNzKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouY2FsbChfaCwgc3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHNpbGVudCBzaWduIHJldHVybiBhY2Nlc3MgZGVuaWVkIG9yIG5vdCBlbm91Z2ggYmFsYW5jZSB3ZSByZXF1ZXN0IG1vYmlsZSB3YWxsZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gT1IgaXRzIGp1c3QgdHJhbnNhY3Rpb24gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIEFjY2Vzc0RlbmllZCkgJiYgKGUgPT09IG51bGwgfHwgZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZS50eXBlKSAhPT0gXCJOb3RFbm91Z2hBbGxvd2FuY2VcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHV0aWxzXzEuaW50ZXJuYWxUaHJvdykoZSwgZGVsZWdhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bmNvbXBsZXRlZCA9IHRyYW5zYWN0aW9ucy5zbGljZShyZXN1bHRzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBkZWxlZ2F0ZS5wcm92aWRlcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlbGVnYXRlKSwgeyByZXF1ZXN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiB1bmNvbXBsZXRlZC5tYXAoKHRyeCkgPT4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdHJ4KSwgeyBhY3Rpb25zOiAoMCwgdXRpbHNfMS5zZXJpYWxpemVBY3Rpb25zKSh0cnguYWN0aW9ucykgfSkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXR3b3JrOiB0aGlzLm5ldHdvcmtJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5wYXlsb2FkID09IG51bGwgfHwgZGF0YS5hY2NvdW50X2lkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVHJhbnNhY3Rpb24gbm90IGZvdW5kLCBidXQgbWF5YmUgZXhlY3V0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBkYXRhLnBheWxvYWQuc3BsaXQoXCIsXCIpLm1hcCgoaWQpID0+IHRoaXMucnBjLnR4U3RhdHVzKGlkLCBkYXRhLmFjY291bnRfaWQpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCB1dGlsc18xLmludGVybmFsVGhyb3cpKGVycm9yLCBkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5IZXJlV2FsbGV0ID0gSGVyZVdhbGxldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdhbGxldC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@here-wallet/core/build/wallet.js\n");

/***/ })

};
;